[
  {
    "__docId__": 0,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/controller/authorization.js",
    "memberof": null,
    "longname": "src/controller/authorization.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import NPROneSDK from './../index';\nimport AccessToken from './../model/access-token';\nimport DeviceCode from './../model/device-code';\nimport Logger from './../util/logger';\nimport FetchUtil from './../util/fetch-util';\nimport ApiError from './../error/api-error';\n\n\n/**\n * Simulates a delay by wrapping a Promise around JavaScript's native `setTimeout` function.\n *\n * @param {number} ms The amount of time to delay for, in milliseconds\n * @returns {Promise}\n * @private\n */\nconst delay = ms => new Promise(r => setTimeout(r, ms));\n\n\n/**\n * Encapsulates all of the logic for communication with the [Authorization Service](https://dev.npr.org/api/#/authorization)\n * in the NPR One API.\n *\n * Note that consumers should not be accessing this class directly but should instead use the provided pass-through\n * functions in the main {@link NprOneSDK} class.\n *\n * @example <caption>Rudimentary example of implementing the Device Code flow</caption>\n * const nprOneSDK = new NprOneSDK();\n * nprOneSDK.config = { ... };\n * const scopes = ['identity.readonly', 'identity.write', 'listening.readonly', 'listening.write'];\n * nprOneSDK.getDeviceCode(scopes)\n *     .then((deviceCodeModel) => {\n *         // display code to user on the screen\n *         nprOneSDK.pollDeviceCode()\n *             .then(() => {\n *                 nprOneSDK.getRecommendation();\n *             });\n *      })\n *     .catch(() => {\n *         nprOneSDK.getDeviceCode(scopes).then(...); // repeat ad infinitum until `pollDeviceCode()` resolves successfully\n *         // In actual use, it may be preferable to refactor this into a recursive function\n *     ));\n */\nexport default class Authorization {\n    /**\n     * Initializes the controller class with private variables needed later on.\n     */\n    constructor() {\n        /** @type {null|DeviceCode} The device code model for the currently-active device code grant\n         * @private */\n        this._activeDeviceCodeModel = null;\n    }\n\n    /**\n     * Attempts to swap the existing access token for a new one using the refresh token endpoint in the OAuth proxy\n     *\n     * @param {number} [numRetries=0]   The number of times this function has been tried. Will retry up to 3 times.\n     * @returns {Promise<AccessToken>}\n     * @throws {TypeError} if an OAuth proxy is not configured or no access token is set\n     */\n    static refreshExistingAccessToken(numRetries = 0) {\n        if (!NPROneSDK.config.authProxyBaseUrl) {\n            throw new TypeError('OAuth proxy not configured. Unable to refresh the access token.');\n        }\n        if (!NPROneSDK.accessToken) {\n            throw new TypeError('An access token must be set in order to attempt a refresh.');\n        }\n\n        Logger.debug('Access token appears to have expired. Attempting to generate a fresh one.');\n\n        const url = `${NPROneSDK.config.authProxyBaseUrl}${NPROneSDK.config.refreshTokenPath}`;\n        const options = {\n            method: 'POST',\n            credentials: 'include',\n        };\n\n        return FetchUtil.nprApiFetch(url, options)\n            .then((json) => {\n                const tokenModel = new AccessToken(json);\n                tokenModel.validate(); // throws exception if invalid\n                Logger.debug('Access token refresh was successful, new token:',\n                    tokenModel.toString());\n                NPROneSDK.accessToken = tokenModel.token;\n                return tokenModel; // never directly consumed, but useful for testing\n            })\n            .catch((err) => {\n                Logger.debug('Error generating a new token in refreshExistingAccessToken()');\n                Logger.debug(err);\n\n                if (numRetries < 2) {\n                    Logger.debug('refreshExistingAccessToken() will make another attempt');\n                    return delay(5000)\n                        .then(Authorization.refreshExistingAccessToken.bind(this, numRetries + 1));\n                }\n\n                // rethrow\n                Logger.debug('refreshExistingAccessToken() has made too many attempts, aborting');\n                return Promise.reject(err);\n            });\n    }\n\n    /**\n     * Logs out the user, revoking their access token from the authorization server and removing the refresh token from\n     * the secure storage in the backend proxy (if a backend proxy is configured). Note that the consuming client is\n     * still responsible for removing the access token anywhere else it might be stored outside of this SDK (e.g. in\n     * localStorage or elsewhere in application memory).\n     *\n     * @returns {Promise}\n     * @throws {TypeError} if an OAuth proxy is not configured or no access token is currently set\n     */\n    logout() {\n        if (!NPROneSDK.accessToken) {\n            throw new TypeError('An access token must be set in order to attempt a logout.');\n        }\n        if (!NPROneSDK.config.authProxyBaseUrl) {\n            throw new TypeError('OAuth proxy not configured. Unable to securely log out the user.');\n        }\n\n        const url = `${NPROneSDK.config.authProxyBaseUrl}${NPROneSDK.config.logoutPath}`;\n        const options = {\n            method: 'POST',\n            credentials: 'include',\n            body: `token=${NPROneSDK.accessToken}`,\n            headers: {\n                Accept: 'application/json, application/xml, text/plain, text/html, *.*',\n                'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8',\n            },\n        };\n\n        return fetch(url, options) // we cannot use FetchUtil.nprApiFetch() here because the success response has an empty body\n            .then((response) => {\n                if (response.ok) {\n                    NPROneSDK.accessToken = '';\n                    return true;\n                }\n                return FetchUtil.formatErrorResponse(response);\n            });\n    }\n\n    /**\n     * Uses the OAuth proxy to start a `device_code` grant flow. This function _just_ makes an API call that produces a\n     * device code/user code pair, and should be followed up with a call to {@link pollDeviceCode} in order to complete\n     * the process.\n     *\n     * Note that device code/user code pairs do expire after a set time, so the consuming client may need to call these\n     * 2 functions multiple times before the user logs in. It is a good idea to encapsulate them in a function which\n     * can be called recursively on errors; see the example below for details.\n     *\n     * @example\n     * function logInViaDeviceCode(scopes) {\n     *     nprOneSDK.getDeviceCode(scopes)\n     *         .then((deviceCodeModel) => {\n     *             displayCodeToUser(deviceCodeModel); // display code to user on the screen\n     *             nprOneSDK.pollDeviceCode()\n     *                 .then(() => {\n     *                     startPlayingAudio(); // you're now ready to call `nprOneSDK.getRecommendation()` elsewhere in your app\n     *                 }).catch(logInViaDeviceCode.bind(this, scopes)); // recursively call this function until the user logs in\n     *         });\n     * }\n     *\n     * @see https://dev.npr.org/guide/services/authorization/#device_code\n     *\n     * @param {Array<string>} [scopes=[]]   The scopes (as strings) that should be associated with the resulting access token\n     * @returns {Promise<DeviceCode>}\n     * @throws {TypeError} if an OAuth proxy is not configured\n     */\n    getDeviceCode(scopes = []) {\n        if (!NPROneSDK.config.authProxyBaseUrl) {\n            throw new TypeError('OAuth proxy not configured. Unable to use the device code.');\n        }\n\n        const url = `${NPROneSDK.config.authProxyBaseUrl}${NPROneSDK.config.newDeviceCodePath}`;\n        const options = {\n            method: 'POST',\n            credentials: 'include',\n            body: `scope=${encodeURIComponent(scopes.join(' ')).replace('%20', '+')}`,\n            headers: {\n                Accept: 'application/json, application/xml, text/plain, text/html, *.*',\n                'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8',\n            },\n        };\n\n        return FetchUtil.nprApiFetch(url, options)\n            .then((json) => {\n                const deviceCodeModel = new DeviceCode(json);\n                deviceCodeModel.validate(); // throws exception if invalid\n                this._activeDeviceCodeModel = deviceCodeModel;\n                return deviceCodeModel;\n            });\n    }\n\n    /**\n     * Uses the OAuth proxy to poll the access token endpoint as part of a `device_code` grant flow. This endpoint will\n     * continue to poll until the user successfully logs in, _or_ the user goes to log in but then denies the request\n     * for access to their account by this client, _or_ the device code/user code pair expires, whichever comes first.\n     * In the first case, it will automatically set {@link NPROneSDK.accessToken} to the newly-generated access token,\n     * and the consuming client can proceed to play recommendations immediately; in the other 2 cases, it will return\n     * a Promise that rejects with a debugging message, but the next course of action would generally be to call\n     * {@link getDeviceCode} again and start the whole process from the top.\n     *\n     * @example\n     * function logInViaDeviceCode(scopes) {\n     *     nprOneSDK.getDeviceCode(scopes)\n     *         .then((deviceCodeModel) => {\n     *             displayCodeToUser(deviceCodeModel); // display code to user on the screen\n     *             nprOneSDK.pollDeviceCode()\n     *                 .then(() => {\n     *                     startPlayingAudio(); // you're now ready to call `nprOneSDK.getRecommendation()` elsewhere in your app\n     *                 }).catch(logInViaDeviceCode.bind(this, scopes)); // recursively call this function until the user logs in\n     *         });\n     * }\n     *\n     * @see https://dev.npr.org/guide/services/authorization/#device_code\n     *\n     * @returns {Promise<AccessToken>}\n     * @throws {TypeError} if an OAuth proxy is not configured or `getDeviceCode()` was not previously called\n     */\n    pollDeviceCode() {\n        Logger.debug('Starting to poll device code. Will poll until user logs in or code expires'); // eslint-disable-line max-len\n\n        if (!NPROneSDK.config.authProxyBaseUrl) {\n            throw new TypeError('OAuth proxy not configured. Unable to use the device code.');\n        }\n        if (!this._activeDeviceCodeModel) {\n            throw new TypeError('No active device code set. Please call getDeviceCode() before calling this function.'); // eslint-disable-line max-len\n        }\n\n        return this._pollDeviceCodeOnce();\n    }\n\n    /**\n     * Polls the device code once. If the result is an error of type `'authorization_pending'`, this will recurse,\n     * calling itself after a delay equal to the interval specified in the original call to {@link getDeviceCode}.\n     *\n     * @returns {Promise<AccessToken>}\n     * @private\n     */\n    _pollDeviceCodeOnce() {\n        Logger.debug('Polling device code once');\n\n        if (this._activeDeviceCodeModel.isExpired()) {\n            return Promise.reject('The device code has expired. Please generate a new one before continuing.'); // eslint-disable-line max-len\n        }\n\n        const url = `${NPROneSDK.config.authProxyBaseUrl}${NPROneSDK.config.pollDeviceCodePath}`;\n        const options = {\n            method: 'POST',\n            credentials: 'include',\n        };\n\n        return FetchUtil.nprApiFetch(url, options)\n            .then((json) => {\n                Logger.debug('Device code poll returned successfully! An access token was returned.'); // eslint-disable-line max-len\n\n                const tokenModel = new AccessToken(json);\n                tokenModel.validate(); // throws exception if invalid\n                NPROneSDK.accessToken = tokenModel.token;\n                return tokenModel; // never directly consumed, but useful for testing\n            })\n            .catch((error) => {\n                if (error instanceof ApiError) {\n                    if (error.statusCode === 401) {\n                        if (error.json.type === 'authorization_pending') {\n                            return delay(this._activeDeviceCodeModel.interval)\n                                .then(this._pollDeviceCodeOnce.bind(this));\n                        }\n                        Logger.debug('The response was a 401, but not of type \"authorization_pending\". The user presumably denied the app access; rejecting.'); // eslint-disable-line max-len\n                    } else {\n                        Logger.debug('Response was not a 401. The device code has probably expired; rejecting.'); // eslint-disable-line max-len\n                    }\n                } else {\n                    Logger.debug('An unknown type of error was received. Unsure of how to respond; rejecting.'); // eslint-disable-line max-len\n                }\n                return Promise.reject(error);\n            });\n    }\n}\n"
  },
  {
    "__docId__": 1,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "delay",
    "memberof": "src/controller/authorization.js",
    "longname": "src/controller/authorization.js~delay",
    "access": "private",
    "export": false,
    "importPath": "@npr/npr-one-sdk/controller/authorization.js",
    "importStyle": null,
    "description": "Simulates a delay by wrapping a Promise around JavaScript's native `setTimeout` function.",
    "lineNumber": 16,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "number"
        ],
        "spread": false,
        "optional": false,
        "name": "ms",
        "description": "The amount of time to delay for, in milliseconds"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise"
      ],
      "spread": false,
      "description": ""
    },
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 2,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "Authorization",
    "memberof": "src/controller/authorization.js",
    "longname": "src/controller/authorization.js~Authorization",
    "access": null,
    "export": true,
    "importPath": "@npr/npr-one-sdk/controller/authorization.js",
    "importStyle": "Authorization",
    "description": "Encapsulates all of the logic for communication with the [Authorization Service](https://dev.npr.org/api/#/authorization)\nin the NPR One API.\n\nNote that consumers should not be accessing this class directly but should instead use the provided pass-through\nfunctions in the main {@link NprOneSDK} class.",
    "examples": [
      "<caption>Rudimentary example of implementing the Device Code flow</caption>\nconst nprOneSDK = new NprOneSDK();\nnprOneSDK.config = { ... };\nconst scopes = ['identity.readonly', 'identity.write', 'listening.readonly', 'listening.write'];\nnprOneSDK.getDeviceCode(scopes)\n    .then((deviceCodeModel) => {\n        // display code to user on the screen\n        nprOneSDK.pollDeviceCode()\n            .then(() => {\n                nprOneSDK.getRecommendation();\n            });\n     })\n    .catch(() => {\n        nprOneSDK.getDeviceCode(scopes).then(...); // repeat ad infinitum until `pollDeviceCode()` resolves successfully\n        // In actual use, it may be preferable to refactor this into a recursive function\n    ));"
    ],
    "lineNumber": 43,
    "interface": false
  },
  {
    "__docId__": 3,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/controller/authorization.js~Authorization",
    "longname": "src/controller/authorization.js~Authorization#constructor",
    "access": null,
    "description": "Initializes the controller class with private variables needed later on.",
    "lineNumber": 47,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 4,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_activeDeviceCodeModel",
    "memberof": "src/controller/authorization.js~Authorization",
    "longname": "src/controller/authorization.js~Authorization#_activeDeviceCodeModel",
    "access": "private",
    "description": null,
    "lineNumber": 50,
    "type": {
      "nullable": null,
      "types": [
        "null",
        "DeviceCode"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 5,
    "kind": "method",
    "static": true,
    "variation": null,
    "name": "refreshExistingAccessToken",
    "memberof": "src/controller/authorization.js~Authorization",
    "longname": "src/controller/authorization.js~Authorization.refreshExistingAccessToken",
    "access": null,
    "description": "Attempts to swap the existing access token for a new one using the refresh token endpoint in the OAuth proxy",
    "lineNumber": 60,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<AccessToken>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "number"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "0",
        "defaultRaw": 0,
        "name": "numRetries",
        "description": "The number of times this function has been tried. Will retry up to 3 times."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<AccessToken>"
      ],
      "spread": false,
      "description": ""
    },
    "throws": [
      {
        "types": [
          "TypeError"
        ],
        "description": "if an OAuth proxy is not configured or no access token is set"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 6,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "logout",
    "memberof": "src/controller/authorization.js~Authorization",
    "longname": "src/controller/authorization.js~Authorization#logout",
    "access": null,
    "description": "Logs out the user, revoking their access token from the authorization server and removing the refresh token from\nthe secure storage in the backend proxy (if a backend proxy is configured). Note that the consuming client is\nstill responsible for removing the access token anywhere else it might be stored outside of this SDK (e.g. in\nlocalStorage or elsewhere in application memory).",
    "lineNumber": 110,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise}"
      }
    ],
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "Promise"
      ],
      "spread": false,
      "description": ""
    },
    "throws": [
      {
        "types": [
          "TypeError"
        ],
        "description": "if an OAuth proxy is not configured or no access token is currently set"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 7,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getDeviceCode",
    "memberof": "src/controller/authorization.js~Authorization",
    "longname": "src/controller/authorization.js~Authorization#getDeviceCode",
    "access": null,
    "description": "Uses the OAuth proxy to start a `device_code` grant flow. This function _just_ makes an API call that produces a\ndevice code/user code pair, and should be followed up with a call to {@link pollDeviceCode} in order to complete\nthe process.\n\nNote that device code/user code pairs do expire after a set time, so the consuming client may need to call these\n2 functions multiple times before the user logs in. It is a good idea to encapsulate them in a function which\ncan be called recursively on errors; see the example below for details.",
    "examples": [
      "function logInViaDeviceCode(scopes) {\n    nprOneSDK.getDeviceCode(scopes)\n        .then((deviceCodeModel) => {\n            displayCodeToUser(deviceCodeModel); // display code to user on the screen\n            nprOneSDK.pollDeviceCode()\n                .then(() => {\n                    startPlayingAudio(); // you're now ready to call `nprOneSDK.getRecommendation()` elsewhere in your app\n                }).catch(logInViaDeviceCode.bind(this, scopes)); // recursively call this function until the user logs in\n        });\n}"
    ],
    "see": [
      "https://dev.npr.org/guide/services/authorization/#device_code"
    ],
    "lineNumber": 166,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<DeviceCode>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Array<string>"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "[]",
        "defaultRaw": [],
        "name": "scopes",
        "description": "The scopes (as strings) that should be associated with the resulting access token"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<DeviceCode>"
      ],
      "spread": false,
      "description": ""
    },
    "throws": [
      {
        "types": [
          "TypeError"
        ],
        "description": "if an OAuth proxy is not configured"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 8,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_activeDeviceCodeModel",
    "memberof": "src/controller/authorization.js~Authorization",
    "longname": "src/controller/authorization.js~Authorization#_activeDeviceCodeModel",
    "access": null,
    "description": null,
    "lineNumber": 186,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 9,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "pollDeviceCode",
    "memberof": "src/controller/authorization.js~Authorization",
    "longname": "src/controller/authorization.js~Authorization#pollDeviceCode",
    "access": null,
    "description": "Uses the OAuth proxy to poll the access token endpoint as part of a `device_code` grant flow. This endpoint will\ncontinue to poll until the user successfully logs in, _or_ the user goes to log in but then denies the request\nfor access to their account by this client, _or_ the device code/user code pair expires, whichever comes first.\nIn the first case, it will automatically set {@link NPROneSDK.accessToken} to the newly-generated access token,\nand the consuming client can proceed to play recommendations immediately; in the other 2 cases, it will return\na Promise that rejects with a debugging message, but the next course of action would generally be to call\n{@link getDeviceCode} again and start the whole process from the top.",
    "examples": [
      "function logInViaDeviceCode(scopes) {\n    nprOneSDK.getDeviceCode(scopes)\n        .then((deviceCodeModel) => {\n            displayCodeToUser(deviceCodeModel); // display code to user on the screen\n            nprOneSDK.pollDeviceCode()\n                .then(() => {\n                    startPlayingAudio(); // you're now ready to call `nprOneSDK.getRecommendation()` elsewhere in your app\n                }).catch(logInViaDeviceCode.bind(this, scopes)); // recursively call this function until the user logs in\n        });\n}"
    ],
    "see": [
      "https://dev.npr.org/guide/services/authorization/#device_code"
    ],
    "lineNumber": 217,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<AccessToken>}"
      }
    ],
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "Promise<AccessToken>"
      ],
      "spread": false,
      "description": ""
    },
    "throws": [
      {
        "types": [
          "TypeError"
        ],
        "description": "if an OAuth proxy is not configured or `getDeviceCode()` was not previously called"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 10,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "_pollDeviceCodeOnce",
    "memberof": "src/controller/authorization.js~Authorization",
    "longname": "src/controller/authorization.js~Authorization#_pollDeviceCodeOnce",
    "access": "private",
    "description": "Polls the device code once. If the result is an error of type `'authorization_pending'`, this will recurse,\ncalling itself after a delay equal to the interval specified in the original call to {@link getDeviceCode}.",
    "lineNumber": 237,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<AccessToken>}"
      }
    ],
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "Promise<AccessToken>"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 11,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/controller/identity.js",
    "memberof": null,
    "longname": "src/controller/identity.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import NPROneSDK from './../index';\nimport FetchUtil from './../util/fetch-util';\nimport User from './../model/user';\nimport Logger from './../util/logger';\nimport AccessToken from './../model/access-token';\nimport StationFinder from './station-finder';\n\n\n/**\n * Encapsulates all of the logic for communication with the [Identity Service](https://dev.npr.org/api/#/identity)\n * in the NPR One API.\n *\n * Note that consumers should not be accessing this class directly but should instead use the provided pass-through\n * functions in the main {@link NprOneSDK} class.\n *\n * @example <caption>How to change a user's station using station search</caption>\n * const nprOneSDK = new NprOneSDK();\n * nprOneSDK.config = { ... };\n * nprOneSDK.getUser() // optional; verifies that you have a logged-in user\n *     .then(() => {\n *        return nprOneSDK.searchStations('wnyc');\n *     })\n *     .then((stations) => {\n *         const stationId = stations[0].id; // in reality, you'd probably have the user select a station, see the StationFinder for detail\n *         nprOneSDK.setUserStation(stationId);\n *     });\n */\nexport default class Identity {\n    /**\n     * Gets user metadata, such as first and last name, programs they have shown an affinity for, and preferred NPR One\n     * station.\n     *\n     * @returns {Promise<User>}\n     */\n    getUser() {\n        const url = `${NPROneSDK.getServiceUrl('identity')}/user`;\n\n        return FetchUtil.nprApiFetch(url).then(json => new User(json));\n    }\n\n    /**\n     * Sets a user's favorite NPR station. Note that this function will first validate whether the station with the given\n     * ID actually exists, and will return a promise that rejects if not.\n     *\n     * @param {number|string} stationId   The station's ID, which is either an integer or a numeric string (e.g. `123` or `'123'`)\n     * @returns {Promise<User>}\n     */\n    setUserStation(stationId) {\n        return StationFinder.validateStation(stationId)\n            .then(() => {\n                const url = `${NPROneSDK.getServiceUrl('identity')}/stations`;\n                const options = {\n                    method: 'PUT',\n                    body: JSON.stringify([stationId]),\n                };\n                return FetchUtil.nprApiFetch(url, options).then(json => new User(json));\n            })\n            .catch((e) => {\n                Logger.debug('setUserStation failed, message: ', e);\n                return Promise.reject(e);\n            });\n    }\n\n    /**\n     * Indicates that the user wishes to follow, or subscribe to, the show, program, or podcast with the given numeric\n     * ID. Followed shows will appear more frequently in a user's list of recommendations.\n     *\n     * Note that at this time, because we have not yet implemented search in this SDK, there is no way to retrieve a list\n     * of aggregation (show) IDs through this SDK. You can either add functionality to your own app that makes an API call\n     * to `GET https://api.npr.org/listening/v2/search/recommendations` with a program name or other search parameters, or\n     * wait until we implement search in this SDK (hopefully later this year).\n     *\n     * @param {number|string} aggregationId    The aggregation (show) ID, which is either an integer or a numeric string (e.g. `123` or `'123'`)\n     * @returns {Promise<User>}\n     * @throws {TypeError} if the passed-in aggregation (show) ID is not either a number or a numeric string\n     */\n    followShow(aggregationId) {\n        return this._setFollowingStatusForShow(aggregationId, true);\n    }\n\n    /**\n     * Indicates that the user wishes to unfollow, or unsubscribe from, the show, program, or podcast with the given\n     * numeric ID. See {@link followShow} for more information.\n     *\n     * @param {number|string} aggregationId    The aggregation (show) ID, which is either an integer or a numeric string (e.g. `123` or `'123'`)\n     * @returns {Promise<User>}\n     * @throws {TypeError} if the passed-in aggregation (show) ID is not either a number or a numeric string\n     */\n    unfollowShow(aggregationId) {\n        return this._setFollowingStatusForShow(aggregationId, false);\n    }\n\n    /**\n     * Primary workhorse for {@link followShow} and {@link unfollowShow}.\n     *\n     * @param {number|string} aggregationId    The aggregation (show) ID, which is either an integer or a numeric string (e.g. `123` or `'123'`)\n     * @param {boolean} shouldFollow           Whether or not the aggregation should be followed (`true`) or unfollowed (`false`)\n     * @returns {Promise<User>}\n     * @throws {TypeError} if the passed-in aggregation (show) ID is not either a number or a numeric string\n     * @private\n     */\n    _setFollowingStatusForShow(aggregationId, shouldFollow) {\n        const n = parseInt(aggregationId, 10);\n        if (isNaN(n) || !isFinite(n)) {\n            throw new TypeError('Aggregation (show) ID must be an integer greater than 0');\n        }\n\n        const data = {\n            id: aggregationId,\n            following: shouldFollow,\n        };\n\n        const url = `${NPROneSDK.getServiceUrl('identity')}/following`;\n        const options = {\n            method: 'POST',\n            body: JSON.stringify(data),\n        };\n\n        return FetchUtil.nprApiFetch(url, options).then(json => new User(json));\n    }\n\n    /**\n     * Creates a temporary user from the NPR One API and use that user's access token for\n     * subsequent API requests.\n     *\n     * Caution: most clients are not authorized to use temporary users.\n     *\n     * @returns {Promise<User>}\n     * @throws {TypeError} if an OAuth proxy is not configured or no client ID is set\n     */\n    createTemporaryUser() {\n        if (!NPROneSDK.config.authProxyBaseUrl) {\n            throw new TypeError('OAuth proxy not configured. Unable to create temporary users.');\n        }\n        if (!NPROneSDK.config.clientId) {\n            throw new TypeError('A client ID must be set for temporary user requests.');\n        }\n\n        let url = `${NPROneSDK.config.authProxyBaseUrl}${NPROneSDK.config.tempUserPath}`;\n        const glueCharacter = url.indexOf('?') >= 0 ? '&' : '?';\n        url = `${url}${glueCharacter}clientId=${NPROneSDK.config.clientId}`;\n\n        const options = {\n            credentials: 'include',\n        };\n\n        return FetchUtil.nprApiFetch(url, options)\n            .then((json) => {\n                const tokenModel = new AccessToken(json);\n                tokenModel.validate(); // throws exception if invalid\n                NPROneSDK.accessToken = tokenModel.token;\n                return tokenModel; // never directly consumed, but useful for testing\n            });\n    }\n}\n"
  },
  {
    "__docId__": 12,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "Identity",
    "memberof": "src/controller/identity.js",
    "longname": "src/controller/identity.js~Identity",
    "access": null,
    "export": true,
    "importPath": "@npr/npr-one-sdk/controller/identity.js",
    "importStyle": "Identity",
    "description": "Encapsulates all of the logic for communication with the [Identity Service](https://dev.npr.org/api/#/identity)\nin the NPR One API.\n\nNote that consumers should not be accessing this class directly but should instead use the provided pass-through\nfunctions in the main {@link NprOneSDK} class.",
    "examples": [
      "<caption>How to change a user's station using station search</caption>\nconst nprOneSDK = new NprOneSDK();\nnprOneSDK.config = { ... };\nnprOneSDK.getUser() // optional; verifies that you have a logged-in user\n    .then(() => {\n       return nprOneSDK.searchStations('wnyc');\n    })\n    .then((stations) => {\n        const stationId = stations[0].id; // in reality, you'd probably have the user select a station, see the StationFinder for detail\n        nprOneSDK.setUserStation(stationId);\n    });"
    ],
    "lineNumber": 28,
    "interface": false
  },
  {
    "__docId__": 13,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getUser",
    "memberof": "src/controller/identity.js~Identity",
    "longname": "src/controller/identity.js~Identity#getUser",
    "access": null,
    "description": "Gets user metadata, such as first and last name, programs they have shown an affinity for, and preferred NPR One\nstation.",
    "lineNumber": 35,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<User>}"
      }
    ],
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "Promise<User>"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 14,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "setUserStation",
    "memberof": "src/controller/identity.js~Identity",
    "longname": "src/controller/identity.js~Identity#setUserStation",
    "access": null,
    "description": "Sets a user's favorite NPR station. Note that this function will first validate whether the station with the given\nID actually exists, and will return a promise that rejects if not.",
    "lineNumber": 48,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<User>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "number",
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "stationId",
        "description": "The station's ID, which is either an integer or a numeric string (e.g. `123` or `'123'`)"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<User>"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 15,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "followShow",
    "memberof": "src/controller/identity.js~Identity",
    "longname": "src/controller/identity.js~Identity#followShow",
    "access": null,
    "description": "Indicates that the user wishes to follow, or subscribe to, the show, program, or podcast with the given numeric\nID. Followed shows will appear more frequently in a user's list of recommendations.\n\nNote that at this time, because we have not yet implemented search in this SDK, there is no way to retrieve a list\nof aggregation (show) IDs through this SDK. You can either add functionality to your own app that makes an API call\nto `GET https://api.npr.org/listening/v2/search/recommendations` with a program name or other search parameters, or\nwait until we implement search in this SDK (hopefully later this year).",
    "lineNumber": 77,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<User>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "number",
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "aggregationId",
        "description": "The aggregation (show) ID, which is either an integer or a numeric string (e.g. `123` or `'123'`)"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<User>"
      ],
      "spread": false,
      "description": ""
    },
    "throws": [
      {
        "types": [
          "TypeError"
        ],
        "description": "if the passed-in aggregation (show) ID is not either a number or a numeric string"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 16,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "unfollowShow",
    "memberof": "src/controller/identity.js~Identity",
    "longname": "src/controller/identity.js~Identity#unfollowShow",
    "access": null,
    "description": "Indicates that the user wishes to unfollow, or unsubscribe from, the show, program, or podcast with the given\nnumeric ID. See {@link followShow} for more information.",
    "lineNumber": 89,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<User>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "number",
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "aggregationId",
        "description": "The aggregation (show) ID, which is either an integer or a numeric string (e.g. `123` or `'123'`)"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<User>"
      ],
      "spread": false,
      "description": ""
    },
    "throws": [
      {
        "types": [
          "TypeError"
        ],
        "description": "if the passed-in aggregation (show) ID is not either a number or a numeric string"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 17,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "_setFollowingStatusForShow",
    "memberof": "src/controller/identity.js~Identity",
    "longname": "src/controller/identity.js~Identity#_setFollowingStatusForShow",
    "access": "private",
    "description": "Primary workhorse for {@link followShow} and {@link unfollowShow}.",
    "lineNumber": 102,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<User>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "number",
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "aggregationId",
        "description": "The aggregation (show) ID, which is either an integer or a numeric string (e.g. `123` or `'123'`)"
      },
      {
        "nullable": null,
        "types": [
          "boolean"
        ],
        "spread": false,
        "optional": false,
        "name": "shouldFollow",
        "description": "Whether or not the aggregation should be followed (`true`) or unfollowed (`false`)"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<User>"
      ],
      "spread": false,
      "description": ""
    },
    "throws": [
      {
        "types": [
          "TypeError"
        ],
        "description": "if the passed-in aggregation (show) ID is not either a number or a numeric string"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 18,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "createTemporaryUser",
    "memberof": "src/controller/identity.js~Identity",
    "longname": "src/controller/identity.js~Identity#createTemporaryUser",
    "access": null,
    "description": "Creates a temporary user from the NPR One API and use that user's access token for\nsubsequent API requests.\n\nCaution: most clients are not authorized to use temporary users.",
    "lineNumber": 131,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<User>}"
      }
    ],
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "Promise<User>"
      ],
      "spread": false,
      "description": ""
    },
    "throws": [
      {
        "types": [
          "TypeError"
        ],
        "description": "if an OAuth proxy is not configured or no client ID is set"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 19,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/controller/listening.js",
    "memberof": null,
    "longname": "src/controller/listening.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import NPROneSDK from './../index';\nimport createRecommendations from './../util/recommendation-creator';\nimport Action from './../model/action';\nimport Rating from './../model/rating';\nimport Logger from './../util/logger';\nimport FetchUtil from './../util/fetch-util';\n\n\n/**\n * Encapsulates all of the logic for communication with the [Listening Service](https://dev.npr.org/api/#/listening)\n * in the NPR One API.\n *\n * Note that consumers should not be accessing this class directly but should instead use the provided pass-through\n * functions in the main {@link NprOneSDK} class.\n *\n * @example <caption>Implementing a rudimentary 'Explore' view</caption>\n * const nprOneSDK = new NprOneSDK();\n * nprOneSDK.config = { ... };\n * nprOneSDK.getRecommendationsFromChannel('recommended')\n *     .then((recommendations) => {\n *         // in a real app, the user would select a piece; here we've simulated them selecting one at index 3\n *         const selectedRecommendationId = recommendations[3].attributes.uid;\n *         return nprOneSDK.queueRecommendationFromChannel('recommended', selectedRecommendationId);\n *      })\n *     .then(() => {\n *         nprOneSDK.getRecommendation(); // proceed to play the recommendation\n *     });\n */\nexport default class Listening {\n    /**\n     * Initializes the controller class with private variables needed later on.\n     */\n    constructor() {\n        /** @type {Rating[]} Ratings which are queued to be sent to NPR\n         * @private */\n        this._queuedRatings = [];\n        /** @type {Rating[]} Ratings which have already been sent, for debugging purposes\n         * @private */\n        this._sentRatings = [];\n        /** @type {Array<Recommendation>} Unrated recommendations which represent the latest\n         *  recommendations from the API, relies heavily upon numeric key/index\n         * @private */\n        this._flowRecommendations = [];\n        /** @type {boolean} Flow fetches need to be synchronous\n         * @private */\n        this._flowFetchActive = false;\n        /** @type {Promise<Recommendation>}\n         * @private */\n        this._flowPromise = null;\n        /** @type {boolean} Whether ads are blocked by the browser.\n         * @private */\n        this._adsBlocked = false;\n        /** @type {Object} Cached recommendations from channels other than the main flow channel of 'npr'.\n         * A key-value store where the key is the name of the channel and the value is an array of recommendations.\n         * @private */\n        this._channelRecommendations = {};\n\n        // Ad-blocker detection, used when/if we encounter sponsorship in the flow\n        fetch('https://adswizz.com', { mode: 'no-cors' })\n            .catch(() => {\n                fetch('https://delivery-s3.adswizz.com', { mode: 'no-cors' })\n                    .catch(e => {\n                        Logger.debug('Ads are blocked. ', e);\n                        this._adsBlocked = true;\n                    });\n            });\n    }\n\n    /**\n     * Get a recommendation from NPR.\n     *\n     * Caution: the resulting recommendation may have been returned previously and must be checked\n     * to ensure the same recommendation is not played twice.\n     *\n     * @param {string} [uid='']           Optional; a UID for a specific recommendation to play. In 99% of use cases, this is not needed.\n     * @param {string} [channel='npr']    Optional; a channel to pull the recommendation from; the main flow channel of `npr` is used as the default. In 99% of use cases, this does not need to be changed.\n     * @returns {Promise<Recommendation>}\n     */\n    getRecommendation(uid = '', channel = 'npr') {\n        this._flowPromise = this._advanceFlowRecommendations(channel, uid);\n\n        return this._flowPromise;\n    }\n\n    /**\n     * Return possible recommendations that may come next in the flow. Useful for\n     * pre-caching audio and displaying upcoming recommendations.\n     *\n     * Recommendations returned are not guaranteed to always come next in the flow.\n     *\n     * @experimental\n     * @param {string} [channel='npr']   A channel to pull the next recommendation from\n     * @returns {Promise<Array<Recommendation>>}\n     */\n    getUpcomingFlowRecommendations(channel = 'npr') {\n        if (this._flowRecommendations.length > 0) {\n            return Promise.resolve(this._flowRecommendations);\n        }\n\n        return this._getChannelRecommendations(channel);\n    }\n\n    /**\n     * Makes a new API call to get a list of recommendations. This is NOT intended for regular piece-by-piece consumption;\n     * this function is designed to be used for consumers implementing e.g. the Explore view from the NPR One apps,\n     * where the client displays a list or grid of content, and the user can select a piece to listen to next.\n     * It is hard-coded to use the \"recommended\" channel by default, although other channels can be used also. That said,\n     * you should really never use this with channel \"npr\" (the main flow channel), as this is not how that content is\n     * intended to be consumed.\n     *\n     * @param {string} [channel='recommended']   A non-flow (i.e. non-`npr`) channel to retrieve a list of recommendations from\n     * @returns {Promise<Array<Recommendation>>}\n     */\n    getRecommendationsFromChannel(channel = 'recommended') {\n        const _channel = (!channel || typeof channel !== 'string') ? 'recommended' : channel;\n\n        let prerequisitePromise = Promise.resolve(true);\n        // Send any pending ratings we have first, just in case it impacts the results from the upcoming recommendations call\n        if (this._queuedRatings.length > 0) {\n            prerequisitePromise = this._sendRatings();\n        }\n\n        return prerequisitePromise.then(this._getChannelRecommendations.bind(this, _channel, null))\n            .then((recommendations) => {\n                /* istanbul ignore if: defensive coding; should never really happen */\n                if (!this._channelRecommendations) {\n                    this._channelRecommendations = {};\n                }\n                this._channelRecommendations[_channel] = recommendations;\n                return recommendations;\n            });\n    }\n\n    /**\n     * This synchronous method is intended to be used alongside {@link getRecommendationsFromChannel}.\n     * Once you have a list of recommendations from a channel and an audio story has been selected to play, this method\n     * ensures that the correct ratings (actions) will be sent and the flow of audio will continue appropriately with\n     * the necessary API calls.\n     * If the recommendation with the given UID can be found, it is delivered immediately to be played.\n     * Importantly, this function also returns the selected recommendation on a subsequent call to getRecommendation\n     * (assuming no other ratings are sent in between), so that the consumer can assume that the correct recommendation\n     * will be played next.\n     *\n     * @param {string} channel   The channel used in the original call to `getRecommendationsFromChannel()`\n     * @param {string} uid       The unique ID of the item to queue up for the user\n     * @returns {Recommendation}\n     * @throws {TypeError} If no valid channel or UID is passed in\n     * @throws {Error} If no recommendations for this channel were previously cached, or if the UID was not found in that cached list\n     */\n    queueRecommendationFromChannel(channel, uid) {\n        if (!channel || typeof channel !== 'string') {\n            throw new TypeError('Must pass in a valid channel to queueRecommendationFromChannel()');\n        }\n        if (!uid || typeof uid !== 'string') {\n            throw new TypeError('Must pass in a valid uid to queueRecommendationFromChannel()');\n        }\n        if (!(channel in this._channelRecommendations) ||\n            this._channelRecommendations[channel].length === 0) {\n            throw new Error(`Results from channel \"${channel}\" are not cached. ` +\n                'You must call getRecommendationsFromChannel() first.');\n        }\n\n        for (const recommendation of this._channelRecommendations[channel]) {\n            if (recommendation.attributes.uid === uid) {\n                /* istanbul ignore if: defensive coding; should never really happen */\n                if (!this._flowRecommendations) {\n                    this._flowRecommendations = [recommendation];\n                } else {\n                    this._flowRecommendations = [recommendation].concat(this._flowRecommendations);\n                }\n                return recommendation;\n            }\n        }\n        throw new Error(`Unable to find story with uid ${uid} ` +\n            `in cached list of recommendations from channel \"${channel}\".`);\n    }\n\n    /**\n     * Retrieves a user's history as an array of recommendation objects.\n     *\n     * @returns {Promise<Array<Recommendation>>}\n     */\n    getHistory() {\n        const url = `${NPROneSDK.getServiceUrl('listening')}/history`;\n\n        return FetchUtil.nprApiFetch(url).then(this._createRecommendations.bind(this));\n    }\n\n\n    /**\n     * Resets the current flow for the user. Note that 99% of the time, clients will never have to do this (and it is\n     * generally considered an undesirable user experience), but in a few rare cases it might be needed. The best example\n     * is after calling `setUserStation()` if the current recommendation is of `type === 'stationId'`; in this case,\n     * resetting the flow may be necessary in order to make the user aware that they successfully changed their station.\n     *\n     * @example\n     * let currentRecommendation = nprOneSDK.getRecommendation();\n     * playAudio(currentRecommendation); // given a hypothetical playAudio() function in your app\n     * ...\n     * nprOneSDK.setUserStation(123)\n     *     .then(() => {\n     *         if (currentRecommendation.attributes.type === 'stationId') {\n     *             nprOneSDK.resetFlow()\n     *                 .then(() => {\n     *                     currentRecommendation = nprOneSDK.getRecommendation();\n     *                     playAudio(currentRecommendation);\n     *                 });\n     *         }\n     *     });\n     *\n     * @returns {Promise}\n     */\n    resetFlow() {\n        let prerequisitePromise = Promise.resolve(true);\n\n        if (this._flowRecommendations && this._flowRecommendations.length) {\n            // Send any pending ratings we have first, just in case it impacts the results from the upcoming recommendations call\n            if (this._queuedRatings.length > 0) {\n                prerequisitePromise = this._sendRatings(false);\n            }\n\n            return prerequisitePromise.then(() => {\n                this._flowRecommendations = [];\n                this._flowFetchActive = false;\n                this._flowPromise = null;\n\n                return true;\n            });\n        }\n\n        return prerequisitePromise;\n    }\n\n    /**\n     * Given a valid JSON recommendation object, the flow will advance as\n     * normal from this recommendation. This method has been created for\n     * a special case (Chromecast sharing) and is not intended for use\n     * in a traditional SDK implementation.\n     *\n     * NOTE: this function will overwrite ALL existing flow\n     * recommendations.\n     *\n     * @param {Object} json   Recommendation JSON Object (CDoc+JSON)\n     * @returns {Recommendation}\n     */\n    resumeFlowFromRecommendation(json) {\n        const recommendations = this._createRecommendations(json);\n        this._flowRecommendations = recommendations;\n        return this._flowRecommendations[0];\n    }\n\n    /**\n     * Advances the flow (retrieves new recommendations from the API).\n     *\n     * @param {string} channel\n     * @param {string} uid\n     * @returns {Promise<Array<Recommendation>>}\n     * @throws {Error} If there are no recommendations to return\n     * @private\n     */\n    _advanceFlowRecommendations(channel, uid) {\n        if (this._flowFetchActive) {\n            Logger.debug('A listening service API request is already active, ' +\n                'returning existing promise if one exists.');\n\n            /* istanbul ignore else: defensive coding */\n            if (this._flowPromise) {\n                return this._flowPromise;\n            }\n            /* istanbul ignore next: defensive coding */\n            return Promise.reject(new Error('No recommendations available. Try again later.'));\n        }\n\n        // if given a UID, we check first to see if we already have the recommendation cached\n        if (uid && !!this._flowRecommendations && this._flowRecommendations.length > 0) {\n            let isRecommendationFound = false;\n            this._flowRecommendations.forEach((recommendation, index) => {\n                if (!isRecommendationFound && recommendation.attributes.uid === uid) {\n                    this._flowRecommendations = this._flowRecommendations.slice(index);\n                    isRecommendationFound = true;\n                }\n            });\n            if (isRecommendationFound) {\n                Logger.debug(`Recommendation with UID ${uid} was already queued up. ` +\n                    'Returning the cached version instead of making a new API call.');\n                return Promise.resolve(this._flowRecommendations[0]);\n            }\n        }\n\n        this._flowFetchActive = true;\n        return this._getFlowRecommendations(channel, uid)\n            .then((recommendations) => {\n                this._flowFetchActive = false;\n                if (recommendations.length <= 0) {\n                    Logger.error('API returned no recommendations.');\n                }\n                this._flowRecommendations = this._filterIncomingRecommendations(recommendations);\n                if (!this._flowRecommendations[0]) {\n                    throw new Error('All recommendations exhausted!');\n                }\n                return this._flowRecommendations[0];\n            })\n            .catch(error => {\n                this._flowFetchActive = false;\n                throw error;\n            });\n    }\n\n    /**\n     * Provide any necessary filter to incoming recommendations if needed\n     *\n     * @param {Array<Recommendation>} recommendations\n     * @private\n     */\n    _filterIncomingRecommendations(recommendations) {\n        if (this._adsBlocked) {\n            const unfilteredCount = recommendations.length;\n            const _recommendations = recommendations.filter(rec => !rec.isSponsorship());\n            const filteredCount = unfilteredCount - _recommendations.length;\n            if (filteredCount > 0) {\n                Logger.debug(`Filtered ${filteredCount} ad(s).`);\n            }\n            return _recommendations;\n        }\n\n        return recommendations;\n    }\n\n    /**\n     * Private method to facilitate communication of a rated recommendation.\n     *\n     * @param {Rating} rating\n     * @private\n     */\n    _recordRating(rating) {\n        if (this._queuedRatingsContainsRating(rating)) {\n            return; // no need to take action for the same rating twice\n        }\n\n        Logger.debug(`Queued rating: ${rating}`);\n        this._queuedRatings.push(rating);\n\n        // Only one of these should ever fire, but this is easiest way to do the lookup\n        for (const action of Action.getFlowAdvancingActions()) {\n            if (rating.rating === action) {\n                this.getRecommendation();\n                break;\n            }\n        }\n    }\n\n    /**\n     * Request for recommendations from NPR specifically for the flow as opposed to\n     * other channels which will not change the current flow.\n     *\n     * @param {string} channel\n     * @param {string} uid\n     * @returns {Promise<Array<Recommendation>>}\n     */\n    _getFlowRecommendations(channel, uid) {\n        for (const action of Action.getFlowAdvancingActions()) {\n            if (this._queuedRatingsContainsAction(action)) {\n                return this._sendRatings();\n            }\n        }\n\n        if (!uid) {\n            // Only perform the initial recommendation call if all flow recommendations are exhausted\n            if (this._flowRecommendations.length > 0) {\n                return Promise.resolve(this._flowRecommendations);\n            }\n        }\n\n        return this._getChannelRecommendations(channel, uid);\n    }\n\n    /**\n     * @param {string} channel\n     * @param {string} [uid='']\n     * @returns {Promise<Array<Recommendation>>}\n     * @private\n     */\n    _getChannelRecommendations(channel, uid = '') {\n        const _channel = (!channel || typeof channel !== 'string') ? 'npr' : channel;\n\n        let url = `${NPROneSDK.getServiceUrl('listening')}/recommendations?channel=${_channel}`;\n        url += uid ? `&sharedMediaId=${uid}` : '';\n\n        return FetchUtil.nprApiFetch(url).then(this._createRecommendations.bind(this));\n    }\n\n    /**\n     * Create recommendation objects from collection doc\n     *\n     * @param {Object} json - collection doc\n     * @returns {Array<Recommendation>}\n     * @private\n     */\n    _createRecommendations(json) {\n        const recommendations = createRecommendations(json);\n        const recordRating = this._recordRating.bind(this);\n        recommendations.map(rec => rec.setRatingReceivedCallback(recordRating));\n\n        return recommendations;\n    }\n\n    /**\n     * Send batched ratings\n     *\n     * @param {boolean} [recommendMore=true] - determines if additional recommendations should be returned\n     * @returns {Promise<Array<Recommendation>>}\n     * @private\n     */\n    _sendRatings(recommendMore = true) {\n        /* istanbul ignore if: defensive coding */\n        if (this._queuedRatings.length === 0) {\n            Logger.error('Things have gone drastically wrong, this: ', this);\n            return Promise.reject(new Error('No queued ratings to send.'));\n        }\n\n        let url = NPROneSDK.getServiceUrl('listening');\n        url += `/ratings?recommend=${recommendMore.toString()}`;\n        if (recommendMore) {\n            const latestRating = this._queuedRatings.slice(-1).pop();\n            if (latestRating._actionUrl && latestRating.rating === Action.TAPTHRU) {\n                url = latestRating._actionUrl;\n            } else {\n                url = latestRating._recommendationUrl;\n            }\n        }\n\n        const ratingsToSend = [];\n        this._queuedRatings.forEach(rating => {\n            /* istanbul ignore else: defensive coding */\n            if (!rating._hasSent) {\n                ratingsToSend.push(rating);\n            }\n        });\n\n        const options = {\n            method: 'POST',\n            body: JSON.stringify(ratingsToSend, Rating.privateMemberReplacer),\n        };\n\n        Logger.debug('Sending Ratings: ', ratingsToSend.join(', '));\n\n        return FetchUtil.nprApiFetch(url, options)\n            .then((json) => {\n                // Loop through all queued ratings and mark as sent\n                ratingsToSend.forEach((rating) => {\n                    const _rating = rating;\n                    _rating._hasSent = true;\n                    this._sentRatings.push(_rating);\n                    this._queuedRatings.splice(this._queuedRatings.indexOf(_rating), 1);\n                });\n                return this._createRecommendations(json);\n            });\n    }\n\n    /**\n     * Returns whether currently queued ratings contain a specific rating\n     *\n     * This is not a deep copy check and relies on mediaId & rating string\n     *\n     * @param {Rating} rating\n     * @returns {boolean}\n     * @private\n     */\n    _queuedRatingsContainsRating(rating) {\n        return this._queuedRatings.some(qr => qr.rating === rating.rating && qr.mediaId === rating.mediaId);  // eslint-disable-line\n    }\n\n    /**\n     * Returns whether the currently queued ratings contains a specific action\n     *\n     * @param {string} action\n     * @returns {boolean}\n     * @private\n     */\n    _queuedRatingsContainsAction(action) {\n        return this._queuedRatings.some(qr => qr.rating === action);\n    }\n}\n"
  },
  {
    "__docId__": 20,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "Listening",
    "memberof": "src/controller/listening.js",
    "longname": "src/controller/listening.js~Listening",
    "access": null,
    "export": true,
    "importPath": "@npr/npr-one-sdk/controller/listening.js",
    "importStyle": "Listening",
    "description": "Encapsulates all of the logic for communication with the [Listening Service](https://dev.npr.org/api/#/listening)\nin the NPR One API.\n\nNote that consumers should not be accessing this class directly but should instead use the provided pass-through\nfunctions in the main {@link NprOneSDK} class.",
    "examples": [
      "<caption>Implementing a rudimentary 'Explore' view</caption>\nconst nprOneSDK = new NprOneSDK();\nnprOneSDK.config = { ... };\nnprOneSDK.getRecommendationsFromChannel('recommended')\n    .then((recommendations) => {\n        // in a real app, the user would select a piece; here we've simulated them selecting one at index 3\n        const selectedRecommendationId = recommendations[3].attributes.uid;\n        return nprOneSDK.queueRecommendationFromChannel('recommended', selectedRecommendationId);\n     })\n    .then(() => {\n        nprOneSDK.getRecommendation(); // proceed to play the recommendation\n    });"
    ],
    "lineNumber": 29,
    "interface": false
  },
  {
    "__docId__": 21,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/controller/listening.js~Listening",
    "longname": "src/controller/listening.js~Listening#constructor",
    "access": null,
    "description": "Initializes the controller class with private variables needed later on.",
    "lineNumber": 33,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 22,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_queuedRatings",
    "memberof": "src/controller/listening.js~Listening",
    "longname": "src/controller/listening.js~Listening#_queuedRatings",
    "access": "private",
    "description": null,
    "lineNumber": 36,
    "type": {
      "nullable": null,
      "types": [
        "Rating[]"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 23,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_sentRatings",
    "memberof": "src/controller/listening.js~Listening",
    "longname": "src/controller/listening.js~Listening#_sentRatings",
    "access": "private",
    "description": null,
    "lineNumber": 39,
    "type": {
      "nullable": null,
      "types": [
        "Rating[]"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 24,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_flowRecommendations",
    "memberof": "src/controller/listening.js~Listening",
    "longname": "src/controller/listening.js~Listening#_flowRecommendations",
    "access": "private",
    "description": null,
    "lineNumber": 43,
    "type": {
      "nullable": null,
      "types": [
        "Array<Recommendation>"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 25,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_flowFetchActive",
    "memberof": "src/controller/listening.js~Listening",
    "longname": "src/controller/listening.js~Listening#_flowFetchActive",
    "access": "private",
    "description": null,
    "lineNumber": 46,
    "type": {
      "nullable": null,
      "types": [
        "boolean"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 26,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_flowPromise",
    "memberof": "src/controller/listening.js~Listening",
    "longname": "src/controller/listening.js~Listening#_flowPromise",
    "access": "private",
    "description": null,
    "lineNumber": 49,
    "type": {
      "nullable": null,
      "types": [
        "Promise<Recommendation>"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 27,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_adsBlocked",
    "memberof": "src/controller/listening.js~Listening",
    "longname": "src/controller/listening.js~Listening#_adsBlocked",
    "access": "private",
    "description": null,
    "lineNumber": 52,
    "type": {
      "nullable": null,
      "types": [
        "boolean"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 28,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_channelRecommendations",
    "memberof": "src/controller/listening.js~Listening",
    "longname": "src/controller/listening.js~Listening#_channelRecommendations",
    "access": "private",
    "description": null,
    "lineNumber": 56,
    "type": {
      "nullable": null,
      "types": [
        "Object"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 29,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_adsBlocked",
    "memberof": "src/controller/listening.js~Listening",
    "longname": "src/controller/listening.js~Listening#_adsBlocked",
    "access": null,
    "description": null,
    "lineNumber": 64,
    "undocument": true,
    "type": {
      "types": [
        "boolean"
      ]
    }
  },
  {
    "__docId__": 30,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getRecommendation",
    "memberof": "src/controller/listening.js~Listening",
    "longname": "src/controller/listening.js~Listening#getRecommendation",
    "access": null,
    "description": "Get a recommendation from NPR.\n\nCaution: the resulting recommendation may have been returned previously and must be checked\nto ensure the same recommendation is not played twice.",
    "lineNumber": 79,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Recommendation>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "''",
        "defaultRaw": "''",
        "name": "uid",
        "description": "Optional; a UID for a specific recommendation to play. In 99% of use cases, this is not needed."
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "'npr'",
        "defaultRaw": "'npr'",
        "name": "channel",
        "description": "Optional; a channel to pull the recommendation from; the main flow channel of `npr` is used as the default. In 99% of use cases, this does not need to be changed."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Recommendation>"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 31,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_flowPromise",
    "memberof": "src/controller/listening.js~Listening",
    "longname": "src/controller/listening.js~Listening#_flowPromise",
    "access": null,
    "description": null,
    "lineNumber": 80,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 32,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getUpcomingFlowRecommendations",
    "memberof": "src/controller/listening.js~Listening",
    "longname": "src/controller/listening.js~Listening#getUpcomingFlowRecommendations",
    "access": null,
    "description": "Return possible recommendations that may come next in the flow. Useful for\npre-caching audio and displaying upcoming recommendations.\n\nRecommendations returned are not guaranteed to always come next in the flow.",
    "lineNumber": 95,
    "experimental": true,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Array<Recommendation>>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "'npr'",
        "defaultRaw": "'npr'",
        "name": "channel",
        "description": "A channel to pull the next recommendation from"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Array<Recommendation>>"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 33,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getRecommendationsFromChannel",
    "memberof": "src/controller/listening.js~Listening",
    "longname": "src/controller/listening.js~Listening#getRecommendationsFromChannel",
    "access": null,
    "description": "Makes a new API call to get a list of recommendations. This is NOT intended for regular piece-by-piece consumption;\nthis function is designed to be used for consumers implementing e.g. the Explore view from the NPR One apps,\nwhere the client displays a list or grid of content, and the user can select a piece to listen to next.\nIt is hard-coded to use the \"recommended\" channel by default, although other channels can be used also. That said,\nyou should really never use this with channel \"npr\" (the main flow channel), as this is not how that content is\nintended to be consumed.",
    "lineNumber": 114,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Array<Recommendation>>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "'recommended'",
        "defaultRaw": "'recommended'",
        "name": "channel",
        "description": "A non-flow (i.e. non-`npr`) channel to retrieve a list of recommendations from"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Array<Recommendation>>"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 34,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_channelRecommendations",
    "memberof": "src/controller/listening.js~Listening",
    "longname": "src/controller/listening.js~Listening#_channelRecommendations",
    "access": null,
    "description": null,
    "lineNumber": 127,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 35,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "queueRecommendationFromChannel",
    "memberof": "src/controller/listening.js~Listening",
    "longname": "src/controller/listening.js~Listening#queueRecommendationFromChannel",
    "access": null,
    "description": "This synchronous method is intended to be used alongside {@link getRecommendationsFromChannel}.\nOnce you have a list of recommendations from a channel and an audio story has been selected to play, this method\nensures that the correct ratings (actions) will be sent and the flow of audio will continue appropriately with\nthe necessary API calls.\nIf the recommendation with the given UID can be found, it is delivered immediately to be played.\nImportantly, this function also returns the selected recommendation on a subsequent call to getRecommendation\n(assuming no other ratings are sent in between), so that the consumer can assume that the correct recommendation\nwill be played next.",
    "lineNumber": 150,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Recommendation}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "channel",
        "description": "The channel used in the original call to `getRecommendationsFromChannel()`"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "uid",
        "description": "The unique ID of the item to queue up for the user"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Recommendation"
      ],
      "spread": false,
      "description": ""
    },
    "throws": [
      {
        "types": [
          "TypeError"
        ],
        "description": "If no valid channel or UID is passed in"
      },
      {
        "types": [
          "Error"
        ],
        "description": "If no recommendations for this channel were previously cached, or if the UID was not found in that cached list"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 36,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_flowRecommendations",
    "memberof": "src/controller/listening.js~Listening",
    "longname": "src/controller/listening.js~Listening#_flowRecommendations",
    "access": null,
    "description": null,
    "lineNumber": 167,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 37,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_flowRecommendations",
    "memberof": "src/controller/listening.js~Listening",
    "longname": "src/controller/listening.js~Listening#_flowRecommendations",
    "access": null,
    "description": null,
    "lineNumber": 169,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 38,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getHistory",
    "memberof": "src/controller/listening.js~Listening",
    "longname": "src/controller/listening.js~Listening#getHistory",
    "access": null,
    "description": "Retrieves a user's history as an array of recommendation objects.",
    "lineNumber": 183,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Array<Recommendation>>}"
      }
    ],
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Array<Recommendation>>"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 39,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "resetFlow",
    "memberof": "src/controller/listening.js~Listening",
    "longname": "src/controller/listening.js~Listening#resetFlow",
    "access": null,
    "description": "Resets the current flow for the user. Note that 99% of the time, clients will never have to do this (and it is\ngenerally considered an undesirable user experience), but in a few rare cases it might be needed. The best example\nis after calling `setUserStation()` if the current recommendation is of `type === 'stationId'`; in this case,\nresetting the flow may be necessary in order to make the user aware that they successfully changed their station.",
    "examples": [
      "let currentRecommendation = nprOneSDK.getRecommendation();\nplayAudio(currentRecommendation); // given a hypothetical playAudio() function in your app\n...\nnprOneSDK.setUserStation(123)\n    .then(() => {\n        if (currentRecommendation.attributes.type === 'stationId') {\n            nprOneSDK.resetFlow()\n                .then(() => {\n                    currentRecommendation = nprOneSDK.getRecommendation();\n                    playAudio(currentRecommendation);\n                });\n        }\n    });"
    ],
    "lineNumber": 213,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise}"
      }
    ],
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "Promise"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 40,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_flowRecommendations",
    "memberof": "src/controller/listening.js~Listening",
    "longname": "src/controller/listening.js~Listening#_flowRecommendations",
    "access": null,
    "description": null,
    "lineNumber": 223,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 41,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_flowFetchActive",
    "memberof": "src/controller/listening.js~Listening",
    "longname": "src/controller/listening.js~Listening#_flowFetchActive",
    "access": null,
    "description": null,
    "lineNumber": 224,
    "undocument": true,
    "type": {
      "types": [
        "boolean"
      ]
    }
  },
  {
    "__docId__": 42,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_flowPromise",
    "memberof": "src/controller/listening.js~Listening",
    "longname": "src/controller/listening.js~Listening#_flowPromise",
    "access": null,
    "description": null,
    "lineNumber": 225,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 43,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "resumeFlowFromRecommendation",
    "memberof": "src/controller/listening.js~Listening",
    "longname": "src/controller/listening.js~Listening#resumeFlowFromRecommendation",
    "access": null,
    "description": "Given a valid JSON recommendation object, the flow will advance as\nnormal from this recommendation. This method has been created for\na special case (Chromecast sharing) and is not intended for use\nin a traditional SDK implementation.\n\nNOTE: this function will overwrite ALL existing flow\nrecommendations.",
    "lineNumber": 246,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Recommendation}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "json",
        "description": "Recommendation JSON Object (CDoc+JSON)"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Recommendation"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 44,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_flowRecommendations",
    "memberof": "src/controller/listening.js~Listening",
    "longname": "src/controller/listening.js~Listening#_flowRecommendations",
    "access": null,
    "description": null,
    "lineNumber": 248,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 45,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "_advanceFlowRecommendations",
    "memberof": "src/controller/listening.js~Listening",
    "longname": "src/controller/listening.js~Listening#_advanceFlowRecommendations",
    "access": "private",
    "description": "Advances the flow (retrieves new recommendations from the API).",
    "lineNumber": 261,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Array<Recommendation>>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "channel",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "uid",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Array<Recommendation>>"
      ],
      "spread": false,
      "description": ""
    },
    "throws": [
      {
        "types": [
          "Error"
        ],
        "description": "If there are no recommendations to return"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 46,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_flowRecommendations",
    "memberof": "src/controller/listening.js~Listening",
    "longname": "src/controller/listening.js~Listening#_flowRecommendations",
    "access": null,
    "description": null,
    "lineNumber": 279,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 47,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_flowFetchActive",
    "memberof": "src/controller/listening.js~Listening",
    "longname": "src/controller/listening.js~Listening#_flowFetchActive",
    "access": null,
    "description": null,
    "lineNumber": 290,
    "undocument": true,
    "type": {
      "types": [
        "boolean"
      ]
    }
  },
  {
    "__docId__": 48,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_flowFetchActive",
    "memberof": "src/controller/listening.js~Listening",
    "longname": "src/controller/listening.js~Listening#_flowFetchActive",
    "access": null,
    "description": null,
    "lineNumber": 293,
    "undocument": true,
    "type": {
      "types": [
        "boolean"
      ]
    }
  },
  {
    "__docId__": 49,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_flowRecommendations",
    "memberof": "src/controller/listening.js~Listening",
    "longname": "src/controller/listening.js~Listening#_flowRecommendations",
    "access": null,
    "description": null,
    "lineNumber": 297,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 50,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_flowFetchActive",
    "memberof": "src/controller/listening.js~Listening",
    "longname": "src/controller/listening.js~Listening#_flowFetchActive",
    "access": null,
    "description": null,
    "lineNumber": 304,
    "undocument": true,
    "type": {
      "types": [
        "boolean"
      ]
    }
  },
  {
    "__docId__": 51,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "_filterIncomingRecommendations",
    "memberof": "src/controller/listening.js~Listening",
    "longname": "src/controller/listening.js~Listening#_filterIncomingRecommendations",
    "access": "private",
    "description": "Provide any necessary filter to incoming recommendations if needed",
    "lineNumber": 315,
    "params": [
      {
        "nullable": null,
        "types": [
          "Array<Recommendation>"
        ],
        "spread": false,
        "optional": false,
        "name": "recommendations",
        "description": ""
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 52,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "_recordRating",
    "memberof": "src/controller/listening.js~Listening",
    "longname": "src/controller/listening.js~Listening#_recordRating",
    "access": "private",
    "description": "Private method to facilitate communication of a rated recommendation.",
    "lineNumber": 335,
    "params": [
      {
        "nullable": null,
        "types": [
          "Rating"
        ],
        "spread": false,
        "optional": false,
        "name": "rating",
        "description": ""
      }
    ],
    "generator": false
  },
  {
    "__docId__": 53,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "_getFlowRecommendations",
    "memberof": "src/controller/listening.js~Listening",
    "longname": "src/controller/listening.js~Listening#_getFlowRecommendations",
    "access": null,
    "description": "Request for recommendations from NPR specifically for the flow as opposed to\nother channels which will not change the current flow.",
    "lineNumber": 360,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Array<Recommendation>>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "channel",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "uid",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Array<Recommendation>>"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 54,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "_getChannelRecommendations",
    "memberof": "src/controller/listening.js~Listening",
    "longname": "src/controller/listening.js~Listening#_getChannelRecommendations",
    "access": "private",
    "description": "",
    "lineNumber": 383,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Array<Recommendation>>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "channel",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "''",
        "defaultRaw": "''",
        "name": "uid",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Array<Recommendation>>"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 55,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "_createRecommendations",
    "memberof": "src/controller/listening.js~Listening",
    "longname": "src/controller/listening.js~Listening#_createRecommendations",
    "access": "private",
    "description": "Create recommendation objects from collection doc",
    "lineNumber": 399,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Array<Recommendation>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "json",
        "description": "collection doc"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Array<Recommendation>"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 56,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "_sendRatings",
    "memberof": "src/controller/listening.js~Listening",
    "longname": "src/controller/listening.js~Listening#_sendRatings",
    "access": "private",
    "description": "Send batched ratings",
    "lineNumber": 414,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Array<Recommendation>>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "boolean"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "true",
        "defaultRaw": true,
        "name": "recommendMore",
        "description": "determines if additional recommendations should be returned"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Array<Recommendation>>"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 57,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "_queuedRatingsContainsRating",
    "memberof": "src/controller/listening.js~Listening",
    "longname": "src/controller/listening.js~Listening#_queuedRatingsContainsRating",
    "access": "private",
    "description": "Returns whether currently queued ratings contain a specific rating\n\nThis is not a deep copy check and relies on mediaId & rating string",
    "lineNumber": 469,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{boolean}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Rating"
        ],
        "spread": false,
        "optional": false,
        "name": "rating",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "boolean"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 58,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "_queuedRatingsContainsAction",
    "memberof": "src/controller/listening.js~Listening",
    "longname": "src/controller/listening.js~Listening#_queuedRatingsContainsAction",
    "access": "private",
    "description": "Returns whether the currently queued ratings contains a specific action",
    "lineNumber": 480,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{boolean}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "action",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "boolean"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 59,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/controller/station-finder.js",
    "memberof": null,
    "longname": "src/controller/station-finder.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import NPROneSDK from './../index';\nimport FetchUtil from './../util/fetch-util';\nimport Station from './../model/station';\n\n\n/**\n * Encapsulates all of the logic for communication with the [Station Finder Service](https://dev.npr.org/api/#/stationfinder)\n * in the NPR One API.\n *\n * Note that consumers should not be accessing this class directly but should instead use the provided pass-through\n * functions in the main {@link NprOneSDK} class.\n *\n * @example <caption>How to change a user's station using station search</caption>\n * const nprOneSDK = new NprOneSDK();\n * nprOneSDK.config = { ... };\n * nprOneSDK.getUser() // optional; verifies that you have a logged-in user\n *     .then(() => {\n *         return nprOneSDK.searchStations('wnyc');\n *     })\n *     .then((stations) => {\n *         const stationId = stations[0].id; // in reality, you'd probably have the user select a station from returned search results\n *         nprOneSDK.setUserStation(stationId);\n *     });\n */\nexport default class StationFinder {\n    /**\n     * Performs a general search of all NPR One stations, using an optional query. If passed in, the query can be any\n     * string, such as an address or keyword, but the recommended usage is to search for station names, network names\n     * (e.g. \"Colorado Public Radio\" is a network of stations throughout Colorado), or zip codes.\n     *\n     * If no query is passed in, this function will return a list of one or more stations geographically closest to the\n     * client based on the consumer's IP address. If you are running this in a server-side environment where the IP\n     * address of the server is not necessarily the same as the IP address (and, by extension, the geographic location)\n     * of the end-user, you can use {@link searchStationsByLatLongCoordinates} instead to retrieve a list of stations\n     * geographically closest to the end-user.\n     *\n     * @param {null|string} [query]   An optional query, which can be a station name, network name, or zip code\n     * @returns {Promise<Array<Station>>}\n     */\n    searchStations(query = null) {\n        return this._performStationSearch(query);\n    }\n\n    /**\n     * Performs a geographic search of all NPR One stations using a passed-in pair of lat-long coordinates. In most\n     * cases, this means you will need to first use the [HTML5 Geolocation API](https://developer.mozilla.org/en-US/docs/Web/API/Geolocation/Using_geolocation)\n     * or a similar library in order to obtain the lat-long coordinates for the end-user's location.\n     *\n     * Note that {@link searchStations} without a query will already produce a list of stations closest to the user _if_\n     * this code is being run in a client-side environment and/or the IP address of the device making the calls to this\n     * SDK has the same geographic location as the end-user. For that reason, `searchStationsByLatLongCoordinates()`\n     * is really only needed if this SDK is being run in a server-side environment.\n     *\n     * @param {number} lat    A float representing the latitude value of the geographic coordinates\n     * @param {number} long   A float representing the longitude value of the geographic coordinates\n     * @returns {Promise<Array<Station>>}\n     */\n    searchStationsByLatLongCoordinates(lat, long) {\n        return this._performStationSearch(null, lat, long);\n    }\n\n    /**\n     * Performs a geographic search of all NPR One stations using a city name and state. While you _can_ pass in a city\n     * _or_ state to {@link searchStations} as the query, `searchStationsByCityAndState()` will return more accurate\n     * results and is the recommended function for clients wanting to offer a location search.\n     *\n     * @param {string} city     A full city name (e.g. \"New York\", \"San Francisco\", \"Phoenix\")\n     * @param {string} state    A state name (e.g. \"Maryland\") or abbreviation (e.g. \"MD\")\n     * @returns {Promise<Array<Station>>}\n     */\n    searchStationsByCityAndState(city, state) {\n        return this._performStationSearch(null, null, null, city, state);\n    }\n\n    /**\n     * Performs a geographic search of all NPR One stations using a city name only. It is generally recommended that you\n     * use {@link searchStationsByCityAndState} instead, as it will return more accurate results and is the recommended\n     * function for clients wanting to offer a location search.\n     *\n     * @param {string} city   A full city name (e.g. \"New York\", \"San Francisco\", \"Phoenix\")\n     * @returns {Promise<Array<Station>>}\n     */\n    searchStationsByCity(city) {\n        return this._performStationSearch(null, null, null, city);\n    }\n\n    /**\n     * Performs a geographic search of all NPR One stations using a state name or abbreviation only. It is generally\n     * recommended that you use {@link searchStationsByCityAndState} instead, as it will return more accurate results\n     * and is the recommended function for clients wanting to offer a location search.\n     *\n     * @param {string} state    A state name (e.g. \"Maryland\") or abbreviation (e.g. \"MD\")\n     * @returns {Promise<Array<Station>>}\n     */\n    searchStationsByState(state) {\n        return this._performStationSearch(null, null, null, null, state);\n    }\n\n    /**\n     * Returns a {@link Station} model for the station with the given ID.\n     *\n     * @param {number|string} stationId   The station's ID, which is either an integer or a numeric string (e.g. `123` or `'123'`)\n     * @returns {Promise<Station>}\n     */\n    getStationDetails(stationId) {\n        return StationFinder.validateStation(stationId);\n    }\n\n    /**\n     * Ensures a station ID is associated with a valid NPR station. While this technically returns the raw JSON for\n     * this station if it exists, these results are not meant to be consumed directly; if you need the station details to display to your end-user,\n     * use {@link getStationDetails} instead.\n     *\n     * @param {number|string} stationId   The station's ID, which is either an integer or a numeric string (e.g. `123` or `'123'`)\n     * @returns {Promise<Station>}\n     */\n    static validateStation(stationId) {\n        const n = parseInt(stationId, 10);\n        if (isNaN(n) || !isFinite(n)) {\n            return Promise.reject(new Error('Station ID must be an integer greater than 0'));\n        }\n\n        const url = `${NPROneSDK.getServiceUrl('stationfinder')}/stations/${stationId}`;\n\n        return FetchUtil.nprApiFetch(url)\n            .then((searchResult) => {\n                const station = new Station(searchResult);\n                if (!station.isNprOneEligible) {\n                    throw new Error(`The station ${station.id} is not eligible for NPR One.`);\n                }\n                return station;\n            });\n    }\n\n    /**\n     * A private helper function that performs the actual station search.\n     *\n     * @param {null|string} query     An optional query, which can be a station name, network name, or zip code\n     * @param {null|number} [lat]     A float representing the latitude value of the geographic coordinates\n     * @param {null|number} [long]    A float representing the longitude value of the geographic coordinates\n     * @param {null|string} [city]    A full city name (e.g. \"New York\", \"San Francisco\", \"Phoenix\")\n     * @param {null|string} [state]   A state name (e.g. \"Maryland\") or abbreviation (e.g. \"MD\")\n     * @returns {Promise<Array<Station>>}\n     * @private\n     */\n    _performStationSearch(query, lat = null, long = null, city = null, state = null) {\n        const url = `${NPROneSDK.getServiceUrl('stationfinder')}/stations`;\n\n        let queryString = '';\n        if (query) {\n            if (typeof query !== 'string') {\n                throw new TypeError('Station search query must be a string');\n            }\n            queryString = `q=${query}`;\n        } else if (lat || long) {\n            if (typeof lat !== 'number' || typeof long !== 'number') {\n                throw new TypeError('Latitude and longitude must both be valid numbers (floats)');\n            }\n            queryString = `lat=${lat}&lon=${long}`;\n        } else {\n            if (city) {\n                if (typeof city !== 'string') {\n                    throw new TypeError('Station search city name must be a string');\n                }\n                queryString += `city=${city}`;\n            }\n            if (state) {\n                if (typeof state !== 'string') {\n                    throw new TypeError('Station search state name must be a string');\n                }\n                queryString += `state=${state}`;\n            }\n        }\n\n        return FetchUtil.nprApiFetch(queryString ? `${url}?${queryString}` : url)\n            .then((searchResults) => {\n                const stations = [];\n\n                if (searchResults && searchResults.items && searchResults.items.length) {\n                    for (const searchResult of searchResults.items) {\n                        const station = new Station(searchResult);\n                        if (station.isNprOneEligible) {\n                            stations.push(station);\n                        }\n                    }\n                }\n\n                return stations;\n            });\n    }\n}\n"
  },
  {
    "__docId__": 60,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "StationFinder",
    "memberof": "src/controller/station-finder.js",
    "longname": "src/controller/station-finder.js~StationFinder",
    "access": null,
    "export": true,
    "importPath": "@npr/npr-one-sdk/controller/station-finder.js",
    "importStyle": "StationFinder",
    "description": "Encapsulates all of the logic for communication with the [Station Finder Service](https://dev.npr.org/api/#/stationfinder)\nin the NPR One API.\n\nNote that consumers should not be accessing this class directly but should instead use the provided pass-through\nfunctions in the main {@link NprOneSDK} class.",
    "examples": [
      "<caption>How to change a user's station using station search</caption>\nconst nprOneSDK = new NprOneSDK();\nnprOneSDK.config = { ... };\nnprOneSDK.getUser() // optional; verifies that you have a logged-in user\n    .then(() => {\n        return nprOneSDK.searchStations('wnyc');\n    })\n    .then((stations) => {\n        const stationId = stations[0].id; // in reality, you'd probably have the user select a station from returned search results\n        nprOneSDK.setUserStation(stationId);\n    });"
    ],
    "lineNumber": 25,
    "interface": false
  },
  {
    "__docId__": 61,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "searchStations",
    "memberof": "src/controller/station-finder.js~StationFinder",
    "longname": "src/controller/station-finder.js~StationFinder#searchStations",
    "access": null,
    "description": "Performs a general search of all NPR One stations, using an optional query. If passed in, the query can be any\nstring, such as an address or keyword, but the recommended usage is to search for station names, network names\n(e.g. \"Colorado Public Radio\" is a network of stations throughout Colorado), or zip codes.\n\nIf no query is passed in, this function will return a list of one or more stations geographically closest to the\nclient based on the consumer's IP address. If you are running this in a server-side environment where the IP\naddress of the server is not necessarily the same as the IP address (and, by extension, the geographic location)\nof the end-user, you can use {@link searchStationsByLatLongCoordinates} instead to retrieve a list of stations\ngeographically closest to the end-user.",
    "lineNumber": 40,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Array<Station>>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "null",
          "string"
        ],
        "spread": false,
        "optional": true,
        "name": "query",
        "description": "An optional query, which can be a station name, network name, or zip code"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Array<Station>>"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 62,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "searchStationsByLatLongCoordinates",
    "memberof": "src/controller/station-finder.js~StationFinder",
    "longname": "src/controller/station-finder.js~StationFinder#searchStationsByLatLongCoordinates",
    "access": null,
    "description": "Performs a geographic search of all NPR One stations using a passed-in pair of lat-long coordinates. In most\ncases, this means you will need to first use the [HTML5 Geolocation API](https://developer.mozilla.org/en-US/docs/Web/API/Geolocation/Using_geolocation)\nor a similar library in order to obtain the lat-long coordinates for the end-user's location.\n\nNote that {@link searchStations} without a query will already produce a list of stations closest to the user _if_\nthis code is being run in a client-side environment and/or the IP address of the device making the calls to this\nSDK has the same geographic location as the end-user. For that reason, `searchStationsByLatLongCoordinates()`\nis really only needed if this SDK is being run in a server-side environment.",
    "lineNumber": 58,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Array<Station>>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "number"
        ],
        "spread": false,
        "optional": false,
        "name": "lat",
        "description": "A float representing the latitude value of the geographic coordinates"
      },
      {
        "nullable": null,
        "types": [
          "number"
        ],
        "spread": false,
        "optional": false,
        "name": "long",
        "description": "A float representing the longitude value of the geographic coordinates"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Array<Station>>"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 63,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "searchStationsByCityAndState",
    "memberof": "src/controller/station-finder.js~StationFinder",
    "longname": "src/controller/station-finder.js~StationFinder#searchStationsByCityAndState",
    "access": null,
    "description": "Performs a geographic search of all NPR One stations using a city name and state. While you _can_ pass in a city\n_or_ state to {@link searchStations} as the query, `searchStationsByCityAndState()` will return more accurate\nresults and is the recommended function for clients wanting to offer a location search.",
    "lineNumber": 71,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Array<Station>>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "city",
        "description": "A full city name (e.g. \"New York\", \"San Francisco\", \"Phoenix\")"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "state",
        "description": "A state name (e.g. \"Maryland\") or abbreviation (e.g. \"MD\")"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Array<Station>>"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 64,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "searchStationsByCity",
    "memberof": "src/controller/station-finder.js~StationFinder",
    "longname": "src/controller/station-finder.js~StationFinder#searchStationsByCity",
    "access": null,
    "description": "Performs a geographic search of all NPR One stations using a city name only. It is generally recommended that you\nuse {@link searchStationsByCityAndState} instead, as it will return more accurate results and is the recommended\nfunction for clients wanting to offer a location search.",
    "lineNumber": 83,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Array<Station>>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "city",
        "description": "A full city name (e.g. \"New York\", \"San Francisco\", \"Phoenix\")"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Array<Station>>"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 65,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "searchStationsByState",
    "memberof": "src/controller/station-finder.js~StationFinder",
    "longname": "src/controller/station-finder.js~StationFinder#searchStationsByState",
    "access": null,
    "description": "Performs a geographic search of all NPR One stations using a state name or abbreviation only. It is generally\nrecommended that you use {@link searchStationsByCityAndState} instead, as it will return more accurate results\nand is the recommended function for clients wanting to offer a location search.",
    "lineNumber": 95,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Array<Station>>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "state",
        "description": "A state name (e.g. \"Maryland\") or abbreviation (e.g. \"MD\")"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Array<Station>>"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 66,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getStationDetails",
    "memberof": "src/controller/station-finder.js~StationFinder",
    "longname": "src/controller/station-finder.js~StationFinder#getStationDetails",
    "access": null,
    "description": "Returns a {@link Station} model for the station with the given ID.",
    "lineNumber": 105,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Station>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "number",
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "stationId",
        "description": "The station's ID, which is either an integer or a numeric string (e.g. `123` or `'123'`)"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Station>"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 67,
    "kind": "method",
    "static": true,
    "variation": null,
    "name": "validateStation",
    "memberof": "src/controller/station-finder.js~StationFinder",
    "longname": "src/controller/station-finder.js~StationFinder.validateStation",
    "access": null,
    "description": "Ensures a station ID is associated with a valid NPR station. While this technically returns the raw JSON for\nthis station if it exists, these results are not meant to be consumed directly; if you need the station details to display to your end-user,\nuse {@link getStationDetails} instead.",
    "lineNumber": 117,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Station>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "number",
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "stationId",
        "description": "The station's ID, which is either an integer or a numeric string (e.g. `123` or `'123'`)"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Station>"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 68,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "_performStationSearch",
    "memberof": "src/controller/station-finder.js~StationFinder",
    "longname": "src/controller/station-finder.js~StationFinder#_performStationSearch",
    "access": "private",
    "description": "A private helper function that performs the actual station search.",
    "lineNumber": 146,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Array<Station>>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "null",
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "query",
        "description": "An optional query, which can be a station name, network name, or zip code"
      },
      {
        "nullable": null,
        "types": [
          "null",
          "number"
        ],
        "spread": false,
        "optional": true,
        "name": "lat",
        "description": "A float representing the latitude value of the geographic coordinates"
      },
      {
        "nullable": null,
        "types": [
          "null",
          "number"
        ],
        "spread": false,
        "optional": true,
        "name": "long",
        "description": "A float representing the longitude value of the geographic coordinates"
      },
      {
        "nullable": null,
        "types": [
          "null",
          "string"
        ],
        "spread": false,
        "optional": true,
        "name": "city",
        "description": "A full city name (e.g. \"New York\", \"San Francisco\", \"Phoenix\")"
      },
      {
        "nullable": null,
        "types": [
          "null",
          "string"
        ],
        "spread": false,
        "optional": true,
        "name": "state",
        "description": "A state name (e.g. \"Maryland\") or abbreviation (e.g. \"MD\")"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Array<Station>>"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 69,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/error/api-error.js",
    "memberof": null,
    "longname": "src/error/api-error.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import ExtendableError from 'es6-error';\n\n\n/**\n * A custom error class to encapsulate errors thrown by {@link FetchUtil.nprApiFetch}. Behaves like a generic JavaScript\n * error, but has additional metadata attached to it in case consuming code needs to be able to respond to specific\n * kinds of errors.\n *\n * @example\n * nprOneSDK.setUserStation(123)\n *     .catch((error) => {\n *         if (error instanceof ApiError) {\n *             if (error.statusCode === 401) {\n *                 Logger.debug('The response was a 401!');\n *             } else {\n *                 Logger.debug('The response was not a 401!');\n *             }\n *         }\n *     });\n *\n * @extends {Error}\n */\nexport default class ApiError extends ExtendableError {\n    /**\n     * Creates a new, custom error using the [Fetch Response](https://developer.mozilla.org/en-US/docs/Web/API/Response)\n     * object as its basis.\n     *\n     * @param {Response} response    The actual raw [Fetch Response](https://developer.mozilla.org/en-US/docs/Web/API/Response) from the failed API call\n     * @param {Object} [json={}]     If available, the decoded JSON from the error response\n     */\n    constructor(response, json = {}) {\n        super(`Response status: ${response.status} ${response.statusText}`);\n\n        /**\n         * The status code of the response (e.g., `400` for a bad request).\n         *\n         * @type {number}\n         */\n        this.statusCode = response.status;\n        /**\n         * The status message corresponding to the status code (e.g., `Bad Request` for 400).\n         *\n         * @type {string}\n         */\n        this.statusText = response.statusText;\n        /**\n         * The headers associated with the response.\n         *\n         * @type {Headers}\n         */\n        this.headers = response.headers;\n        /**\n         * Contains the type of the response (e.g., basic, cors).\n         *\n         * @type {string}\n         */\n        this.responseType = response.type;\n        /**\n         * Contains the URL of the response.\n         *\n         * @type {string}\n         */\n        this.responseUrl = response.url;\n        /**\n         * Contains the decoded JSON of the response, if any.\n         *\n         * @type {Object}\n         */\n        this.json = json;\n    }\n}\n"
  },
  {
    "__docId__": 70,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "ApiError",
    "memberof": "src/error/api-error.js",
    "longname": "src/error/api-error.js~ApiError",
    "access": null,
    "export": true,
    "importPath": "@npr/npr-one-sdk/error/api-error.js",
    "importStyle": "ApiError",
    "description": "A custom error class to encapsulate errors thrown by {@link FetchUtil.nprApiFetch}. Behaves like a generic JavaScript\nerror, but has additional metadata attached to it in case consuming code needs to be able to respond to specific\nkinds of errors.",
    "examples": [
      "nprOneSDK.setUserStation(123)\n    .catch((error) => {\n        if (error instanceof ApiError) {\n            if (error.statusCode === 401) {\n                Logger.debug('The response was a 401!');\n            } else {\n                Logger.debug('The response was not a 401!');\n            }\n        }\n    });"
    ],
    "lineNumber": 23,
    "interface": false,
    "extends": [
      "Error"
    ]
  },
  {
    "__docId__": 71,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/error/api-error.js~ApiError",
    "longname": "src/error/api-error.js~ApiError#constructor",
    "access": null,
    "description": "Creates a new, custom error using the [Fetch Response](https://developer.mozilla.org/en-US/docs/Web/API/Response)\nobject as its basis.",
    "lineNumber": 31,
    "params": [
      {
        "nullable": null,
        "types": [
          "Response"
        ],
        "spread": false,
        "optional": false,
        "name": "response",
        "description": "The actual raw [Fetch Response](https://developer.mozilla.org/en-US/docs/Web/API/Response) from the failed API call"
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "{}",
        "defaultRaw": {},
        "name": "json",
        "description": "If available, the decoded JSON from the error response"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 72,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "statusCode",
    "memberof": "src/error/api-error.js~ApiError",
    "longname": "src/error/api-error.js~ApiError#statusCode",
    "access": null,
    "description": "The status code of the response (e.g., `400` for a bad request).",
    "lineNumber": 39,
    "type": {
      "nullable": null,
      "types": [
        "number"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 73,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "statusText",
    "memberof": "src/error/api-error.js~ApiError",
    "longname": "src/error/api-error.js~ApiError#statusText",
    "access": null,
    "description": "The status message corresponding to the status code (e.g., `Bad Request` for 400).",
    "lineNumber": 45,
    "type": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 74,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "headers",
    "memberof": "src/error/api-error.js~ApiError",
    "longname": "src/error/api-error.js~ApiError#headers",
    "access": null,
    "description": "The headers associated with the response.",
    "lineNumber": 51,
    "type": {
      "nullable": null,
      "types": [
        "Headers"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 75,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "responseType",
    "memberof": "src/error/api-error.js~ApiError",
    "longname": "src/error/api-error.js~ApiError#responseType",
    "access": null,
    "description": "Contains the type of the response (e.g., basic, cors).",
    "lineNumber": 57,
    "type": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 76,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "responseUrl",
    "memberof": "src/error/api-error.js~ApiError",
    "longname": "src/error/api-error.js~ApiError#responseUrl",
    "access": null,
    "description": "Contains the URL of the response.",
    "lineNumber": 63,
    "type": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 77,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "json",
    "memberof": "src/error/api-error.js~ApiError",
    "longname": "src/error/api-error.js~ApiError#json",
    "access": null,
    "description": "Contains the decoded JSON of the response, if any.",
    "lineNumber": 69,
    "type": {
      "nullable": null,
      "types": [
        "Object"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 78,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/index.js",
    "memberof": null,
    "longname": "src/index.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import 'isomorphic-fetch';\nimport Action from './model/action';\nimport Logger from './util/logger';\nimport Authorization from './controller/authorization';\nimport Listening from './controller/listening';\nimport Identity from './controller/identity';\nimport StationFinder from './controller/station-finder';\n\nLogger.setLevel(Logger.WARN);\n\n/**\n * This SDK attempts to abstract away most of the interaction with the NPR One API.\n * In general, a consumer of this API should be primarily concerned with asking for\n * recommendations and recording user actions against those recommendations.\n */\nexport class NprOneSDK {\n    /**\n     * Instantiates the NPR One SDK.\n     */\n    constructor() {\n        /** @type {null|Function} A callback that gets triggered whenever the access token has changed\n         * @private */\n        this._accessTokenChangedCallback = null;\n        /** @type {Authorization}\n         * @private */\n        this._authorization = new Authorization();\n        /** @type {Listening}\n         * @private */\n        this._listening = new Listening();\n        /** @type {Identity}\n         * @private */\n        this._identity = new Identity();\n        /** @type {StationFinder}\n         * @private */\n        this._stationfinder = new StationFinder();\n\n        // setup the default config\n        NprOneSDK._initConfig();\n    }\n\n    /**\n     * @typedef {Object} Config\n     * @property {string} [apiBaseUrl='https://api.npr.org'] DEPRECATED / NO LONGER IN USE: The NPR One API hostname and protocol, typically `https://api.npr.org`; in most cases, this does not need to be manually set by clients\n     * @property {string} [apiVersion='v2'] DEPRECATED / NO LONGER IN USE: The NPR One API version, typically `v2`; in most cases, this does not need to be manually set by clients\n     * @property {string} [authProxyBaseUrl] The full URL to your OAuth proxy, e.g. `https://one.example.com/oauth2/`\n     * @property {string} [newDeviceCodePath='/device'] The path to your proxy for starting a `device_code` grant (relative to `authProxyBaseUrl`)\n     * @property {string} [pollDeviceCodePath='/device/poll'] The path to your proxy for polling a `device_code` grant (relative to `authProxyBaseUrl`)\n     * @property {string} [refreshTokenPath='/refresh'] The path to your proxy for the `refresh_token` grant (relative to `authProxyBaseUrl`)\n     * @property {string} [tempUserPath='/temporary'] The path to your proxy for the `temporary_user` grant (relative to `authProxyBaseUrl`), not available to third-party clients\n     * @property {string} [logoutPath='/logout'] The path to your proxy for the `POST /authorization/v2/token/revoke` endpoint (relative to `authProxyBaseUrl`)\n     * @property {string} [accessToken] The access token to use if not using the auth proxy\n     * @property {string} [clientId] The NPR One API `client_id` to use, only required if using the auth proxy with the `temporary_user` grant type\n     * @property {string} [advertisingId] The custom X-Advertising-ID header to send with most requests, not typically used by third-party clients\n     * @property {string} [advertisingTarget] The custom X-Advertising-Target header to send with most requests, not typically used by third-party clients\n     * @property {string} [subdomain] The custom subdomain to use for requests, not typically used by third-party clients\n     */\n    /**\n     * @type {Config}\n     */\n    static get config() {\n        NprOneSDK._initConfig();\n        return NprOneSDK._config;\n    }\n\n    /**\n     * Updates private `_config` member attributes but does not overwrite entire `_config` object\n     *\n     * @type {Config}\n     */\n    static set config(value) {\n        if (value.apiBaseUrl) {\n            Logger.warn('Property \"apiBaseUrl\" in config is deprecated '\n                + 'and will be removed in a future release. '\n                + 'Please use the \"subdomain\" property instead if a different API URL is needed.');\n        }\n        if (value.apiVersion) {\n            Logger.warn('Property \"apiVersion\" in config is deprecated '\n                + 'and will be removed in a future release.');\n        }\n\n        NprOneSDK._initConfig();\n        Object.assign(NprOneSDK._config, value);\n    }\n\n    /** @type {string} */\n    static get accessToken() {\n        return NprOneSDK.config.accessToken;\n    }\n\n    /** @type {string} */\n    static set accessToken(token) {\n        if (typeof token !== 'string') {\n            throw new TypeError('Value for accessToken must be a string');\n        }\n\n        const oldToken = NprOneSDK.accessToken;\n        NprOneSDK.config.accessToken = token;\n\n        if (oldToken !== token && typeof NprOneSDK._accessTokenChangedCallback === 'function') {\n            NprOneSDK._accessTokenChangedCallback(token);\n        }\n    }\n\n    /**\n     * Sets a callback to be triggered whenever the SDK rotates the access token for a new one, usually when\n     * the old token expires and a `refresh_token` is used to generate a fresh token. Clients who wish to persist\n     * access tokens across sessions are urged to use this callback to be notified whenever a token change has\n     * occurred; the only other alternative is to call `get accessToken()` after every API call.\n     *\n     * @type {Function}\n     * @throws {TypeError} if the passed-in value isn't a function\n     */\n    static set onAccessTokenChanged(callback) {\n        if (typeof callback !== 'function') {\n            throw new TypeError('Value for onAccessTokenChanged must be a function');\n        }\n        NprOneSDK._accessTokenChangedCallback = callback;\n    }\n\n    /**\n     * Exposes the Action class for clients to record actions\n     *\n     * @type {Action}\n     */\n    static get Action() {\n        return Action;\n    }\n\n    /**\n     * Exposes the Logger class for clients to adjust logging if desired\n     *\n     * @type {src/util/logger.js~Logger}\n     */\n    static get Logger() {\n        return Logger;\n    }\n\n    /* Authorization */\n\n    /**\n     * See {@link Authorization.refreshExistingAccessToken} for description.\n     *\n     * @param {number} [numRetries=0]   The number of times this function has been tried. Will retry up to 3 times.\n     * @returns {Promise<AccessToken>}\n     * @throws {TypeError} if an OAuth proxy is not configured or no access token is set\n     */\n    static refreshExistingAccessToken(numRetries = 0) {\n        return Authorization.refreshExistingAccessToken(numRetries);\n    }\n\n    /**\n     * See {@link Authorization#logout} for description.\n     *\n     * @returns {Promise}\n     * @throws {TypeError} if an OAuth proxy is not configured or no access token is currently set\n     */\n    logout() {\n        return this._authorization.logout();\n    }\n\n    /**\n     * See {@link Authorization#getDeviceCode} for description.\n     *\n     * @param {Array<string>} [scopes=[]]   The scopes (as strings) that should be associated with the resulting access token\n     * @returns {Promise<DeviceCode>}\n     * @throws {TypeError} if an OAuth proxy is not configured\n     */\n    getDeviceCode(scopes = []) {\n        return this._authorization.getDeviceCode(scopes);\n    }\n\n    /**\n     * See {@link Authorization#pollDeviceCode} for description.\n     *\n     * @returns {Promise<AccessToken>}\n     * @throws {TypeError} if an OAuth proxy is not configured or `getDeviceCode()` was not previously called\n     */\n    pollDeviceCode() {\n        return this._authorization.pollDeviceCode();\n    }\n\n    /* Listening */\n\n    /**\n     * See {@link Listening#getRecommendation} for description.\n     *\n     * @param {string} [uid='']           Optional; a UID for a specific recommendation to play. In 99% of use cases, this is not needed.\n     * @param {string} [channel='npr']    Optional; a channel to pull the recommendation from; the main flow channel of `npr` is used as the default. In 99% of use cases, this does not need to be changed.\n     * @returns {Promise<Recommendation>}\n     */\n    getRecommendation(uid = '', channel = 'npr') {\n        return this._listening.getRecommendation(uid, channel);\n    }\n\n    /**\n     * See {@link Listening#resumeFlowFromRecommendation} for description.\n     *\n     * @param {Object} json JSON object representation of a recommendation\n     * @returns {Recommendation}\n     */\n    resumeFlowFromRecommendation(json) {\n        return this._listening.resumeFlowFromRecommendation(json);\n    }\n\n    /**\n     * See {@link Listening#getUpcomingFlowRecommendations} for description.\n     *\n     * @experimental\n     * @param {string} [channel='npr']   A channel to pull the next recommendation from\n     * @returns {Promise<Array<Recommendation>>}\n     */\n    getUpcomingFlowRecommendations(channel = 'npr') {\n        return this._listening.getUpcomingFlowRecommendations(channel);\n    }\n\n    /**\n     * See {@link Listening#getRecommendationsFromChannel} for description.\n     *\n     * @param {string} [channel='recommended']   A non-flow (i.e. non-`npr`) channel to retrieve a list of recommendations from\n     * @returns {Promise<Array<Recommendation>>}\n     */\n    getRecommendationsFromChannel(channel = 'recommended') {\n        return this._listening.getRecommendationsFromChannel(channel);\n    }\n\n    /**\n     * See {@link Listening#queueRecommendationFromChannel} for description.\n     *\n     * @param {string} channel   The channel used in the original call to `getRecommendationsFromChannel()`\n     * @param {string} uid       The unique ID of the item to queue up for the user\n     * @returns {Recommendation}\n     * @throws {TypeError} If no valid channel or UID is passed in\n     * @throws {Error} If no recommendations for this channel were previously cached, or if the UID was not found in that cached list\n     */\n    queueRecommendationFromChannel(channel, uid) {\n        return this._listening.queueRecommendationFromChannel(channel, uid);\n    }\n\n    /**\n     * See {@link Listening#getHistory} for description.\n     *\n     * @returns {Promise<Array<Recommendation>>}\n     */\n    getHistory() {\n        return this._listening.getHistory();\n    }\n\n    /**\n     * See {@link Listening#resetFlow} for description.\n     *\n     * @returns {Promise}\n     */\n    resetFlow() {\n        return this._listening.resetFlow();\n    }\n\n    /* Identity */\n\n    /**\n     * See {@link Identity#getUser} for description.\n     *\n     * @returns {Promise<User>}\n     */\n    getUser() {\n        return this._identity.getUser();\n    }\n\n    /**\n     * See {@link Identity#setUserStation} for description.\n     *\n     * @param {number|string} stationId   The station's ID, which is either an integer or a numeric string (e.g. `123` or `'123'`)\n     * @returns {Promise<User>}\n     */\n    setUserStation(stationId) {\n        return this._identity.setUserStation(stationId);\n    }\n\n    /**\n     * See {@link Identity#followShow} for description.\n     *\n     * @param {number|string} aggregationId    The aggregation (show) ID, which is either an integer or a numeric string (e.g. `123` or `'123'`)\n     * @returns {Promise<User>}\n     * @throws {TypeError} if the passed-in aggregation (show) ID is not either a number or a numeric string\n     */\n    followShow(aggregationId) {\n        return this._identity.followShow(aggregationId);\n    }\n\n    /**\n     * See {@link Identity#unfollowShow} for description.\n     *\n     * @param {number|string} aggregationId    The aggregation (show) ID, which is either an integer or a numeric string (e.g. `123` or `'123'`)\n     * @returns {Promise<User>}\n     * @throws {TypeError} if the passed-in aggregation (show) ID is not either a number or a numeric string\n     */\n    unfollowShow(aggregationId) {\n        return this._identity.unfollowShow(aggregationId);\n    }\n\n    /**\n     * See {@link Identity#createTemporaryUser} for description.\n     *\n     * @returns {Promise<User>}\n     * @throws {TypeError} if an OAuth proxy is not configured or no client ID is set\n     */\n    createTemporaryUser() {\n        return this._identity.createTemporaryUser();\n    }\n\n    /* Station Finder */\n\n    /**\n     * See {@link StationFinder#searchStations} for description.\n     *\n     * @param {null|string} [query]   An optional query, which can be a station name, network name, or zip code\n     * @returns {Promise<Array<Station>>}\n     */\n    searchStations(query = null) {\n        return this._stationfinder.searchStations(query);\n    }\n\n    /**\n     * See {@link StationFinder#searchStationsByLatLongCoordinates} for description.\n     *\n     * @param {number} lat    A float representing the latitude value of the geographic coordinates\n     * @param {number} long   A float representing the longitude value of the geographic coordinates\n     * @returns {Promise<Array<Station>>}\n     */\n    searchStationsByLatLongCoordinates(lat, long) {\n        return this._stationfinder.searchStationsByLatLongCoordinates(lat, long);\n    }\n\n    /**\n     * See {@link StationFinder#searchStationsByCityAndState} for description.\n     *\n     * @param {string} city     A full city name (e.g. \"New York\", \"San Francisco\", \"Phoenix\")\n     * @param {string} state    A state name (e.g. \"Maryland\") or abbreviation (e.g. \"MD\")\n     * @returns {Promise<Array<Station>>}\n     */\n    searchStationsByCityAndState(city, state) {\n        return this._stationfinder.searchStationsByCityAndState(city, state);\n    }\n\n    /**\n     * See {@link StationFinder#searchStationsByCity} for description.\n     *\n     * @param {string} city   A full city name (e.g. \"New York\", \"San Francisco\", \"Phoenix\")\n     * @returns {Promise<Array<Station>>}\n     */\n    searchStationsByCity(city) {\n        return this._stationfinder.searchStationsByCity(city);\n    }\n\n    /**\n     * See {@link StationFinder#searchStationsByState} for description.\n     *\n     * @param {string} state    A state name (e.g. \"Maryland\") or abbreviation (e.g. \"MD\")\n     * @returns {Promise<Array<Station>>}\n     */\n    searchStationsByState(state) {\n        return this._stationfinder.searchStationsByState(state);\n    }\n\n    /**\n     * See {@link StationFinder#getStationDetails} for description.\n     *\n     * @param {number|string} stationId   The station's ID, which is either an integer or a numeric string (e.g. `123` or `'123'`)\n     * @returns {Promise<Station>}\n     */\n    getStationDetails(stationId) {\n        return this._stationfinder.getStationDetails(stationId);\n    }\n\n    /**\n     * Returns the foundational path for a given service\n     *\n     * @param {string} service\n     * @returns {string}\n     * @throws {TypeError} if the passed-in service name is missing or invalid\n     */\n    static getServiceUrl(service) {\n        switch (service) {\n            case 'authorization':\n                return `https://${NprOneSDK.config.subdomain}authorization.api.npr.org/v2`;\n            case 'identity':\n                return `https://${NprOneSDK.config.subdomain}identity.api.npr.org/v2`;\n            case 'listening':\n                return `https://${NprOneSDK.config.subdomain}listening.api.npr.org/v2`;\n            case 'stationfinder':\n                return `https://${NprOneSDK.config.subdomain}station.api.npr.org/v3`;\n            default:\n                throw new TypeError('Must specify a valid service name');\n        }\n    }\n\n    /**\n     * Initializes the config using default settings.\n     *\n     * @private\n     */\n    static _initConfig() {\n        if (!NprOneSDK._config) {\n            NprOneSDK._config = {\n                authProxyBaseUrl: '',\n                newDeviceCodePath: '/device',\n                pollDeviceCodePath: '/device/poll',\n                refreshTokenPath: '/refresh',\n                tempUserPath: '/temporary',\n                logoutPath: '/logout',\n                accessToken: '',\n                clientId: '',\n                advertisingId: '',\n                advertisingTarget: '',\n                subdomain: '',\n            };\n        }\n    }\n}\nexport default NprOneSDK;\n\n/**\n * @external {Response} https://developer.mozilla.org/en-US/docs/Web/API/Response\n */\n/**\n * @external {Headers} https://developer.mozilla.org/en-US/docs/Web/API/Headers\n */\n/**\n * @external {JsLogger} https://github.com/jonnyreeves/js-logger\n */\n"
  },
  {
    "__docId__": 79,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "NprOneSDK",
    "memberof": "src/index.js",
    "longname": "src/index.js~NprOneSDK",
    "access": null,
    "export": true,
    "importPath": "@npr/npr-one-sdk/index.js",
    "importStyle": "{NprOneSDK}",
    "description": "This SDK attempts to abstract away most of the interaction with the NPR One API.\nIn general, a consumer of this API should be primarily concerned with asking for\nrecommendations and recording user actions against those recommendations.",
    "lineNumber": 16,
    "interface": false
  },
  {
    "__docId__": 80,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/index.js~NprOneSDK",
    "longname": "src/index.js~NprOneSDK#constructor",
    "access": null,
    "description": "Instantiates the NPR One SDK.",
    "lineNumber": 20,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 81,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_accessTokenChangedCallback",
    "memberof": "src/index.js~NprOneSDK",
    "longname": "src/index.js~NprOneSDK#_accessTokenChangedCallback",
    "access": "private",
    "description": null,
    "lineNumber": 23,
    "type": {
      "nullable": null,
      "types": [
        "null",
        "Function"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 82,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_authorization",
    "memberof": "src/index.js~NprOneSDK",
    "longname": "src/index.js~NprOneSDK#_authorization",
    "access": "private",
    "description": null,
    "lineNumber": 26,
    "type": {
      "nullable": null,
      "types": [
        "Authorization"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 83,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_listening",
    "memberof": "src/index.js~NprOneSDK",
    "longname": "src/index.js~NprOneSDK#_listening",
    "access": "private",
    "description": null,
    "lineNumber": 29,
    "type": {
      "nullable": null,
      "types": [
        "Listening"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 84,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_identity",
    "memberof": "src/index.js~NprOneSDK",
    "longname": "src/index.js~NprOneSDK#_identity",
    "access": "private",
    "description": null,
    "lineNumber": 32,
    "type": {
      "nullable": null,
      "types": [
        "Identity"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 85,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_stationfinder",
    "memberof": "src/index.js~NprOneSDK",
    "longname": "src/index.js~NprOneSDK#_stationfinder",
    "access": "private",
    "description": null,
    "lineNumber": 35,
    "type": {
      "nullable": null,
      "types": [
        "StationFinder"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 86,
    "kind": "typedef",
    "static": true,
    "variation": null,
    "name": "Config",
    "memberof": "src/index.js~NprOneSDK",
    "longname": "src/index.js~NprOneSDK.Config",
    "access": null,
    "description": "",
    "properties": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "'https://api.npr.org'",
        "defaultRaw": "'https://api.npr.org'",
        "name": "apiBaseUrl",
        "description": "DEPRECATED / NO LONGER IN USE: The NPR One API hostname and protocol, typically `https://api.npr.org`; in most cases, this does not need to be manually set by clients"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "'v2'",
        "defaultRaw": "'v2'",
        "name": "apiVersion",
        "description": "DEPRECATED / NO LONGER IN USE: The NPR One API version, typically `v2`; in most cases, this does not need to be manually set by clients"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": true,
        "name": "authProxyBaseUrl",
        "description": "The full URL to your OAuth proxy, e.g. `https://one.example.com/oauth2/`"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "'/device'",
        "defaultRaw": "'/device'",
        "name": "newDeviceCodePath",
        "description": "The path to your proxy for starting a `device_code` grant (relative to `authProxyBaseUrl`)"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "'/device/poll'",
        "defaultRaw": "'/device/poll'",
        "name": "pollDeviceCodePath",
        "description": "The path to your proxy for polling a `device_code` grant (relative to `authProxyBaseUrl`)"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "'/refresh'",
        "defaultRaw": "'/refresh'",
        "name": "refreshTokenPath",
        "description": "The path to your proxy for the `refresh_token` grant (relative to `authProxyBaseUrl`)"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "'/temporary'",
        "defaultRaw": "'/temporary'",
        "name": "tempUserPath",
        "description": "The path to your proxy for the `temporary_user` grant (relative to `authProxyBaseUrl`), not available to third-party clients"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "'/logout'",
        "defaultRaw": "'/logout'",
        "name": "logoutPath",
        "description": "The path to your proxy for the `POST /authorization/v2/token/revoke` endpoint (relative to `authProxyBaseUrl`)"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": true,
        "name": "accessToken",
        "description": "The access token to use if not using the auth proxy"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": true,
        "name": "clientId",
        "description": "The NPR One API `client_id` to use, only required if using the auth proxy with the `temporary_user` grant type"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": true,
        "name": "advertisingId",
        "description": "The custom X-Advertising-ID header to send with most requests, not typically used by third-party clients"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": true,
        "name": "advertisingTarget",
        "description": "The custom X-Advertising-Target header to send with most requests, not typically used by third-party clients"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": true,
        "name": "subdomain",
        "description": "The custom subdomain to use for requests, not typically used by third-party clients"
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "Config"
    }
  },
  {
    "__docId__": 87,
    "kind": "get",
    "static": true,
    "variation": null,
    "name": "config",
    "memberof": "src/index.js~NprOneSDK",
    "longname": "src/index.js~NprOneSDK.config",
    "access": null,
    "description": "",
    "lineNumber": 60,
    "type": {
      "nullable": null,
      "types": [
        "Config"
      ],
      "spread": false,
      "description": null
    },
    "generator": false
  },
  {
    "__docId__": 88,
    "kind": "set",
    "static": true,
    "variation": null,
    "name": "config",
    "memberof": "src/index.js~NprOneSDK",
    "longname": "src/index.js~NprOneSDK.config",
    "access": null,
    "description": "Updates private `_config` member attributes but does not overwrite entire `_config` object",
    "lineNumber": 70,
    "type": {
      "nullable": null,
      "types": [
        "Config"
      ],
      "spread": false,
      "description": null
    },
    "generator": false
  },
  {
    "__docId__": 89,
    "kind": "get",
    "static": true,
    "variation": null,
    "name": "accessToken",
    "memberof": "src/index.js~NprOneSDK",
    "longname": "src/index.js~NprOneSDK.accessToken",
    "access": null,
    "description": null,
    "lineNumber": 86,
    "type": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": null
    },
    "generator": false
  },
  {
    "__docId__": 90,
    "kind": "set",
    "static": true,
    "variation": null,
    "name": "accessToken",
    "memberof": "src/index.js~NprOneSDK",
    "longname": "src/index.js~NprOneSDK.accessToken",
    "access": null,
    "description": null,
    "lineNumber": 91,
    "type": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": null
    },
    "generator": false
  },
  {
    "__docId__": 91,
    "kind": "set",
    "static": true,
    "variation": null,
    "name": "onAccessTokenChanged",
    "memberof": "src/index.js~NprOneSDK",
    "longname": "src/index.js~NprOneSDK.onAccessTokenChanged",
    "access": null,
    "description": "Sets a callback to be triggered whenever the SDK rotates the access token for a new one, usually when\nthe old token expires and a `refresh_token` is used to generate a fresh token. Clients who wish to persist\naccess tokens across sessions are urged to use this callback to be notified whenever a token change has\noccurred; the only other alternative is to call `get accessToken()` after every API call.",
    "lineNumber": 113,
    "type": {
      "nullable": null,
      "types": [
        "Function"
      ],
      "spread": false,
      "description": null
    },
    "throws": [
      {
        "types": [
          "TypeError"
        ],
        "description": "if the passed-in value isn't a function"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 92,
    "kind": "get",
    "static": true,
    "variation": null,
    "name": "Action",
    "memberof": "src/index.js~NprOneSDK",
    "longname": "src/index.js~NprOneSDK.Action",
    "access": null,
    "description": "Exposes the Action class for clients to record actions",
    "lineNumber": 125,
    "type": {
      "nullable": null,
      "types": [
        "Action"
      ],
      "spread": false,
      "description": null
    },
    "generator": false
  },
  {
    "__docId__": 93,
    "kind": "get",
    "static": true,
    "variation": null,
    "name": "Logger",
    "memberof": "src/index.js~NprOneSDK",
    "longname": "src/index.js~NprOneSDK.Logger",
    "access": null,
    "description": "Exposes the Logger class for clients to adjust logging if desired",
    "lineNumber": 134,
    "type": {
      "nullable": null,
      "types": [
        "src/util/logger.js~Logger"
      ],
      "spread": false,
      "description": null
    },
    "generator": false
  },
  {
    "__docId__": 94,
    "kind": "method",
    "static": true,
    "variation": null,
    "name": "refreshExistingAccessToken",
    "memberof": "src/index.js~NprOneSDK",
    "longname": "src/index.js~NprOneSDK.refreshExistingAccessToken",
    "access": null,
    "description": "See {@link Authorization.refreshExistingAccessToken} for description.",
    "lineNumber": 147,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<AccessToken>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "number"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "0",
        "defaultRaw": 0,
        "name": "numRetries",
        "description": "The number of times this function has been tried. Will retry up to 3 times."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<AccessToken>"
      ],
      "spread": false,
      "description": ""
    },
    "throws": [
      {
        "types": [
          "TypeError"
        ],
        "description": "if an OAuth proxy is not configured or no access token is set"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 95,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "logout",
    "memberof": "src/index.js~NprOneSDK",
    "longname": "src/index.js~NprOneSDK#logout",
    "access": null,
    "description": "See {@link Authorization#logout} for description.",
    "lineNumber": 157,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise}"
      }
    ],
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "Promise"
      ],
      "spread": false,
      "description": ""
    },
    "throws": [
      {
        "types": [
          "TypeError"
        ],
        "description": "if an OAuth proxy is not configured or no access token is currently set"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 96,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getDeviceCode",
    "memberof": "src/index.js~NprOneSDK",
    "longname": "src/index.js~NprOneSDK#getDeviceCode",
    "access": null,
    "description": "See {@link Authorization#getDeviceCode} for description.",
    "lineNumber": 168,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<DeviceCode>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Array<string>"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "[]",
        "defaultRaw": [],
        "name": "scopes",
        "description": "The scopes (as strings) that should be associated with the resulting access token"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<DeviceCode>"
      ],
      "spread": false,
      "description": ""
    },
    "throws": [
      {
        "types": [
          "TypeError"
        ],
        "description": "if an OAuth proxy is not configured"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 97,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "pollDeviceCode",
    "memberof": "src/index.js~NprOneSDK",
    "longname": "src/index.js~NprOneSDK#pollDeviceCode",
    "access": null,
    "description": "See {@link Authorization#pollDeviceCode} for description.",
    "lineNumber": 178,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<AccessToken>}"
      }
    ],
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "Promise<AccessToken>"
      ],
      "spread": false,
      "description": ""
    },
    "throws": [
      {
        "types": [
          "TypeError"
        ],
        "description": "if an OAuth proxy is not configured or `getDeviceCode()` was not previously called"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 98,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getRecommendation",
    "memberof": "src/index.js~NprOneSDK",
    "longname": "src/index.js~NprOneSDK#getRecommendation",
    "access": null,
    "description": "See {@link Listening#getRecommendation} for description.",
    "lineNumber": 191,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Recommendation>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "''",
        "defaultRaw": "''",
        "name": "uid",
        "description": "Optional; a UID for a specific recommendation to play. In 99% of use cases, this is not needed."
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "'npr'",
        "defaultRaw": "'npr'",
        "name": "channel",
        "description": "Optional; a channel to pull the recommendation from; the main flow channel of `npr` is used as the default. In 99% of use cases, this does not need to be changed."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Recommendation>"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 99,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "resumeFlowFromRecommendation",
    "memberof": "src/index.js~NprOneSDK",
    "longname": "src/index.js~NprOneSDK#resumeFlowFromRecommendation",
    "access": null,
    "description": "See {@link Listening#resumeFlowFromRecommendation} for description.",
    "lineNumber": 201,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Recommendation}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "json",
        "description": "JSON object representation of a recommendation"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Recommendation"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 100,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getUpcomingFlowRecommendations",
    "memberof": "src/index.js~NprOneSDK",
    "longname": "src/index.js~NprOneSDK#getUpcomingFlowRecommendations",
    "access": null,
    "description": "See {@link Listening#getUpcomingFlowRecommendations} for description.",
    "lineNumber": 212,
    "experimental": true,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Array<Recommendation>>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "'npr'",
        "defaultRaw": "'npr'",
        "name": "channel",
        "description": "A channel to pull the next recommendation from"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Array<Recommendation>>"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 101,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getRecommendationsFromChannel",
    "memberof": "src/index.js~NprOneSDK",
    "longname": "src/index.js~NprOneSDK#getRecommendationsFromChannel",
    "access": null,
    "description": "See {@link Listening#getRecommendationsFromChannel} for description.",
    "lineNumber": 222,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Array<Recommendation>>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "'recommended'",
        "defaultRaw": "'recommended'",
        "name": "channel",
        "description": "A non-flow (i.e. non-`npr`) channel to retrieve a list of recommendations from"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Array<Recommendation>>"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 102,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "queueRecommendationFromChannel",
    "memberof": "src/index.js~NprOneSDK",
    "longname": "src/index.js~NprOneSDK#queueRecommendationFromChannel",
    "access": null,
    "description": "See {@link Listening#queueRecommendationFromChannel} for description.",
    "lineNumber": 235,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Recommendation}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "channel",
        "description": "The channel used in the original call to `getRecommendationsFromChannel()`"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "uid",
        "description": "The unique ID of the item to queue up for the user"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Recommendation"
      ],
      "spread": false,
      "description": ""
    },
    "throws": [
      {
        "types": [
          "TypeError"
        ],
        "description": "If no valid channel or UID is passed in"
      },
      {
        "types": [
          "Error"
        ],
        "description": "If no recommendations for this channel were previously cached, or if the UID was not found in that cached list"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 103,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getHistory",
    "memberof": "src/index.js~NprOneSDK",
    "longname": "src/index.js~NprOneSDK#getHistory",
    "access": null,
    "description": "See {@link Listening#getHistory} for description.",
    "lineNumber": 244,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Array<Recommendation>>}"
      }
    ],
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Array<Recommendation>>"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 104,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "resetFlow",
    "memberof": "src/index.js~NprOneSDK",
    "longname": "src/index.js~NprOneSDK#resetFlow",
    "access": null,
    "description": "See {@link Listening#resetFlow} for description.",
    "lineNumber": 253,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise}"
      }
    ],
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "Promise"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 105,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getUser",
    "memberof": "src/index.js~NprOneSDK",
    "longname": "src/index.js~NprOneSDK#getUser",
    "access": null,
    "description": "See {@link Identity#getUser} for description.",
    "lineNumber": 264,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<User>}"
      }
    ],
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "Promise<User>"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 106,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "setUserStation",
    "memberof": "src/index.js~NprOneSDK",
    "longname": "src/index.js~NprOneSDK#setUserStation",
    "access": null,
    "description": "See {@link Identity#setUserStation} for description.",
    "lineNumber": 274,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<User>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "number",
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "stationId",
        "description": "The station's ID, which is either an integer or a numeric string (e.g. `123` or `'123'`)"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<User>"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 107,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "followShow",
    "memberof": "src/index.js~NprOneSDK",
    "longname": "src/index.js~NprOneSDK#followShow",
    "access": null,
    "description": "See {@link Identity#followShow} for description.",
    "lineNumber": 285,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<User>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "number",
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "aggregationId",
        "description": "The aggregation (show) ID, which is either an integer or a numeric string (e.g. `123` or `'123'`)"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<User>"
      ],
      "spread": false,
      "description": ""
    },
    "throws": [
      {
        "types": [
          "TypeError"
        ],
        "description": "if the passed-in aggregation (show) ID is not either a number or a numeric string"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 108,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "unfollowShow",
    "memberof": "src/index.js~NprOneSDK",
    "longname": "src/index.js~NprOneSDK#unfollowShow",
    "access": null,
    "description": "See {@link Identity#unfollowShow} for description.",
    "lineNumber": 296,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<User>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "number",
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "aggregationId",
        "description": "The aggregation (show) ID, which is either an integer or a numeric string (e.g. `123` or `'123'`)"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<User>"
      ],
      "spread": false,
      "description": ""
    },
    "throws": [
      {
        "types": [
          "TypeError"
        ],
        "description": "if the passed-in aggregation (show) ID is not either a number or a numeric string"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 109,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "createTemporaryUser",
    "memberof": "src/index.js~NprOneSDK",
    "longname": "src/index.js~NprOneSDK#createTemporaryUser",
    "access": null,
    "description": "See {@link Identity#createTemporaryUser} for description.",
    "lineNumber": 306,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<User>}"
      }
    ],
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "Promise<User>"
      ],
      "spread": false,
      "description": ""
    },
    "throws": [
      {
        "types": [
          "TypeError"
        ],
        "description": "if an OAuth proxy is not configured or no client ID is set"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 110,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "searchStations",
    "memberof": "src/index.js~NprOneSDK",
    "longname": "src/index.js~NprOneSDK#searchStations",
    "access": null,
    "description": "See {@link StationFinder#searchStations} for description.",
    "lineNumber": 318,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Array<Station>>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "null",
          "string"
        ],
        "spread": false,
        "optional": true,
        "name": "query",
        "description": "An optional query, which can be a station name, network name, or zip code"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Array<Station>>"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 111,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "searchStationsByLatLongCoordinates",
    "memberof": "src/index.js~NprOneSDK",
    "longname": "src/index.js~NprOneSDK#searchStationsByLatLongCoordinates",
    "access": null,
    "description": "See {@link StationFinder#searchStationsByLatLongCoordinates} for description.",
    "lineNumber": 329,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Array<Station>>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "number"
        ],
        "spread": false,
        "optional": false,
        "name": "lat",
        "description": "A float representing the latitude value of the geographic coordinates"
      },
      {
        "nullable": null,
        "types": [
          "number"
        ],
        "spread": false,
        "optional": false,
        "name": "long",
        "description": "A float representing the longitude value of the geographic coordinates"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Array<Station>>"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 112,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "searchStationsByCityAndState",
    "memberof": "src/index.js~NprOneSDK",
    "longname": "src/index.js~NprOneSDK#searchStationsByCityAndState",
    "access": null,
    "description": "See {@link StationFinder#searchStationsByCityAndState} for description.",
    "lineNumber": 340,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Array<Station>>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "city",
        "description": "A full city name (e.g. \"New York\", \"San Francisco\", \"Phoenix\")"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "state",
        "description": "A state name (e.g. \"Maryland\") or abbreviation (e.g. \"MD\")"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Array<Station>>"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 113,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "searchStationsByCity",
    "memberof": "src/index.js~NprOneSDK",
    "longname": "src/index.js~NprOneSDK#searchStationsByCity",
    "access": null,
    "description": "See {@link StationFinder#searchStationsByCity} for description.",
    "lineNumber": 350,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Array<Station>>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "city",
        "description": "A full city name (e.g. \"New York\", \"San Francisco\", \"Phoenix\")"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Array<Station>>"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 114,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "searchStationsByState",
    "memberof": "src/index.js~NprOneSDK",
    "longname": "src/index.js~NprOneSDK#searchStationsByState",
    "access": null,
    "description": "See {@link StationFinder#searchStationsByState} for description.",
    "lineNumber": 360,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Array<Station>>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "state",
        "description": "A state name (e.g. \"Maryland\") or abbreviation (e.g. \"MD\")"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Array<Station>>"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 115,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getStationDetails",
    "memberof": "src/index.js~NprOneSDK",
    "longname": "src/index.js~NprOneSDK#getStationDetails",
    "access": null,
    "description": "See {@link StationFinder#getStationDetails} for description.",
    "lineNumber": 370,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Station>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "number",
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "stationId",
        "description": "The station's ID, which is either an integer or a numeric string (e.g. `123` or `'123'`)"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Station>"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 116,
    "kind": "method",
    "static": true,
    "variation": null,
    "name": "getServiceUrl",
    "memberof": "src/index.js~NprOneSDK",
    "longname": "src/index.js~NprOneSDK.getServiceUrl",
    "access": null,
    "description": "Returns the foundational path for a given service",
    "lineNumber": 381,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{string}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "service",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": ""
    },
    "throws": [
      {
        "types": [
          "TypeError"
        ],
        "description": "if the passed-in service name is missing or invalid"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 117,
    "kind": "method",
    "static": true,
    "variation": null,
    "name": "_initConfig",
    "memberof": "src/index.js~NprOneSDK",
    "longname": "src/index.js~NprOneSDK._initConfig",
    "access": "private",
    "description": "Initializes the config using default settings.",
    "lineNumber": 401,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 118,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Response",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/API/Response",
    "memberof": "src/index.js",
    "longname": "src/index.js~Response",
    "access": null,
    "description": ""
  },
  {
    "__docId__": 119,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Headers",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/API/Headers",
    "memberof": "src/index.js",
    "longname": "src/index.js~Headers",
    "access": null,
    "description": ""
  },
  {
    "__docId__": 120,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "JsLogger",
    "externalLink": "https://github.com/jonnyreeves/js-logger",
    "memberof": "src/index.js",
    "longname": "src/index.js~JsLogger",
    "access": null,
    "description": ""
  },
  {
    "__docId__": 121,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/model/access-token.js",
    "memberof": null,
    "longname": "src/model/access-token.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import Validator from './../util/validator';\n\n/**\n * A thin wrapper around the raw JSON returned from the authorization server to represent an access token\n */\nexport default class AccessToken\n{\n    /**\n     * @param {Object} json    The decoded JSON object that should be used as the basis for this model\n     */\n    constructor(json) {\n        this._raw = json;\n\n        this._expiryDate = null;\n        if (!isNaN(this._raw.expires_in)) {\n            this._expiryDate = new Date(Date.now() + this.ttl);\n        }\n    }\n\n    /**\n     * Ensure that the given access token model is valid\n     *\n     * @throws {TypeError} if access token model is invalid\n     */\n    validate() {\n        Validator.validateAccessToken(this._raw);\n    }\n\n    /**\n     * Returns whether or not this access token has expired.\n     * Note that due to network latency, etc., it's possible that the internally-stored expiry date could be about a\n     * second or so behind, and so this function is not guaranteed to be perfectly accurate.\n     *\n     * @returns {boolean}\n     */\n    isExpired() {\n        return this._expiryDate !== null && (new Date()) >= this._expiryDate;\n    }\n\n    /**\n     * Returns the access token itself (40-character alphanumeric string)\n     *\n     * @type {string}\n     */\n    get token() {\n        return this._raw.access_token;\n    }\n\n    /**\n     * Returns the TTL (in milliseconds) until this access token expires. If you are using an auth proxy and have\n     * correctly configured the `refreshTokenUrl`, this SDK will automatically refresh expired access tokens for you,\n     * so consumers typically do not need to worry about whether or not a token is expired or about to expire.\n     *\n     * @type {number}\n     */\n    get ttl() {\n        return this._raw.expires_in * 1000;\n    }\n\n    /**\n     * A convenience function to cast this object back to a string, generally only used by the {@link Logger} class.\n     * In this case, we return only the `access_token` itself, since the rest of the object is typically not useful.\n     *\n     * @returns {string}\n     */\n    toString() {\n        return this._raw.access_token;\n    }\n}\n"
  },
  {
    "__docId__": 122,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "AccessToken",
    "memberof": "src/model/access-token.js",
    "longname": "src/model/access-token.js~AccessToken",
    "access": null,
    "export": true,
    "importPath": "@npr/npr-one-sdk/model/access-token.js",
    "importStyle": "AccessToken",
    "description": "A thin wrapper around the raw JSON returned from the authorization server to represent an access token",
    "lineNumber": 6,
    "interface": false
  },
  {
    "__docId__": 123,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/model/access-token.js~AccessToken",
    "longname": "src/model/access-token.js~AccessToken#constructor",
    "access": null,
    "description": "",
    "lineNumber": 11,
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "json",
        "description": "The decoded JSON object that should be used as the basis for this model"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 124,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_raw",
    "memberof": "src/model/access-token.js~AccessToken",
    "longname": "src/model/access-token.js~AccessToken#_raw",
    "access": null,
    "description": null,
    "lineNumber": 12,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 125,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_expiryDate",
    "memberof": "src/model/access-token.js~AccessToken",
    "longname": "src/model/access-token.js~AccessToken#_expiryDate",
    "access": null,
    "description": null,
    "lineNumber": 14,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 126,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_expiryDate",
    "memberof": "src/model/access-token.js~AccessToken",
    "longname": "src/model/access-token.js~AccessToken#_expiryDate",
    "access": null,
    "description": null,
    "lineNumber": 16,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 127,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "validate",
    "memberof": "src/model/access-token.js~AccessToken",
    "longname": "src/model/access-token.js~AccessToken#validate",
    "access": null,
    "description": "Ensure that the given access token model is valid",
    "lineNumber": 25,
    "params": [],
    "throws": [
      {
        "types": [
          "TypeError"
        ],
        "description": "if access token model is invalid"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 128,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "isExpired",
    "memberof": "src/model/access-token.js~AccessToken",
    "longname": "src/model/access-token.js~AccessToken#isExpired",
    "access": null,
    "description": "Returns whether or not this access token has expired.\nNote that due to network latency, etc., it's possible that the internally-stored expiry date could be about a\nsecond or so behind, and so this function is not guaranteed to be perfectly accurate.",
    "lineNumber": 36,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{boolean}"
      }
    ],
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "boolean"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 129,
    "kind": "get",
    "static": false,
    "variation": null,
    "name": "token",
    "memberof": "src/model/access-token.js~AccessToken",
    "longname": "src/model/access-token.js~AccessToken#token",
    "access": null,
    "description": "Returns the access token itself (40-character alphanumeric string)",
    "lineNumber": 45,
    "type": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": null
    },
    "generator": false
  },
  {
    "__docId__": 130,
    "kind": "get",
    "static": false,
    "variation": null,
    "name": "ttl",
    "memberof": "src/model/access-token.js~AccessToken",
    "longname": "src/model/access-token.js~AccessToken#ttl",
    "access": null,
    "description": "Returns the TTL (in milliseconds) until this access token expires. If you are using an auth proxy and have\ncorrectly configured the `refreshTokenUrl`, this SDK will automatically refresh expired access tokens for you,\nso consumers typically do not need to worry about whether or not a token is expired or about to expire.",
    "lineNumber": 56,
    "type": {
      "nullable": null,
      "types": [
        "number"
      ],
      "spread": false,
      "description": null
    },
    "generator": false
  },
  {
    "__docId__": 131,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "toString",
    "memberof": "src/model/access-token.js~AccessToken",
    "longname": "src/model/access-token.js~AccessToken#toString",
    "access": null,
    "description": "A convenience function to cast this object back to a string, generally only used by the {@link Logger} class.\nIn this case, we return only the `access_token` itself, since the rest of the object is typically not useful.",
    "lineNumber": 66,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{string}"
      }
    ],
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 132,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/model/action.js",
    "memberof": null,
    "longname": "src/model/action.js",
    "access": null,
    "description": null,
    "lineNumber": 5,
    "content": "/**\n * Actions that can be recorded for recommendations.\n * For more detail on user rating actions, see our narrative [Listening Service documentation](https://dev.npr.org/guide/services/listening/#Ratings)\n */\nexport default class Action\n{\n    /** @type {string} */\n    static get COMPLETED() {\n        return 'COMPLETED';\n    }\n\n    /** @type {string} */\n    static get PASS() {\n        return 'PASS';\n    }\n\n    /** @type {string} */\n    static get SHARE() {\n        return 'SHARE';\n    }\n\n    /** @type {string} */\n    static get SKIP() {\n        return 'SKIP';\n    }\n\n    /** @type {string} */\n    static get SRCHCOMPL() {\n        return 'SRCHCOMPL';\n    }\n\n    /** @type {string} */\n    static get SRCHSTART() {\n        return 'SRCHSTART';\n    }\n\n    /** @type {string} */\n    static get START() {\n        return 'START';\n    }\n\n    /** @type {string} */\n    static get THUMBUP() {\n        return 'THUMBUP';\n    }\n\n    /** @type {string} */\n    static get TIMEOUT() {\n        return 'TIMEOUT';\n    }\n\n    /** @type {string} */\n    static get TAPTHRU() {\n        return 'TAPTHRU';\n    }\n\n    /**\n     * Actions which indicate the recommendation is no longer being presented to the user\n     *\n     * @returns {Array<string>}\n     */\n    static getEndActions() {\n        return [\n            Action.COMPLETED, Action.SKIP, Action.TIMEOUT, Action.SRCHCOMPL,\n        ];\n    }\n\n    /**\n     * Actions which should result in the flow advancing\n     *\n     * @returns {Array<string>}\n     */\n    static getFlowAdvancingActions() {\n        return [\n            Action.START, Action.TAPTHRU, Action.TIMEOUT,\n        ];\n    }\n\n    /**\n     * Returns whether a given action is valid or not\n     *\n     * @param {string} action\n     * @returns {boolean}\n     */\n    static isValidAction(action) {\n        return {}.hasOwnProperty.call(Action, action);\n    }\n}\n"
  },
  {
    "__docId__": 133,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "Action",
    "memberof": "src/model/action.js",
    "longname": "src/model/action.js~Action",
    "access": null,
    "export": true,
    "importPath": "@npr/npr-one-sdk/model/action.js",
    "importStyle": "Action",
    "description": "Actions that can be recorded for recommendations.\nFor more detail on user rating actions, see our narrative [Listening Service documentation](https://dev.npr.org/guide/services/listening/#Ratings)",
    "lineNumber": 5,
    "interface": false
  },
  {
    "__docId__": 134,
    "kind": "get",
    "static": true,
    "variation": null,
    "name": "COMPLETED",
    "memberof": "src/model/action.js~Action",
    "longname": "src/model/action.js~Action.COMPLETED",
    "access": null,
    "description": null,
    "lineNumber": 8,
    "type": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": null
    },
    "generator": false
  },
  {
    "__docId__": 135,
    "kind": "get",
    "static": true,
    "variation": null,
    "name": "PASS",
    "memberof": "src/model/action.js~Action",
    "longname": "src/model/action.js~Action.PASS",
    "access": null,
    "description": null,
    "lineNumber": 13,
    "type": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": null
    },
    "generator": false
  },
  {
    "__docId__": 136,
    "kind": "get",
    "static": true,
    "variation": null,
    "name": "SHARE",
    "memberof": "src/model/action.js~Action",
    "longname": "src/model/action.js~Action.SHARE",
    "access": null,
    "description": null,
    "lineNumber": 18,
    "type": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": null
    },
    "generator": false
  },
  {
    "__docId__": 137,
    "kind": "get",
    "static": true,
    "variation": null,
    "name": "SKIP",
    "memberof": "src/model/action.js~Action",
    "longname": "src/model/action.js~Action.SKIP",
    "access": null,
    "description": null,
    "lineNumber": 23,
    "type": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": null
    },
    "generator": false
  },
  {
    "__docId__": 138,
    "kind": "get",
    "static": true,
    "variation": null,
    "name": "SRCHCOMPL",
    "memberof": "src/model/action.js~Action",
    "longname": "src/model/action.js~Action.SRCHCOMPL",
    "access": null,
    "description": null,
    "lineNumber": 28,
    "type": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": null
    },
    "generator": false
  },
  {
    "__docId__": 139,
    "kind": "get",
    "static": true,
    "variation": null,
    "name": "SRCHSTART",
    "memberof": "src/model/action.js~Action",
    "longname": "src/model/action.js~Action.SRCHSTART",
    "access": null,
    "description": null,
    "lineNumber": 33,
    "type": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": null
    },
    "generator": false
  },
  {
    "__docId__": 140,
    "kind": "get",
    "static": true,
    "variation": null,
    "name": "START",
    "memberof": "src/model/action.js~Action",
    "longname": "src/model/action.js~Action.START",
    "access": null,
    "description": null,
    "lineNumber": 38,
    "type": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": null
    },
    "generator": false
  },
  {
    "__docId__": 141,
    "kind": "get",
    "static": true,
    "variation": null,
    "name": "THUMBUP",
    "memberof": "src/model/action.js~Action",
    "longname": "src/model/action.js~Action.THUMBUP",
    "access": null,
    "description": null,
    "lineNumber": 43,
    "type": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": null
    },
    "generator": false
  },
  {
    "__docId__": 142,
    "kind": "get",
    "static": true,
    "variation": null,
    "name": "TIMEOUT",
    "memberof": "src/model/action.js~Action",
    "longname": "src/model/action.js~Action.TIMEOUT",
    "access": null,
    "description": null,
    "lineNumber": 48,
    "type": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": null
    },
    "generator": false
  },
  {
    "__docId__": 143,
    "kind": "get",
    "static": true,
    "variation": null,
    "name": "TAPTHRU",
    "memberof": "src/model/action.js~Action",
    "longname": "src/model/action.js~Action.TAPTHRU",
    "access": null,
    "description": null,
    "lineNumber": 53,
    "type": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": null
    },
    "generator": false
  },
  {
    "__docId__": 144,
    "kind": "method",
    "static": true,
    "variation": null,
    "name": "getEndActions",
    "memberof": "src/model/action.js~Action",
    "longname": "src/model/action.js~Action.getEndActions",
    "access": null,
    "description": "Actions which indicate the recommendation is no longer being presented to the user",
    "lineNumber": 62,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Array<string>}"
      }
    ],
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "Array<string>"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 145,
    "kind": "method",
    "static": true,
    "variation": null,
    "name": "getFlowAdvancingActions",
    "memberof": "src/model/action.js~Action",
    "longname": "src/model/action.js~Action.getFlowAdvancingActions",
    "access": null,
    "description": "Actions which should result in the flow advancing",
    "lineNumber": 73,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Array<string>}"
      }
    ],
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "Array<string>"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 146,
    "kind": "method",
    "static": true,
    "variation": null,
    "name": "isValidAction",
    "memberof": "src/model/action.js~Action",
    "longname": "src/model/action.js~Action.isValidAction",
    "access": null,
    "description": "Returns whether a given action is valid or not",
    "lineNumber": 85,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{boolean}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "action",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "boolean"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 147,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/model/collection-doc.js",
    "memberof": null,
    "longname": "src/model/collection-doc.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import Validator from './../util/validator';\n\n/**\n * A base model for any resources following our Collection Doc schema\n * @see http://cdoc.io\n */\nexport default class CollectionDoc\n{\n    /**\n     * @param {CollectionDocJSON} json     The decoded JSON object that should be used as the basis for this model\n     */\n    constructor(json) {\n        /** @type {Object}\n         * @protected */\n        this._raw = json;\n    }\n\n    /**\n     * Ensure that the given Collection Doc is valid\n     *\n     * @throws {TypeError} if collection doc is invalid\n     * @protected\n     */\n    _validate() {\n        Validator.validateCollectionDoc(this._raw);\n    }\n\n    /**\n     * Exposed for legacy reasons. Prefer model accessor methods were possible.\n     *\n     * @type {CollectionDocJSON}\n     */\n    get collectionDoc() {\n        return this._raw;\n    }\n\n    /**\n     * @typedef {Object} CollectionDocJSON\n     * @property {string} version The version of the Collection.Doc+JSON Hypermedia Type Specification being used by this document\n     * @property {string} href A unique identifier of the resource representation in the form of a Uniform Resource Identifier (URI)\n     * @property {Object} attributes A set of metadata attributes that represent the \"state\" of the resource in the form of key-value pairs; may be an empty object\n     * @property {Array} items A list of items associated with this document; may be an empty array\n     * @property {Object} links A map of resources that expose controls and communicate relationships with other documents; the keys describe the relationship to the current document, while the values are arrays of links\n     * @property {Array} errors A list of errors encountered in the process of creating and/or retrieving this document, intended to facilitate reliable debugging of client/server interactions\n     */\n    /**\n     * @typedef {Object} Link\n     * @property {string} [content-type] The MIME-type of the resource\n     * @property {string} href The URI that represents the resource\n     */\n}\n"
  },
  {
    "__docId__": 148,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "CollectionDoc",
    "memberof": "src/model/collection-doc.js",
    "longname": "src/model/collection-doc.js~CollectionDoc",
    "access": null,
    "export": true,
    "importPath": "@npr/npr-one-sdk/model/collection-doc.js",
    "importStyle": "CollectionDoc",
    "description": "A base model for any resources following our Collection Doc schema",
    "see": [
      "http://cdoc.io"
    ],
    "lineNumber": 7,
    "interface": false
  },
  {
    "__docId__": 149,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/model/collection-doc.js~CollectionDoc",
    "longname": "src/model/collection-doc.js~CollectionDoc#constructor",
    "access": null,
    "description": "",
    "lineNumber": 12,
    "params": [
      {
        "nullable": null,
        "types": [
          "CollectionDocJSON"
        ],
        "spread": false,
        "optional": false,
        "name": "json",
        "description": "The decoded JSON object that should be used as the basis for this model"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 150,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_raw",
    "memberof": "src/model/collection-doc.js~CollectionDoc",
    "longname": "src/model/collection-doc.js~CollectionDoc#_raw",
    "access": "protected",
    "description": null,
    "lineNumber": 15,
    "type": {
      "nullable": null,
      "types": [
        "Object"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 151,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "_validate",
    "memberof": "src/model/collection-doc.js~CollectionDoc",
    "longname": "src/model/collection-doc.js~CollectionDoc#_validate",
    "access": "protected",
    "description": "Ensure that the given Collection Doc is valid",
    "lineNumber": 24,
    "params": [],
    "throws": [
      {
        "types": [
          "TypeError"
        ],
        "description": "if collection doc is invalid"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 152,
    "kind": "get",
    "static": false,
    "variation": null,
    "name": "collectionDoc",
    "memberof": "src/model/collection-doc.js~CollectionDoc",
    "longname": "src/model/collection-doc.js~CollectionDoc#collectionDoc",
    "access": null,
    "description": "Exposed for legacy reasons. Prefer model accessor methods were possible.",
    "lineNumber": 33,
    "type": {
      "nullable": null,
      "types": [
        "CollectionDocJSON"
      ],
      "spread": false,
      "description": null
    },
    "generator": false
  },
  {
    "__docId__": 153,
    "kind": "typedef",
    "static": true,
    "variation": null,
    "name": "CollectionDocJSON",
    "memberof": "src/model/collection-doc.js~CollectionDoc",
    "longname": "src/model/collection-doc.js~CollectionDoc.CollectionDocJSON",
    "access": null,
    "description": "",
    "properties": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "version",
        "description": "The version of the Collection.Doc+JSON Hypermedia Type Specification being used by this document"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "href",
        "description": "A unique identifier of the resource representation in the form of a Uniform Resource Identifier (URI)"
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "attributes",
        "description": "A set of metadata attributes that represent the \"state\" of the resource in the form of key-value pairs; may be an empty object"
      },
      {
        "nullable": null,
        "types": [
          "Array"
        ],
        "spread": false,
        "optional": false,
        "name": "items",
        "description": "A list of items associated with this document; may be an empty array"
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "links",
        "description": "A map of resources that expose controls and communicate relationships with other documents; the keys describe the relationship to the current document, while the values are arrays of links"
      },
      {
        "nullable": null,
        "types": [
          "Array"
        ],
        "spread": false,
        "optional": false,
        "name": "errors",
        "description": "A list of errors encountered in the process of creating and/or retrieving this document, intended to facilitate reliable debugging of client/server interactions"
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "CollectionDocJSON"
    }
  },
  {
    "__docId__": 154,
    "kind": "typedef",
    "static": true,
    "variation": null,
    "name": "Link",
    "memberof": "src/model/collection-doc.js~CollectionDoc",
    "longname": "src/model/collection-doc.js~CollectionDoc.Link",
    "access": null,
    "description": "",
    "properties": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": true,
        "name": "content-type",
        "description": "The MIME-type of the resource"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "href",
        "description": "The URI that represents the resource"
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "Link"
    }
  },
  {
    "__docId__": 155,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/model/device-code.js",
    "memberof": null,
    "longname": "src/model/device-code.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import Validator from './../util/validator';\n\n/**\n * A thin wrapper around the raw JSON returned from the authorization server to represent a device code/user code pair\n */\nexport default class DeviceCode\n{\n    /**\n     * @param {Object} json    The decoded JSON object that should be used as the basis for this model\n     */\n    constructor(json) {\n        this._raw = json;\n\n        this._expiryDate = null;\n        if (!isNaN(this._raw.expires_in)) {\n            this._expiryDate = new Date(Date.now() + this.ttl);\n        }\n    }\n\n    /**\n     * Ensure that the given device code model is valid\n     *\n     * @throws {TypeError} if device code model is invalid\n     */\n    validate() {\n        Validator.validateDeviceCode(this._raw);\n    }\n\n    /**\n     * Returns whether or not this device code/user code pair has expired.\n     * Note that due to network latency, etc., it's possible that the internally-stored expiry date could be about a\n     * second or so behind, and so this function is not guaranteed to be perfectly accurate.\n     *\n     * @returns {boolean}\n     */\n    isExpired() {\n        return this._expiryDate !== null && (new Date()) >= this._expiryDate;\n    }\n\n    /**\n     * Returns the user code (8-character alphanumeric string)\n     *\n     * @type {string}\n     */\n    get userCode() {\n        return this._raw.user_code;\n    }\n\n    /**\n     * Returns the verification URL (the place where the user should go on their mobile device or laptop to log in)\n     *\n     * @type {string}\n     */\n    get verificationUri() {\n        return this._raw.verification_uri;\n    }\n\n    /**\n     * Returns the TTL (in milliseconds) until this device code/user code pair expires. The SDK will automatically generate\n     * a new key pair upon expiry, so consumers of the SDK will generally not have to use this value directly; however,\n     * you may opt to display on the screen how much time the user has left to log in before a new code is generated.\n     *\n     * @type {number}\n     */\n    get ttl() {\n        return this._raw.expires_in * 1000;\n    }\n\n    /**\n     * Returns the interval (in milliseconds) at which the client (in this case the SDK) should poll the `POST /token`\n     * endpoint (or the OAuth proxy that lies in between). Consumers of the SDK should generally not have to use this\n     * value directly.\n     *\n     * @type {number}\n     */\n    get interval() {\n        return this._raw.interval * 1000;\n    }\n\n    /**\n     * A convenience function to cast this object back to a string, generally only used by the {@link Logger} class.\n     * In this case, we return the raw JSON string representing the entire object.\n     *\n     * @returns {string}\n     */\n    toString() {\n        return JSON.stringify(this._raw);\n    }\n}\n"
  },
  {
    "__docId__": 156,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "DeviceCode",
    "memberof": "src/model/device-code.js",
    "longname": "src/model/device-code.js~DeviceCode",
    "access": null,
    "export": true,
    "importPath": "@npr/npr-one-sdk/model/device-code.js",
    "importStyle": "DeviceCode",
    "description": "A thin wrapper around the raw JSON returned from the authorization server to represent a device code/user code pair",
    "lineNumber": 6,
    "interface": false
  },
  {
    "__docId__": 157,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/model/device-code.js~DeviceCode",
    "longname": "src/model/device-code.js~DeviceCode#constructor",
    "access": null,
    "description": "",
    "lineNumber": 11,
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "json",
        "description": "The decoded JSON object that should be used as the basis for this model"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 158,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_raw",
    "memberof": "src/model/device-code.js~DeviceCode",
    "longname": "src/model/device-code.js~DeviceCode#_raw",
    "access": null,
    "description": null,
    "lineNumber": 12,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 159,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_expiryDate",
    "memberof": "src/model/device-code.js~DeviceCode",
    "longname": "src/model/device-code.js~DeviceCode#_expiryDate",
    "access": null,
    "description": null,
    "lineNumber": 14,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 160,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_expiryDate",
    "memberof": "src/model/device-code.js~DeviceCode",
    "longname": "src/model/device-code.js~DeviceCode#_expiryDate",
    "access": null,
    "description": null,
    "lineNumber": 16,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 161,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "validate",
    "memberof": "src/model/device-code.js~DeviceCode",
    "longname": "src/model/device-code.js~DeviceCode#validate",
    "access": null,
    "description": "Ensure that the given device code model is valid",
    "lineNumber": 25,
    "params": [],
    "throws": [
      {
        "types": [
          "TypeError"
        ],
        "description": "if device code model is invalid"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 162,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "isExpired",
    "memberof": "src/model/device-code.js~DeviceCode",
    "longname": "src/model/device-code.js~DeviceCode#isExpired",
    "access": null,
    "description": "Returns whether or not this device code/user code pair has expired.\nNote that due to network latency, etc., it's possible that the internally-stored expiry date could be about a\nsecond or so behind, and so this function is not guaranteed to be perfectly accurate.",
    "lineNumber": 36,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{boolean}"
      }
    ],
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "boolean"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 163,
    "kind": "get",
    "static": false,
    "variation": null,
    "name": "userCode",
    "memberof": "src/model/device-code.js~DeviceCode",
    "longname": "src/model/device-code.js~DeviceCode#userCode",
    "access": null,
    "description": "Returns the user code (8-character alphanumeric string)",
    "lineNumber": 45,
    "type": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": null
    },
    "generator": false
  },
  {
    "__docId__": 164,
    "kind": "get",
    "static": false,
    "variation": null,
    "name": "verificationUri",
    "memberof": "src/model/device-code.js~DeviceCode",
    "longname": "src/model/device-code.js~DeviceCode#verificationUri",
    "access": null,
    "description": "Returns the verification URL (the place where the user should go on their mobile device or laptop to log in)",
    "lineNumber": 54,
    "type": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": null
    },
    "generator": false
  },
  {
    "__docId__": 165,
    "kind": "get",
    "static": false,
    "variation": null,
    "name": "ttl",
    "memberof": "src/model/device-code.js~DeviceCode",
    "longname": "src/model/device-code.js~DeviceCode#ttl",
    "access": null,
    "description": "Returns the TTL (in milliseconds) until this device code/user code pair expires. The SDK will automatically generate\na new key pair upon expiry, so consumers of the SDK will generally not have to use this value directly; however,\nyou may opt to display on the screen how much time the user has left to log in before a new code is generated.",
    "lineNumber": 65,
    "type": {
      "nullable": null,
      "types": [
        "number"
      ],
      "spread": false,
      "description": null
    },
    "generator": false
  },
  {
    "__docId__": 166,
    "kind": "get",
    "static": false,
    "variation": null,
    "name": "interval",
    "memberof": "src/model/device-code.js~DeviceCode",
    "longname": "src/model/device-code.js~DeviceCode#interval",
    "access": null,
    "description": "Returns the interval (in milliseconds) at which the client (in this case the SDK) should poll the `POST /token`\nendpoint (or the OAuth proxy that lies in between). Consumers of the SDK should generally not have to use this\nvalue directly.",
    "lineNumber": 76,
    "type": {
      "nullable": null,
      "types": [
        "number"
      ],
      "spread": false,
      "description": null
    },
    "generator": false
  },
  {
    "__docId__": 167,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "toString",
    "memberof": "src/model/device-code.js~DeviceCode",
    "longname": "src/model/device-code.js~DeviceCode#toString",
    "access": null,
    "description": "A convenience function to cast this object back to a string, generally only used by the {@link Logger} class.\nIn this case, we return the raw JSON string representing the entire object.",
    "lineNumber": 86,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{string}"
      }
    ],
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 168,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/model/rating.js",
    "memberof": null,
    "longname": "src/model/rating.js",
    "access": null,
    "description": null,
    "lineNumber": 4,
    "content": "/**\n * Container class for all metadata pertaining to an action that a user has taken against a recommendation.\n */\nexport default class Rating\n{\n    /**\n     * @param {Object} json The decoded JSON object that should be used as the basis for this model\n     * @param {string} json.mediaId The media id as given by the media object\n     * @param {string} json.origin How the recommendation was generated\n     * @param {string} json.rating String representing the rating (action)\n     * @param {number} json.elapsed Number of seconds since the start of playback for this media item, as an integer\n     * @param {number} json.duration Number of seconds this audio piece is expected to last\n     * @param {string} json.timestamp ISO-8601 formatted date/time; typically replaced by the client with the actual rating time\n     * @param {string} json.channel The channel this media item was pulled from\n     * @param {string} json.cohort The primary cohort of the current logged-in user\n     * @param {Array} json.affiliations An array of IDs & other data about collections or podcasts the user has ratings for; produced by the server and should be sent back as received; used for tracking program and podcast suggestions\n     */\n    constructor(json) {\n        Object.assign(this, json);\n        this._hasSent = false;\n        this._recommendationUrl = '';\n        this._actionUrl = '';\n    }\n\n    /**\n     * Only send the fields back that NPR has sent us\n     *\n     * @param {string} key\n     * @param {boolean|string|number|Array|Object|Function} value\n     * @returns {undefined|boolean|string|number|Array|Object|Function}\n     */\n    static privateMemberReplacer(key, value) {\n        if (['_hasSent', '_recommendationUrl', '_actionUrl'].indexOf(key) >= 0) {\n            return undefined;\n        }\n        return value;\n    }\n\n    /**\n     * A convenience function to cast this object back to a string, generally only used by the {@link Logger} class.\n     *\n     * @returns {string}\n     */\n    toString() {\n        return `[RID=${this.mediaId}, R=${this.rating}]`;\n    }\n}\n"
  },
  {
    "__docId__": 169,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "Rating",
    "memberof": "src/model/rating.js",
    "longname": "src/model/rating.js~Rating",
    "access": null,
    "export": true,
    "importPath": "@npr/npr-one-sdk/model/rating.js",
    "importStyle": "Rating",
    "description": "Container class for all metadata pertaining to an action that a user has taken against a recommendation.",
    "lineNumber": 4,
    "interface": false
  },
  {
    "__docId__": 170,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/model/rating.js~Rating",
    "longname": "src/model/rating.js~Rating#constructor",
    "access": null,
    "description": "",
    "lineNumber": 18,
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "json",
        "description": "The decoded JSON object that should be used as the basis for this model"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "json.mediaId",
        "description": "The media id as given by the media object"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "json.origin",
        "description": "How the recommendation was generated"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "json.rating",
        "description": "String representing the rating (action)"
      },
      {
        "nullable": null,
        "types": [
          "number"
        ],
        "spread": false,
        "optional": false,
        "name": "json.elapsed",
        "description": "Number of seconds since the start of playback for this media item, as an integer"
      },
      {
        "nullable": null,
        "types": [
          "number"
        ],
        "spread": false,
        "optional": false,
        "name": "json.duration",
        "description": "Number of seconds this audio piece is expected to last"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "json.timestamp",
        "description": "ISO-8601 formatted date/time; typically replaced by the client with the actual rating time"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "json.channel",
        "description": "The channel this media item was pulled from"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "json.cohort",
        "description": "The primary cohort of the current logged-in user"
      },
      {
        "nullable": null,
        "types": [
          "Array"
        ],
        "spread": false,
        "optional": false,
        "name": "json.affiliations",
        "description": "An array of IDs & other data about collections or podcasts the user has ratings for; produced by the server and should be sent back as received; used for tracking program and podcast suggestions"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 171,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_hasSent",
    "memberof": "src/model/rating.js~Rating",
    "longname": "src/model/rating.js~Rating#_hasSent",
    "access": null,
    "description": null,
    "lineNumber": 20,
    "undocument": true,
    "type": {
      "types": [
        "boolean"
      ]
    }
  },
  {
    "__docId__": 172,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_recommendationUrl",
    "memberof": "src/model/rating.js~Rating",
    "longname": "src/model/rating.js~Rating#_recommendationUrl",
    "access": null,
    "description": null,
    "lineNumber": 21,
    "undocument": true,
    "type": {
      "types": [
        "string"
      ]
    }
  },
  {
    "__docId__": 173,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_actionUrl",
    "memberof": "src/model/rating.js~Rating",
    "longname": "src/model/rating.js~Rating#_actionUrl",
    "access": null,
    "description": null,
    "lineNumber": 22,
    "undocument": true,
    "type": {
      "types": [
        "string"
      ]
    }
  },
  {
    "__docId__": 174,
    "kind": "method",
    "static": true,
    "variation": null,
    "name": "privateMemberReplacer",
    "memberof": "src/model/rating.js~Rating",
    "longname": "src/model/rating.js~Rating.privateMemberReplacer",
    "access": null,
    "description": "Only send the fields back that NPR has sent us",
    "lineNumber": 32,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{undefined|boolean|string|number|Array|Object|Function}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "key",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "boolean",
          "string",
          "number",
          "Array",
          "Object",
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "value",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "undefined",
        "boolean",
        "string",
        "number",
        "Array",
        "Object",
        "Function"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 175,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "toString",
    "memberof": "src/model/rating.js~Rating",
    "longname": "src/model/rating.js~Rating#toString",
    "access": null,
    "description": "A convenience function to cast this object back to a string, generally only used by the {@link Logger} class.",
    "lineNumber": 44,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{string}"
      }
    ],
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 176,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/model/recommendation.js",
    "memberof": null,
    "longname": "src/model/recommendation.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import 'isomorphic-fetch';\nimport URL from 'url-parse';\nimport CollectionDoc from './collection-doc';\nimport Rating from './rating';\nimport Action from './action';\nimport Logger from './../util/logger';\n\n\n/**\n * Container class for all metadata pertaining to a recommendation.\n *\n * Provides metadata and the recordAction method, which sends feedback on user actions to NPR's APIs and advances the flow of audio recommendations to the user\n *\n * @extends {CollectionDoc}\n */\nexport default class Recommendation extends CollectionDoc\n{\n    /**\n     * @param {CollectionDocJSON} json   The decoded JSON object that should be used as the basis for this model\n     */\n    constructor(json) {\n        super(json);\n        /** @type {Object}\n         * @private */\n        this._raw = json;\n        /**\n         * The metadata used to describe this recommendation, such as type and title\n         * @type {RecommendationAttributes}\n         */\n        this.attributes = {};\n        /**\n         * An internal store of ratings collected for this application; should never be accessed directly by consumers\n         * @type {Array<Rating>}\n         */\n        this.ratings = [];\n        /**\n         * The actual audio files associated with this recommendation; should never be empty\n         * @type {Array<Link>}\n         */\n        this.audio = [];\n        /**\n         * A list of API calls the app can make to retrieve subsequent recommendations; should never be accessed directly by consumers\n         * @type {Array<Link>}\n         */\n        this.recommendations = [];\n        /**\n         * A list of images associated with this recommendation; could be empty\n         * @type {Array<ImageLink>}\n         */\n        this.images = [];\n        /**\n         * A list of links to other places where this story can be found on the web (for example, on NPR.org); could be empty\n         * @type {Array<Link>}\n         */\n        this.web = [];\n        /**\n         * A list of links that are used as the canonical link(s) when sharing this story on social media\n         * @type {Array<Link>}\n         */\n        this.onramps = [];\n        /**\n         * This is the `action` array from the API within `links`, and _NOT_ this SDK's notion of {@link Action}\n         * @type {Array<Link>}\n         */\n        this.callsToAction = [];\n        /**\n         * A list of API calls to make if this recommendation is of type `sponsorship` and the consuming client\n         * has played the accompanying audio\n         * @type {Array<FormFactorLink>}\n         */\n        this.impressions = [];\n        /**\n         * A list of links to places where the app can take the user if they interact with this `sponsorship` item\n         * @type {Array<FormFactorLink>}\n         */\n        this.relateds = [];\n        /**\n         * A list of API calls to make if this recommendation is of type `sponsorship` and the consuming client has\n         * chosen to interact with the sponsorship item using the contents of {@link relateds}\n         * @type {Array<FormFactorLink>}\n         */\n        this.relatedImpressions = [];\n        /** @type {Object}\n          * @private */\n        this._ratingTemplate = {};\n        /**\n         * Used to prevent impressions from being fired twice\n         * @type {boolean}\n         * @private\n         */\n        this._hasSentImpressions = false;\n        /** @type {null|Function}\n          * @private */\n        this._ratingReceivedCallback = null;\n\n        this._hydrate();\n    }\n\n    /**\n     * Hydrate the internal member variables.\n     *\n     * @private\n     */\n    _hydrate() {\n        this._validate();\n\n        this._ratingTemplate = this._raw.attributes.rating;\n\n        // deep copy, we do not want duplicate rating objects\n        this.attributes = Object.assign({}, this._raw.attributes);\n        delete this.attributes.rating;\n\n        const links = this._raw.links;\n\n        // Required\n        this.audio = links.audio;\n        this.recommendations = links.recommendations;\n\n        // Optional\n        this.web = links.web ? links.web : [];\n        this.images = links.image ? links.image : [];\n        this.onramps = links.onramps ? links.onramps : [];\n        this.callsToAction = links.action ? links.action : [];\n        this.impressions = links.impression ? links.impression : [];\n        this.relateds = links.related ? links.related : [];\n        this.relatedImpressions = links['related-impression'] ? links['related-impression'] : [];\n    }\n\n    /**\n     * Determines whether the collection doc has the required fields for a valid recommendation\n     *\n     * @protected\n     * @throws {TypeError} if the collection doc is invalid\n     */\n    _validate() {\n        const links = this._raw.links;\n\n        if (!links.audio ||\n            links.audio.constructor !== Array ||\n            links.audio.length <= 0) {\n            throw new TypeError('Audio must exist within links.');\n        }\n\n        if (!links.recommendations ||\n            links.recommendations.constructor !== Array ||\n            links.recommendations.length <= 0) {\n            throw new TypeError('Recommendation (contains URL) must exist within links.');\n        }\n\n        if (!this._raw.attributes.rating) {\n            throw new TypeError('Attributes must contain a rating object.');\n        }\n    }\n\n    /**\n     * Returns a list of images associated with this recommendation\n     *\n     * @returns {Array<ImageLink>}\n     */\n    getImages() {\n        return this.images;\n    }\n\n    /**\n     * Returns the actual audio files associated with this recommendation\n     *\n     * @returns {Array<Link>}\n     */\n    getAudio() {\n        return this.audio;\n    }\n\n    /**\n     * Returns a list of links to other places where this story can be found on the web (for example, on NPR.org)\n     *\n     * @returns {Array<Link>}\n     */\n    getWeb() {\n        return this.web;\n    }\n\n    /**\n     * Returns a list of links that are used as the canonical link(s) when sharing this story on social media.\n     *\n     * @returns {Array<Link>}\n     */\n    getOnRamps() {\n        return this.onramps;\n    }\n\n    /**\n     * Returns a list of API calls to make if this recommendation is of type `sponsorship` and the consuming client\n     * has played the accompanying audio. Note that the SDK will take care of this automatically as long as the client\n     * uses {@link recordAction} to send the rating.\n     *\n     * @returns {Array<FormFactorLink>}\n     */\n    getImpressions() {\n        return this.impressions;\n    }\n\n    /**\n     * This is the `action` array from the API within `links`, and _NOT_ this SDK's notion of {@link Action}\n     *\n     * An example of what might be contained within this is array is a link to full-length content\n     * for a promo recommendation.\n     *\n     * @returns {Array<Link>}\n     */\n    getCallsToAction() {\n        return this.callsToAction;\n    }\n\n    /**\n     * Returns a list of links to places where the app can take the user if they interact with this `sponsorship` item\n     * (such as by clicking/tapping on the image or using a voice command to learn more)\n     *\n     * @returns {Array<FormFactorLink>}\n     */\n    getRelateds() {\n        return this.relateds;\n    }\n\n    /**\n     * Returns a list of API calls to make if this recommendation is of type `sponsorship` and the consuming client\n     * has chosen to interact with the sponsorship item using the contents returned by {@link getRelateds}. Note that\n     * the SDK will take care of this automatically as long as the client uses {@link recordAction} to send the rating.\n     *\n     * @returns {Array<FormFactorLink>}\n     */\n    getRelatedImpressions() {\n        return this.relatedImpressions;\n    }\n\n    /**\n     * Returns an internal store of ratings collected for this application. This should never be accessed directly by\n     * consumers; use {@link recordAction} to send ratings, and the SDK will figure out the appropriate time to make\n     * the API call that submits them to the server.\n     *\n     * @returns {Array<Rating>}\n     */\n    getRatings() {\n        return this.ratings;\n    }\n\n    /**\n     * Returns the URL that should be used to obtain the next set of recommendations. This should typically not be used\n     * by clients directly; use {@link recordAction} followed by {@link NprOneSDK#getRecommendation} instead.\n     *\n     * @returns {string}\n     */\n    getRecommendationUrl() {\n        return this.recommendations[0].href;\n    }\n\n    /**\n     * This method looks through the recommendation's action and related array to search for any URL starting with `'nprone://listen'`.\n     * If found, everything from the query params is appended to the original recommendation URL.\n     * This value is then used anytime a user indicates they want more similar stories by clicking or tapping on this recommendation.\n     *\n     * For many recommendations, this will not exist and getRecommendationUrl is used instead.\n     *\n     * @returns {string}\n     */\n    getActionRecommendationUrl() {\n        const original = new URL(this.getRecommendationUrl());\n        const potentialActions = this.callsToAction.concat(this.relateds);\n\n        let nprOneUrl = '';\n        for (const action of potentialActions) {\n            if (action.href && action.href.indexOf('nprone://') === 0) {\n                nprOneUrl = new URL(action.href);\n                break;\n            }\n        }\n\n        let url = '';\n        if (nprOneUrl) {\n            url = `${original.set('query', nprOneUrl.query).href}&recommend=true`;\n        }\n\n        return url;\n    }\n\n    /**\n     * Returns whether this recommendation is of type `sponsorship`\n     *\n     * @returns {boolean}\n     */\n    isSponsorship() {\n        return this.attributes.type === 'sponsorship';\n    }\n\n    /**\n     * Returns whether this recommendation is shareable on social media\n     *\n     * @returns {boolean}\n     */\n    isShareable() {\n        return this.onramps.length > 0;\n    }\n\n    /**\n     * Returns whether this recommendation has a given action\n     *\n     * @param {string} action    Which action to look up; should be one of the static string constants returned by {@link Action}\n     * @returns {boolean}\n     */\n    hasAction(action) {\n        for (const rating of this.ratings) {\n            if (rating.rating === action) {\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    /**\n     * Returns whether this recommendation has received a rating indicating it is no longer\n     * being presented to the user\n     *\n     * @returns {boolean}\n     */\n    hasEndAction() {\n        for (const endAction of Action.getEndActions()) {\n            if (this.hasAction(endAction)) {\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    /**\n     * Record a user action taken and the time it was taken against this recommendation\n     *\n     * @param {string} action                  Which action to record; should be one of the static string constants returned by {@link Action}\n     * @param {number} elapsedTimeInSeconds    The number of seconds this piece of audio has been playing for\n     */\n    recordAction(action, elapsedTimeInSeconds) {\n        let _elapsedTime = elapsedTimeInSeconds;\n\n        if (!Action.isValidAction(action)) {\n            throw new Error(`${action} action is invalid. See Action class for valid actions.`);\n        }\n\n        const n = parseInt(_elapsedTime, 10);\n        if (isNaN(n) || !isFinite(n)) {\n            throw new Error('Elapsed time must be supplied and be a positive integer value.');\n        }\n\n        if (_elapsedTime < 0) {\n            Logger.warn(`Elapsed time of ${_elapsedTime} is invalid ` +\n                'and has been changed to 0 seconds.');\n            _elapsedTime = 0;\n        }\n\n        if (_elapsedTime > this.attributes.duration && this.attributes.duration > 0) {\n            // 30s has been arbitrarily chosen as it's enough to indicate the consumer of this SDK might have made a coding error.\n            if (_elapsedTime > this.attributes.duration + 30) {\n                Logger.warn(`Elapsed time of ${_elapsedTime} exceeds overall audio duration ` +\n                    `and has been modified to ${this.attributes.duration} seconds.`);\n            }\n            _elapsedTime = this.attributes.duration;\n        }\n\n        if (_elapsedTime === 0 && (action === Action.COMPLETED || action === Action.SKIP)) {\n            Logger.warn('Elapsed time value should be greater than zero; ' +\n                'please ensure the time passed since the START rating is recorded.');\n        }\n\n        if (action !== Action.START) {\n            if (!this.hasAction(Action.START)) {\n                Logger.warn(`Action '${action}' has been recorded; however, no START action ` +\n                    'exists. Please ensure START actions are recorded first.');\n            }\n        }\n\n        const rating = new Rating(this._ratingTemplate);\n        rating.rating = action;\n        rating.elapsed = _elapsedTime;\n        rating.timestamp = new Date().toISOString();\n        rating._recommendationUrl = this.getRecommendationUrl();\n        rating._actionUrl = this.getActionRecommendationUrl();\n\n        // Handle Sponsorship Impressions\n        if (this.isSponsorship() && action === Action.START && !this._hasSentImpressions) {\n            this._hasSentImpressions = true;\n            const impressions = this.impressions.concat(this.relatedImpressions);\n            impressions.forEach((link) => {\n                if (link['form-factor'] === 'audio') {\n                    fetch(link.href, { mode: 'no-cors' });  // no really, that's it. We don't care about the result of these fetches.\n                }\n            });\n        }\n\n        this.ratings.push(rating);\n\n        if (this._ratingReceivedCallback !== null) {\n            this._ratingReceivedCallback(rating);\n        }\n    }\n\n    /**\n     * A callback which provides for communication of a received rating\n     *\n     * @param {?Function} callback    A function to call whenever this recommendation has received a rating (action)\n     */\n    setRatingReceivedCallback(callback) {\n        this._ratingReceivedCallback = callback;\n    }\n\n    /**\n     * A convenience function to cast this object back to a string, generally only used by the {@link Logger} class.\n     *\n     * @returns {string}\n     */\n    toString() {\n        return `[UID=${this.attributes.uid}, R=${this.getRatings().join(',')}]`;\n    }\n\n    /**\n     * @typedef {Object} RecommendationAttributes\n     * @property {string} type The type of recommendation, usually `audio`. Can also be `stationId`, `sponsorship`, etc.\n     * @property {string} uid The universal identifier of the recommendation\n     * @property {string} title The title of the recommendation\n     * @property {boolean} skippable Whether or not the recommendation is skippable, usually true, but false for e.g. sponsorship\n     * @property {string} [slug] A slug or category for the recommendation\n     * @property {string} provider The provider of the story, usually `NPR`. Can also be a member station or third-party podcast provider.\n     * @property {string} [program] The program as part of which this recommendation aired\n     * @property {number} duration The duration of the audio according to the API; note that the actual duration can differ\n     * @property {string} date ISO-8601 formatted date/time; the date at which the story was first published\n     * @property {string} [description] A short description of the recommendation\n     * @property {string} rationale The reason for recommending this piece to the listener\n     * @property {string} [button] The text to display in a clickable button on a feature card\n     */\n    /**\n     * @typedef {Link} FormFactorLink\n     * @property {string} [form-factor] The form-factor for the most appropriate display of or interaction with the resource, usually irrelevant unless there is more than one link of the same type\n     */\n    /**\n     * @typedef {FormFactorLink} ImageLink\n     * @property {string} [rel] The relation of the image to the content, which usually corresponds to the crop-type\n     * @property {number} [height] The pixel height of the image\n     * @property {number} [width] The pixel width of the image\n     */\n}\n"
  },
  {
    "__docId__": 177,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "Recommendation",
    "memberof": "src/model/recommendation.js",
    "longname": "src/model/recommendation.js~Recommendation",
    "access": null,
    "export": true,
    "importPath": "@npr/npr-one-sdk/model/recommendation.js",
    "importStyle": "Recommendation",
    "description": "Container class for all metadata pertaining to a recommendation.\n\nProvides metadata and the recordAction method, which sends feedback on user actions to NPR's APIs and advances the flow of audio recommendations to the user",
    "lineNumber": 16,
    "interface": false,
    "extends": [
      "CollectionDoc"
    ]
  },
  {
    "__docId__": 178,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/model/recommendation.js~Recommendation",
    "longname": "src/model/recommendation.js~Recommendation#constructor",
    "access": null,
    "description": "",
    "lineNumber": 21,
    "params": [
      {
        "nullable": null,
        "types": [
          "CollectionDocJSON"
        ],
        "spread": false,
        "optional": false,
        "name": "json",
        "description": "The decoded JSON object that should be used as the basis for this model"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 179,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_raw",
    "memberof": "src/model/recommendation.js~Recommendation",
    "longname": "src/model/recommendation.js~Recommendation#_raw",
    "access": "private",
    "description": null,
    "lineNumber": 25,
    "type": {
      "nullable": null,
      "types": [
        "Object"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 180,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "attributes",
    "memberof": "src/model/recommendation.js~Recommendation",
    "longname": "src/model/recommendation.js~Recommendation#attributes",
    "access": null,
    "description": "The metadata used to describe this recommendation, such as type and title",
    "lineNumber": 30,
    "type": {
      "nullable": null,
      "types": [
        "RecommendationAttributes"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 181,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "ratings",
    "memberof": "src/model/recommendation.js~Recommendation",
    "longname": "src/model/recommendation.js~Recommendation#ratings",
    "access": null,
    "description": "An internal store of ratings collected for this application; should never be accessed directly by consumers",
    "lineNumber": 35,
    "type": {
      "nullable": null,
      "types": [
        "Array<Rating>"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 182,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "audio",
    "memberof": "src/model/recommendation.js~Recommendation",
    "longname": "src/model/recommendation.js~Recommendation#audio",
    "access": null,
    "description": "The actual audio files associated with this recommendation; should never be empty",
    "lineNumber": 40,
    "type": {
      "nullable": null,
      "types": [
        "Array<Link>"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 183,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "recommendations",
    "memberof": "src/model/recommendation.js~Recommendation",
    "longname": "src/model/recommendation.js~Recommendation#recommendations",
    "access": null,
    "description": "A list of API calls the app can make to retrieve subsequent recommendations; should never be accessed directly by consumers",
    "lineNumber": 45,
    "type": {
      "nullable": null,
      "types": [
        "Array<Link>"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 184,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "images",
    "memberof": "src/model/recommendation.js~Recommendation",
    "longname": "src/model/recommendation.js~Recommendation#images",
    "access": null,
    "description": "A list of images associated with this recommendation; could be empty",
    "lineNumber": 50,
    "type": {
      "nullable": null,
      "types": [
        "Array<ImageLink>"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 185,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "web",
    "memberof": "src/model/recommendation.js~Recommendation",
    "longname": "src/model/recommendation.js~Recommendation#web",
    "access": null,
    "description": "A list of links to other places where this story can be found on the web (for example, on NPR.org); could be empty",
    "lineNumber": 55,
    "type": {
      "nullable": null,
      "types": [
        "Array<Link>"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 186,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "onramps",
    "memberof": "src/model/recommendation.js~Recommendation",
    "longname": "src/model/recommendation.js~Recommendation#onramps",
    "access": null,
    "description": "A list of links that are used as the canonical link(s) when sharing this story on social media",
    "lineNumber": 60,
    "type": {
      "nullable": null,
      "types": [
        "Array<Link>"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 187,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "callsToAction",
    "memberof": "src/model/recommendation.js~Recommendation",
    "longname": "src/model/recommendation.js~Recommendation#callsToAction",
    "access": null,
    "description": "This is the `action` array from the API within `links`, and _NOT_ this SDK's notion of {@link Action}",
    "lineNumber": 65,
    "type": {
      "nullable": null,
      "types": [
        "Array<Link>"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 188,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "impressions",
    "memberof": "src/model/recommendation.js~Recommendation",
    "longname": "src/model/recommendation.js~Recommendation#impressions",
    "access": null,
    "description": "A list of API calls to make if this recommendation is of type `sponsorship` and the consuming client\nhas played the accompanying audio",
    "lineNumber": 71,
    "type": {
      "nullable": null,
      "types": [
        "Array<FormFactorLink>"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 189,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "relateds",
    "memberof": "src/model/recommendation.js~Recommendation",
    "longname": "src/model/recommendation.js~Recommendation#relateds",
    "access": null,
    "description": "A list of links to places where the app can take the user if they interact with this `sponsorship` item",
    "lineNumber": 76,
    "type": {
      "nullable": null,
      "types": [
        "Array<FormFactorLink>"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 190,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "relatedImpressions",
    "memberof": "src/model/recommendation.js~Recommendation",
    "longname": "src/model/recommendation.js~Recommendation#relatedImpressions",
    "access": null,
    "description": "A list of API calls to make if this recommendation is of type `sponsorship` and the consuming client has\nchosen to interact with the sponsorship item using the contents of {@link relateds}",
    "lineNumber": 82,
    "type": {
      "nullable": null,
      "types": [
        "Array<FormFactorLink>"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 191,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_ratingTemplate",
    "memberof": "src/model/recommendation.js~Recommendation",
    "longname": "src/model/recommendation.js~Recommendation#_ratingTemplate",
    "access": "private",
    "description": null,
    "lineNumber": 85,
    "type": {
      "nullable": null,
      "types": [
        "Object"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 192,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_hasSentImpressions",
    "memberof": "src/model/recommendation.js~Recommendation",
    "longname": "src/model/recommendation.js~Recommendation#_hasSentImpressions",
    "access": "private",
    "description": "Used to prevent impressions from being fired twice",
    "lineNumber": 91,
    "type": {
      "nullable": null,
      "types": [
        "boolean"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 193,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_ratingReceivedCallback",
    "memberof": "src/model/recommendation.js~Recommendation",
    "longname": "src/model/recommendation.js~Recommendation#_ratingReceivedCallback",
    "access": "private",
    "description": null,
    "lineNumber": 94,
    "type": {
      "nullable": null,
      "types": [
        "null",
        "Function"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 194,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "_hydrate",
    "memberof": "src/model/recommendation.js~Recommendation",
    "longname": "src/model/recommendation.js~Recommendation#_hydrate",
    "access": "private",
    "description": "Hydrate the internal member variables.",
    "lineNumber": 104,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 195,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_ratingTemplate",
    "memberof": "src/model/recommendation.js~Recommendation",
    "longname": "src/model/recommendation.js~Recommendation#_ratingTemplate",
    "access": null,
    "description": null,
    "lineNumber": 107,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 196,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "attributes",
    "memberof": "src/model/recommendation.js~Recommendation",
    "longname": "src/model/recommendation.js~Recommendation#attributes",
    "access": null,
    "description": null,
    "lineNumber": 110,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 197,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "audio",
    "memberof": "src/model/recommendation.js~Recommendation",
    "longname": "src/model/recommendation.js~Recommendation#audio",
    "access": null,
    "description": null,
    "lineNumber": 116,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 198,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "recommendations",
    "memberof": "src/model/recommendation.js~Recommendation",
    "longname": "src/model/recommendation.js~Recommendation#recommendations",
    "access": null,
    "description": null,
    "lineNumber": 117,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 199,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "web",
    "memberof": "src/model/recommendation.js~Recommendation",
    "longname": "src/model/recommendation.js~Recommendation#web",
    "access": null,
    "description": null,
    "lineNumber": 120,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 200,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "images",
    "memberof": "src/model/recommendation.js~Recommendation",
    "longname": "src/model/recommendation.js~Recommendation#images",
    "access": null,
    "description": null,
    "lineNumber": 121,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 201,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "onramps",
    "memberof": "src/model/recommendation.js~Recommendation",
    "longname": "src/model/recommendation.js~Recommendation#onramps",
    "access": null,
    "description": null,
    "lineNumber": 122,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 202,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "callsToAction",
    "memberof": "src/model/recommendation.js~Recommendation",
    "longname": "src/model/recommendation.js~Recommendation#callsToAction",
    "access": null,
    "description": null,
    "lineNumber": 123,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 203,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "impressions",
    "memberof": "src/model/recommendation.js~Recommendation",
    "longname": "src/model/recommendation.js~Recommendation#impressions",
    "access": null,
    "description": null,
    "lineNumber": 124,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 204,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "relateds",
    "memberof": "src/model/recommendation.js~Recommendation",
    "longname": "src/model/recommendation.js~Recommendation#relateds",
    "access": null,
    "description": null,
    "lineNumber": 125,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 205,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "relatedImpressions",
    "memberof": "src/model/recommendation.js~Recommendation",
    "longname": "src/model/recommendation.js~Recommendation#relatedImpressions",
    "access": null,
    "description": null,
    "lineNumber": 126,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 206,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "_validate",
    "memberof": "src/model/recommendation.js~Recommendation",
    "longname": "src/model/recommendation.js~Recommendation#_validate",
    "access": "protected",
    "description": "Determines whether the collection doc has the required fields for a valid recommendation",
    "lineNumber": 135,
    "params": [],
    "throws": [
      {
        "types": [
          "TypeError"
        ],
        "description": "if the collection doc is invalid"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 207,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getImages",
    "memberof": "src/model/recommendation.js~Recommendation",
    "longname": "src/model/recommendation.js~Recommendation#getImages",
    "access": null,
    "description": "Returns a list of images associated with this recommendation",
    "lineNumber": 160,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Array<ImageLink>}"
      }
    ],
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "Array<ImageLink>"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 208,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getAudio",
    "memberof": "src/model/recommendation.js~Recommendation",
    "longname": "src/model/recommendation.js~Recommendation#getAudio",
    "access": null,
    "description": "Returns the actual audio files associated with this recommendation",
    "lineNumber": 169,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Array<Link>}"
      }
    ],
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "Array<Link>"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 209,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getWeb",
    "memberof": "src/model/recommendation.js~Recommendation",
    "longname": "src/model/recommendation.js~Recommendation#getWeb",
    "access": null,
    "description": "Returns a list of links to other places where this story can be found on the web (for example, on NPR.org)",
    "lineNumber": 178,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Array<Link>}"
      }
    ],
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "Array<Link>"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 210,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getOnRamps",
    "memberof": "src/model/recommendation.js~Recommendation",
    "longname": "src/model/recommendation.js~Recommendation#getOnRamps",
    "access": null,
    "description": "Returns a list of links that are used as the canonical link(s) when sharing this story on social media.",
    "lineNumber": 187,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Array<Link>}"
      }
    ],
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "Array<Link>"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 211,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getImpressions",
    "memberof": "src/model/recommendation.js~Recommendation",
    "longname": "src/model/recommendation.js~Recommendation#getImpressions",
    "access": null,
    "description": "Returns a list of API calls to make if this recommendation is of type `sponsorship` and the consuming client\nhas played the accompanying audio. Note that the SDK will take care of this automatically as long as the client\nuses {@link recordAction} to send the rating.",
    "lineNumber": 198,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Array<FormFactorLink>}"
      }
    ],
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "Array<FormFactorLink>"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 212,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getCallsToAction",
    "memberof": "src/model/recommendation.js~Recommendation",
    "longname": "src/model/recommendation.js~Recommendation#getCallsToAction",
    "access": null,
    "description": "This is the `action` array from the API within `links`, and _NOT_ this SDK's notion of {@link Action}\n\nAn example of what might be contained within this is array is a link to full-length content\nfor a promo recommendation.",
    "lineNumber": 210,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Array<Link>}"
      }
    ],
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "Array<Link>"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 213,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getRelateds",
    "memberof": "src/model/recommendation.js~Recommendation",
    "longname": "src/model/recommendation.js~Recommendation#getRelateds",
    "access": null,
    "description": "Returns a list of links to places where the app can take the user if they interact with this `sponsorship` item\n(such as by clicking/tapping on the image or using a voice command to learn more)",
    "lineNumber": 220,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Array<FormFactorLink>}"
      }
    ],
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "Array<FormFactorLink>"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 214,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getRelatedImpressions",
    "memberof": "src/model/recommendation.js~Recommendation",
    "longname": "src/model/recommendation.js~Recommendation#getRelatedImpressions",
    "access": null,
    "description": "Returns a list of API calls to make if this recommendation is of type `sponsorship` and the consuming client\nhas chosen to interact with the sponsorship item using the contents returned by {@link getRelateds}. Note that\nthe SDK will take care of this automatically as long as the client uses {@link recordAction} to send the rating.",
    "lineNumber": 231,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Array<FormFactorLink>}"
      }
    ],
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "Array<FormFactorLink>"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 215,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getRatings",
    "memberof": "src/model/recommendation.js~Recommendation",
    "longname": "src/model/recommendation.js~Recommendation#getRatings",
    "access": null,
    "description": "Returns an internal store of ratings collected for this application. This should never be accessed directly by\nconsumers; use {@link recordAction} to send ratings, and the SDK will figure out the appropriate time to make\nthe API call that submits them to the server.",
    "lineNumber": 242,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Array<Rating>}"
      }
    ],
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "Array<Rating>"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 216,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getRecommendationUrl",
    "memberof": "src/model/recommendation.js~Recommendation",
    "longname": "src/model/recommendation.js~Recommendation#getRecommendationUrl",
    "access": null,
    "description": "Returns the URL that should be used to obtain the next set of recommendations. This should typically not be used\nby clients directly; use {@link recordAction} followed by {@link NprOneSDK#getRecommendation} instead.",
    "lineNumber": 252,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{string}"
      }
    ],
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 217,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getActionRecommendationUrl",
    "memberof": "src/model/recommendation.js~Recommendation",
    "longname": "src/model/recommendation.js~Recommendation#getActionRecommendationUrl",
    "access": null,
    "description": "This method looks through the recommendation's action and related array to search for any URL starting with `'nprone://listen'`.\nIf found, everything from the query params is appended to the original recommendation URL.\nThis value is then used anytime a user indicates they want more similar stories by clicking or tapping on this recommendation.\n\nFor many recommendations, this will not exist and getRecommendationUrl is used instead.",
    "lineNumber": 265,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{string}"
      }
    ],
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 218,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "isSponsorship",
    "memberof": "src/model/recommendation.js~Recommendation",
    "longname": "src/model/recommendation.js~Recommendation#isSponsorship",
    "access": null,
    "description": "Returns whether this recommendation is of type `sponsorship`",
    "lineNumber": 290,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{boolean}"
      }
    ],
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "boolean"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 219,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "isShareable",
    "memberof": "src/model/recommendation.js~Recommendation",
    "longname": "src/model/recommendation.js~Recommendation#isShareable",
    "access": null,
    "description": "Returns whether this recommendation is shareable on social media",
    "lineNumber": 299,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{boolean}"
      }
    ],
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "boolean"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 220,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "hasAction",
    "memberof": "src/model/recommendation.js~Recommendation",
    "longname": "src/model/recommendation.js~Recommendation#hasAction",
    "access": null,
    "description": "Returns whether this recommendation has a given action",
    "lineNumber": 309,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{boolean}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "action",
        "description": "Which action to look up; should be one of the static string constants returned by {@link Action}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "boolean"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 221,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "hasEndAction",
    "memberof": "src/model/recommendation.js~Recommendation",
    "longname": "src/model/recommendation.js~Recommendation#hasEndAction",
    "access": null,
    "description": "Returns whether this recommendation has received a rating indicating it is no longer\nbeing presented to the user",
    "lineNumber": 325,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{boolean}"
      }
    ],
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "boolean"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 222,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "recordAction",
    "memberof": "src/model/recommendation.js~Recommendation",
    "longname": "src/model/recommendation.js~Recommendation#recordAction",
    "access": null,
    "description": "Record a user action taken and the time it was taken against this recommendation",
    "lineNumber": 341,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "action",
        "description": "Which action to record; should be one of the static string constants returned by {@link Action}"
      },
      {
        "nullable": null,
        "types": [
          "number"
        ],
        "spread": false,
        "optional": false,
        "name": "elapsedTimeInSeconds",
        "description": "The number of seconds this piece of audio has been playing for"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 223,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_hasSentImpressions",
    "memberof": "src/model/recommendation.js~Recommendation",
    "longname": "src/model/recommendation.js~Recommendation#_hasSentImpressions",
    "access": null,
    "description": null,
    "lineNumber": 389,
    "undocument": true,
    "type": {
      "types": [
        "boolean"
      ]
    }
  },
  {
    "__docId__": 224,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "setRatingReceivedCallback",
    "memberof": "src/model/recommendation.js~Recommendation",
    "longname": "src/model/recommendation.js~Recommendation#setRatingReceivedCallback",
    "access": null,
    "description": "A callback which provides for communication of a received rating",
    "lineNumber": 410,
    "params": [
      {
        "nullable": true,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "callback",
        "description": "A function to call whenever this recommendation has received a rating (action)"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 225,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_ratingReceivedCallback",
    "memberof": "src/model/recommendation.js~Recommendation",
    "longname": "src/model/recommendation.js~Recommendation#_ratingReceivedCallback",
    "access": null,
    "description": null,
    "lineNumber": 411,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 226,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "toString",
    "memberof": "src/model/recommendation.js~Recommendation",
    "longname": "src/model/recommendation.js~Recommendation#toString",
    "access": null,
    "description": "A convenience function to cast this object back to a string, generally only used by the {@link Logger} class.",
    "lineNumber": 419,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{string}"
      }
    ],
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 227,
    "kind": "typedef",
    "static": true,
    "variation": null,
    "name": "RecommendationAttributes",
    "memberof": "src/model/recommendation.js~Recommendation",
    "longname": "src/model/recommendation.js~Recommendation.RecommendationAttributes",
    "access": null,
    "description": "",
    "properties": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "type",
        "description": "The type of recommendation, usually `audio`. Can also be `stationId`, `sponsorship`, etc."
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "uid",
        "description": "The universal identifier of the recommendation"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "title",
        "description": "The title of the recommendation"
      },
      {
        "nullable": null,
        "types": [
          "boolean"
        ],
        "spread": false,
        "optional": false,
        "name": "skippable",
        "description": "Whether or not the recommendation is skippable, usually true, but false for e.g. sponsorship"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": true,
        "name": "slug",
        "description": "A slug or category for the recommendation"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "provider",
        "description": "The provider of the story, usually `NPR`. Can also be a member station or third-party podcast provider."
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": true,
        "name": "program",
        "description": "The program as part of which this recommendation aired"
      },
      {
        "nullable": null,
        "types": [
          "number"
        ],
        "spread": false,
        "optional": false,
        "name": "duration",
        "description": "The duration of the audio according to the API; note that the actual duration can differ"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "date",
        "description": "ISO-8601 formatted date/time; the date at which the story was first published"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": true,
        "name": "description",
        "description": "A short description of the recommendation"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "rationale",
        "description": "The reason for recommending this piece to the listener"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": true,
        "name": "button",
        "description": "The text to display in a clickable button on a feature card"
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "RecommendationAttributes"
    }
  },
  {
    "__docId__": 228,
    "kind": "typedef",
    "static": true,
    "variation": null,
    "name": "FormFactorLink",
    "memberof": "src/model/recommendation.js~Recommendation",
    "longname": "src/model/recommendation.js~Recommendation.FormFactorLink",
    "access": null,
    "description": "",
    "properties": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": true,
        "name": "form-factor",
        "description": "The form-factor for the most appropriate display of or interaction with the resource, usually irrelevant unless there is more than one link of the same type"
      }
    ],
    "type": {
      "types": [
        "Link"
      ],
      "optional": false,
      "name": "FormFactorLink"
    }
  },
  {
    "__docId__": 229,
    "kind": "typedef",
    "static": true,
    "variation": null,
    "name": "ImageLink",
    "memberof": "src/model/recommendation.js~Recommendation",
    "longname": "src/model/recommendation.js~Recommendation.ImageLink",
    "access": null,
    "description": "",
    "properties": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": true,
        "name": "rel",
        "description": "The relation of the image to the content, which usually corresponds to the crop-type"
      },
      {
        "nullable": null,
        "types": [
          "number"
        ],
        "spread": false,
        "optional": true,
        "name": "height",
        "description": "The pixel height of the image"
      },
      {
        "nullable": null,
        "types": [
          "number"
        ],
        "spread": false,
        "optional": true,
        "name": "width",
        "description": "The pixel width of the image"
      }
    ],
    "type": {
      "types": [
        "FormFactorLink"
      ],
      "optional": false,
      "name": "ImageLink"
    }
  },
  {
    "__docId__": 230,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/model/station.js",
    "memberof": null,
    "longname": "src/model/station.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import CollectionDoc from './collection-doc';\n\n/**\n * Container class for all metadata pertaining to an organization (member station) from the NPR One API\n *\n * @extends {CollectionDoc}\n */\nexport default class Station extends CollectionDoc {\n    /**\n     * @param {CollectionDocJSON} json    The decoded JSON object that should be used as the basis for this model\n     */\n    constructor(json) {\n        super(json);\n        this._validate();\n    }\n\n    /**\n     * Returns the unique ID that represents this station across NPR's various APIs. The ID is an integer between 1 and\n     * 9999, but it will always be returned in string format.\n     *\n     * @type {string}\n     */\n    get id() {\n        return this._raw.attributes.orgId;\n    }\n\n    /**\n     * Returns the display name that the station would prefer to use. Please use this anytime you want to display a\n     * given station's name, rather than attempting to find the appropriate field inside of {@link Station.attributes}\n     * yourself; branding is a sensitive issue for stations and we should all respect how they wish to be identified.\n     *\n     * @type {string}\n     */\n    get displayName() {\n        return this._raw.attributes.brand.name;\n    }\n\n    /**\n     * Returns the logo for this station, if one can be found. If no logo can be found at all, this will return `null`.\n     *\n     * @type {null|string}\n     */\n    get logo() {\n        if (this._raw.links.brand) {\n            for (const link of this._raw.links.brand) {\n                if (link.rel === 'logo') {\n                    return link.href;\n                }\n            }\n        }\n        return null;\n    }\n\n    /**\n     * Returns the tagline for this station. This should be used as supplemental metadata for a station; it should never\n     * be used as the sole identifying information. Note that while the majority of the stations in our system have\n     * taglines, it is not guaranteed that each station has one.\n     *\n     * @type {string}\n     */\n    get tagline() {\n        return this._raw.attributes.brand.tagline || '';\n    }\n\n    /**\n     * Returns the call sign, brand (AM or FM), and frequency together as one string, e.g. `'WAMU FM 88.5'` or\n     * `'KCFR FM 90.1'` or `'KWSU AM 1250'`. Again, this should be treated as supplemental metadata for a station and\n     * not the sole identifying information; where possible, stations prefer to be identified primarily by their\n     * {@link displayName} and {@link logo}. However, some local stations are members of networks such as Colorado Public Radio\n     * and therefore use the same display name and logo; in those cases, the call sign + band + frequency combination is\n     * the main way to disambiguate between multiple stations in the same network. This value is guaranteed to be unique.\n     *\n     * @type {null|string}\n     */\n    get callSignAndFrequency() {\n        let callSignAndFrequency = '';\n        const brand = this._raw.attributes.brand;\n        if (brand.call) {\n            callSignAndFrequency += brand.call;\n        }\n        if (brand.band) {\n            callSignAndFrequency += ` ${brand.band}`;\n        }\n        if (brand.frequency) {\n            callSignAndFrequency += ` ${brand.frequency}`;\n        }\n        return callSignAndFrequency.trim() || null;\n    }\n\n    /**\n     * Returns the location of the station, which always consists of a city and (abbreviated) state, e.g. `'Austin, TX'`\n     * or `'Rochester, NY'`. Similarly to {@link callSignAndFrequency}, this is most useful for disambiguating between\n     * multiple local stations in a bigger network such as Colorado Public Radio, which use the same {@link displayName}\n     * and {@link logo}. Note that this value isn't guaranteed to be unique; some cities (e.g. Boston) have multiple\n     * NPR stations.\n     *\n     * @type {string}\n     */\n    get location() {\n        const brand = this._raw.attributes.brand;\n        return `${brand.marketCity}, ${brand.marketState}`;\n    }\n\n    /**\n     * Returns the URL to the station's website, if available.\n     *\n     * @type {null|string}\n     */\n    get homepageUrl() {\n        if (this._raw.links.brand) {\n            for (const link of this._raw.links.brand) {\n                if (link.rel === 'homepage') {\n                    return link.href;\n                }\n            }\n        }\n        return null;\n    }\n\n    /**\n     * Returns the URL to the station's online donation page, if available.\n     *\n     * @type {null|string}\n     */\n    get donationUrl() {\n        let preferredUrl;\n        let fallbackUrl;\n\n        if (this._raw.links.donation) {\n            for (const link of this._raw.links.donation) {\n                if (link.typeId === '27') {\n                    preferredUrl = link.href;\n                    break;\n                } else if (link.typeId === '4') {\n                    fallbackUrl = link.href;\n                }\n            }\n        }\n\n        return preferredUrl || fallbackUrl || null;\n    }\n\n    /**\n     * Returns whether or not the station is eligible for inclusion in NPR One applications.\n     *\n     * @type {boolean}\n     */\n    get isNprOneEligible() {\n        return this._raw.attributes.eligibility.nprOne;\n    }\n\n    /**\n     * Returns the raw attributes that represent this station. Please use this with caution; the public accessor methods\n     * in this class should be sufficient for most use cases, and consumers should rarely need to use this additional\n     * metadata.\n     *\n     * @type {StationAttributes}\n     */\n    get attributes() {\n        return this._raw.attributes;\n    }\n\n    /**\n     * A convenience function to cast this object back to a string, generally only used by the {@link Logger} class.\n     * In this case, we return the station's display name.\n     *\n     * @returns {string}\n     */\n    toString() {\n        return this.displayName;\n    }\n\n    /**\n     * @typedef {Object} StationAttributes\n     * @property {string} orgId The system's unique ID for this station, used across NPR One Microservices and NPR's other APIs\n     * @property {string} guid The system's internal unique identifier for a station, not typically used by other APIs or consumers\n     * @property {StationBrandData} brand An associative array of brand-related metadata for this station\n     * @property {StationEligibilityData} eligibility An associative array of eligibility-related metadata for this station\n     * @property {StationNewscastData} [newscast] Metadata about the newscast for this station; newscasts are handled internally by other microservices such as the NPR One Listening Service, so this data should typically not be used by consumers\n     * @property {StationNetwork} Metadata about the network, if this station is part of a network\n     */\n    /**\n     * @typedef {Object} StationBrandData\n     * @property {string} name The display name for the station. In most cases, this will be the same as call letters combined with band. When returning networks, it will return the network name (e.g. Minnesota Public Radio).\n     * @property {string|null} call The three-to-four-letter identifying code for this station. Please use this with caution; most stations prefer to be identified by their name in client applications instead of call.\n     * @property {string|null} frequency Where on the radio dial the station can be heard. If the band is AM, the frequency will be between 540 and 1600. If the band is FM, the frequency will be between 87.8 and 108.0.\n     * @property {string|null} band The subsection of the radio spectrum -- 'AM' or 'FM' -- where this station can be heard\n     * @property {string} tagline A short text-logo for the station\n     * @property {string} marketCity The city that the station is most closely associated with. This may or may not be the city the station is licensed in and it may or may not be the city that the station or the station's antenna is located in.\n     * @property {string} marketState The state that the station is most closely associated with. This may or may not be the state the station is licensed in and it may or may not be the state that the station or the station's antenna is located in.\n     */\n    /**\n     * @typedef {Object} StationEligibilityData\n     * @property {boolean} nprOne Whether or not this organization is considered an NPR One station\n     * @property {boolean} musicOnly Whether or not this station only plays music\n     * @property {string} format The format of the programming on this station\n     * @property {string} status The status of the station within NPR's system, not typically used by consumers\n     */\n    /**\n     * @typedef {Object} StationNewscastData\n     * @property {string} id The ID of the newscast that should be played for this station; this is handled internally by other microservices such as the NPR One Listening Service, so this field should typically not be used by consumers\n     * @property {null|number} recency How often the newscast should be played, in minutes; a value of `null` implies no information is available, and sensible defaults should be used\n     */\n    /**\n     * @typedef {Object} StationNetwork\n     * @property {string} currentOrgId The current station being viewed. Client applications should generally ignore this field.\n     * @property {boolean} usesInheritance Whether or not the current station inherits from a parent organization, also referred to as a network\n     * @property {string} [inheritingFrom] The system' unique ID for the organization that the current station is inheriting from, if inheritance is on\n     * @property {string} name The display name for the current organization\n     * @property {StationNetworkTierOne} [tier1] The top-level organization, if this station is part of a network\n     */\n    /**\n     * @typedef {Object} StationNetworkTierOne\n     * @property {string} id The unique identifier of the top-level organization in the network\n     * @property {boolean} usesInheritance Whether or not this station inherits from a parent organization, also referred to as a network\n     * @property {string} name The display name for the top-level organization in the network\n     * @property {string} status The status of the top-level organization within NPR's system, not typically used by consumers\n     * @property {Array<StationNetworkTierTwo>} [tier2] One or more stations that are hierarchical children of this organization\n     */\n    /**\n     * @typedef {Object} StationNetworkTierTwo\n     * @property {string} id The unique identifier of a tier 2 organization in the network\n     * @property {boolean} usesInheritance Whether or not this station inherits from a parent organization, also referred to as a network\n     * @property {string} name The display name for a tier 2 organization in the network\n     * @property {Array<StationNetworkTierThree>} [tier3] One or more stations that are hierarchical children of this organization\n     */\n    /**\n     * @typedef {Object} StationNetworkTierThree\n     * @property {string} id The unique identifier of a tier 3 organization in the network\n     * @property {boolean} usesInheritance Whether or not this station inherits from a parent organization, also referred to as a network\n     * @property {string} name The display name for a tier 3 organization in the network\n     */\n}\n"
  },
  {
    "__docId__": 231,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "Station",
    "memberof": "src/model/station.js",
    "longname": "src/model/station.js~Station",
    "access": null,
    "export": true,
    "importPath": "@npr/npr-one-sdk/model/station.js",
    "importStyle": "Station",
    "description": "Container class for all metadata pertaining to an organization (member station) from the NPR One API",
    "lineNumber": 8,
    "interface": false,
    "extends": [
      "CollectionDoc"
    ]
  },
  {
    "__docId__": 232,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/model/station.js~Station",
    "longname": "src/model/station.js~Station#constructor",
    "access": null,
    "description": "",
    "lineNumber": 12,
    "params": [
      {
        "nullable": null,
        "types": [
          "CollectionDocJSON"
        ],
        "spread": false,
        "optional": false,
        "name": "json",
        "description": "The decoded JSON object that should be used as the basis for this model"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 233,
    "kind": "get",
    "static": false,
    "variation": null,
    "name": "id",
    "memberof": "src/model/station.js~Station",
    "longname": "src/model/station.js~Station#id",
    "access": null,
    "description": "Returns the unique ID that represents this station across NPR's various APIs. The ID is an integer between 1 and\n9999, but it will always be returned in string format.",
    "lineNumber": 23,
    "type": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": null
    },
    "generator": false
  },
  {
    "__docId__": 234,
    "kind": "get",
    "static": false,
    "variation": null,
    "name": "displayName",
    "memberof": "src/model/station.js~Station",
    "longname": "src/model/station.js~Station#displayName",
    "access": null,
    "description": "Returns the display name that the station would prefer to use. Please use this anytime you want to display a\ngiven station's name, rather than attempting to find the appropriate field inside of {@link Station.attributes}\nyourself; branding is a sensitive issue for stations and we should all respect how they wish to be identified.",
    "lineNumber": 34,
    "type": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": null
    },
    "generator": false
  },
  {
    "__docId__": 235,
    "kind": "get",
    "static": false,
    "variation": null,
    "name": "logo",
    "memberof": "src/model/station.js~Station",
    "longname": "src/model/station.js~Station#logo",
    "access": null,
    "description": "Returns the logo for this station, if one can be found. If no logo can be found at all, this will return `null`.",
    "lineNumber": 43,
    "type": {
      "nullable": null,
      "types": [
        "null",
        "string"
      ],
      "spread": false,
      "description": null
    },
    "generator": false
  },
  {
    "__docId__": 236,
    "kind": "get",
    "static": false,
    "variation": null,
    "name": "tagline",
    "memberof": "src/model/station.js~Station",
    "longname": "src/model/station.js~Station#tagline",
    "access": null,
    "description": "Returns the tagline for this station. This should be used as supplemental metadata for a station; it should never\nbe used as the sole identifying information. Note that while the majority of the stations in our system have\ntaglines, it is not guaranteed that each station has one.",
    "lineNumber": 61,
    "type": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": null
    },
    "generator": false
  },
  {
    "__docId__": 237,
    "kind": "get",
    "static": false,
    "variation": null,
    "name": "callSignAndFrequency",
    "memberof": "src/model/station.js~Station",
    "longname": "src/model/station.js~Station#callSignAndFrequency",
    "access": null,
    "description": "Returns the call sign, brand (AM or FM), and frequency together as one string, e.g. `'WAMU FM 88.5'` or\n`'KCFR FM 90.1'` or `'KWSU AM 1250'`. Again, this should be treated as supplemental metadata for a station and\nnot the sole identifying information; where possible, stations prefer to be identified primarily by their\n{@link displayName} and {@link logo}. However, some local stations are members of networks such as Colorado Public Radio\nand therefore use the same display name and logo; in those cases, the call sign + band + frequency combination is\nthe main way to disambiguate between multiple stations in the same network. This value is guaranteed to be unique.",
    "lineNumber": 75,
    "type": {
      "nullable": null,
      "types": [
        "null",
        "string"
      ],
      "spread": false,
      "description": null
    },
    "generator": false
  },
  {
    "__docId__": 238,
    "kind": "get",
    "static": false,
    "variation": null,
    "name": "location",
    "memberof": "src/model/station.js~Station",
    "longname": "src/model/station.js~Station#location",
    "access": null,
    "description": "Returns the location of the station, which always consists of a city and (abbreviated) state, e.g. `'Austin, TX'`\nor `'Rochester, NY'`. Similarly to {@link callSignAndFrequency}, this is most useful for disambiguating between\nmultiple local stations in a bigger network such as Colorado Public Radio, which use the same {@link displayName}\nand {@link logo}. Note that this value isn't guaranteed to be unique; some cities (e.g. Boston) have multiple\nNPR stations.",
    "lineNumber": 99,
    "type": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": null
    },
    "generator": false
  },
  {
    "__docId__": 239,
    "kind": "get",
    "static": false,
    "variation": null,
    "name": "homepageUrl",
    "memberof": "src/model/station.js~Station",
    "longname": "src/model/station.js~Station#homepageUrl",
    "access": null,
    "description": "Returns the URL to the station's website, if available.",
    "lineNumber": 109,
    "type": {
      "nullable": null,
      "types": [
        "null",
        "string"
      ],
      "spread": false,
      "description": null
    },
    "generator": false
  },
  {
    "__docId__": 240,
    "kind": "get",
    "static": false,
    "variation": null,
    "name": "donationUrl",
    "memberof": "src/model/station.js~Station",
    "longname": "src/model/station.js~Station#donationUrl",
    "access": null,
    "description": "Returns the URL to the station's online donation page, if available.",
    "lineNumber": 125,
    "type": {
      "nullable": null,
      "types": [
        "null",
        "string"
      ],
      "spread": false,
      "description": null
    },
    "generator": false
  },
  {
    "__docId__": 241,
    "kind": "get",
    "static": false,
    "variation": null,
    "name": "isNprOneEligible",
    "memberof": "src/model/station.js~Station",
    "longname": "src/model/station.js~Station#isNprOneEligible",
    "access": null,
    "description": "Returns whether or not the station is eligible for inclusion in NPR One applications.",
    "lineNumber": 148,
    "type": {
      "nullable": null,
      "types": [
        "boolean"
      ],
      "spread": false,
      "description": null
    },
    "generator": false
  },
  {
    "__docId__": 242,
    "kind": "get",
    "static": false,
    "variation": null,
    "name": "attributes",
    "memberof": "src/model/station.js~Station",
    "longname": "src/model/station.js~Station#attributes",
    "access": null,
    "description": "Returns the raw attributes that represent this station. Please use this with caution; the public accessor methods\nin this class should be sufficient for most use cases, and consumers should rarely need to use this additional\nmetadata.",
    "lineNumber": 159,
    "type": {
      "nullable": null,
      "types": [
        "StationAttributes"
      ],
      "spread": false,
      "description": null
    },
    "generator": false
  },
  {
    "__docId__": 243,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "toString",
    "memberof": "src/model/station.js~Station",
    "longname": "src/model/station.js~Station#toString",
    "access": null,
    "description": "A convenience function to cast this object back to a string, generally only used by the {@link Logger} class.\nIn this case, we return the station's display name.",
    "lineNumber": 169,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{string}"
      }
    ],
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 244,
    "kind": "typedef",
    "static": true,
    "variation": null,
    "name": "StationAttributes",
    "memberof": "src/model/station.js~Station",
    "longname": "src/model/station.js~Station.StationAttributes",
    "access": null,
    "description": "",
    "properties": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "orgId",
        "description": "The system's unique ID for this station, used across NPR One Microservices and NPR's other APIs"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "guid",
        "description": "The system's internal unique identifier for a station, not typically used by other APIs or consumers"
      },
      {
        "nullable": null,
        "types": [
          "StationBrandData"
        ],
        "spread": false,
        "optional": false,
        "name": "brand",
        "description": "An associative array of brand-related metadata for this station"
      },
      {
        "nullable": null,
        "types": [
          "StationEligibilityData"
        ],
        "spread": false,
        "optional": false,
        "name": "eligibility",
        "description": "An associative array of eligibility-related metadata for this station"
      },
      {
        "nullable": null,
        "types": [
          "StationNewscastData"
        ],
        "spread": false,
        "optional": true,
        "name": "newscast",
        "description": "Metadata about the newscast for this station; newscasts are handled internally by other microservices such as the NPR One Listening Service, so this data should typically not be used by consumers"
      },
      {
        "nullable": null,
        "types": [
          "StationNetwork"
        ],
        "spread": false,
        "optional": false,
        "name": "Metadata",
        "description": "about the network, if this station is part of a network"
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "StationAttributes"
    }
  },
  {
    "__docId__": 245,
    "kind": "typedef",
    "static": true,
    "variation": null,
    "name": "StationBrandData",
    "memberof": "src/model/station.js~Station",
    "longname": "src/model/station.js~Station.StationBrandData",
    "access": null,
    "description": "",
    "properties": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "name",
        "description": "The display name for the station. In most cases, this will be the same as call letters combined with band. When returning networks, it will return the network name (e.g. Minnesota Public Radio)."
      },
      {
        "nullable": null,
        "types": [
          "string",
          "null"
        ],
        "spread": false,
        "optional": false,
        "name": "call",
        "description": "The three-to-four-letter identifying code for this station. Please use this with caution; most stations prefer to be identified by their name in client applications instead of call."
      },
      {
        "nullable": null,
        "types": [
          "string",
          "null"
        ],
        "spread": false,
        "optional": false,
        "name": "frequency",
        "description": "Where on the radio dial the station can be heard. If the band is AM, the frequency will be between 540 and 1600. If the band is FM, the frequency will be between 87.8 and 108.0."
      },
      {
        "nullable": null,
        "types": [
          "string",
          "null"
        ],
        "spread": false,
        "optional": false,
        "name": "band",
        "description": "The subsection of the radio spectrum -- 'AM' or 'FM' -- where this station can be heard"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "tagline",
        "description": "A short text-logo for the station"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "marketCity",
        "description": "The city that the station is most closely associated with. This may or may not be the city the station is licensed in and it may or may not be the city that the station or the station's antenna is located in."
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "marketState",
        "description": "The state that the station is most closely associated with. This may or may not be the state the station is licensed in and it may or may not be the state that the station or the station's antenna is located in."
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "StationBrandData"
    }
  },
  {
    "__docId__": 246,
    "kind": "typedef",
    "static": true,
    "variation": null,
    "name": "StationEligibilityData",
    "memberof": "src/model/station.js~Station",
    "longname": "src/model/station.js~Station.StationEligibilityData",
    "access": null,
    "description": "",
    "properties": [
      {
        "nullable": null,
        "types": [
          "boolean"
        ],
        "spread": false,
        "optional": false,
        "name": "nprOne",
        "description": "Whether or not this organization is considered an NPR One station"
      },
      {
        "nullable": null,
        "types": [
          "boolean"
        ],
        "spread": false,
        "optional": false,
        "name": "musicOnly",
        "description": "Whether or not this station only plays music"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "format",
        "description": "The format of the programming on this station"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "status",
        "description": "The status of the station within NPR's system, not typically used by consumers"
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "StationEligibilityData"
    }
  },
  {
    "__docId__": 247,
    "kind": "typedef",
    "static": true,
    "variation": null,
    "name": "StationNewscastData",
    "memberof": "src/model/station.js~Station",
    "longname": "src/model/station.js~Station.StationNewscastData",
    "access": null,
    "description": "",
    "properties": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "id",
        "description": "The ID of the newscast that should be played for this station; this is handled internally by other microservices such as the NPR One Listening Service, so this field should typically not be used by consumers"
      },
      {
        "nullable": null,
        "types": [
          "null",
          "number"
        ],
        "spread": false,
        "optional": false,
        "name": "recency",
        "description": "How often the newscast should be played, in minutes; a value of `null` implies no information is available, and sensible defaults should be used"
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "StationNewscastData"
    }
  },
  {
    "__docId__": 248,
    "kind": "typedef",
    "static": true,
    "variation": null,
    "name": "StationNetwork",
    "memberof": "src/model/station.js~Station",
    "longname": "src/model/station.js~Station.StationNetwork",
    "access": null,
    "description": "",
    "properties": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "currentOrgId",
        "description": "The current station being viewed. Client applications should generally ignore this field."
      },
      {
        "nullable": null,
        "types": [
          "boolean"
        ],
        "spread": false,
        "optional": false,
        "name": "usesInheritance",
        "description": "Whether or not the current station inherits from a parent organization, also referred to as a network"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": true,
        "name": "inheritingFrom",
        "description": "The system' unique ID for the organization that the current station is inheriting from, if inheritance is on"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "name",
        "description": "The display name for the current organization"
      },
      {
        "nullable": null,
        "types": [
          "StationNetworkTierOne"
        ],
        "spread": false,
        "optional": true,
        "name": "tier1",
        "description": "The top-level organization, if this station is part of a network"
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "StationNetwork"
    }
  },
  {
    "__docId__": 249,
    "kind": "typedef",
    "static": true,
    "variation": null,
    "name": "StationNetworkTierOne",
    "memberof": "src/model/station.js~Station",
    "longname": "src/model/station.js~Station.StationNetworkTierOne",
    "access": null,
    "description": "",
    "properties": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "id",
        "description": "The unique identifier of the top-level organization in the network"
      },
      {
        "nullable": null,
        "types": [
          "boolean"
        ],
        "spread": false,
        "optional": false,
        "name": "usesInheritance",
        "description": "Whether or not this station inherits from a parent organization, also referred to as a network"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "name",
        "description": "The display name for the top-level organization in the network"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "status",
        "description": "The status of the top-level organization within NPR's system, not typically used by consumers"
      },
      {
        "nullable": null,
        "types": [
          "Array<StationNetworkTierTwo>"
        ],
        "spread": false,
        "optional": true,
        "name": "tier2",
        "description": "One or more stations that are hierarchical children of this organization"
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "StationNetworkTierOne"
    }
  },
  {
    "__docId__": 250,
    "kind": "typedef",
    "static": true,
    "variation": null,
    "name": "StationNetworkTierTwo",
    "memberof": "src/model/station.js~Station",
    "longname": "src/model/station.js~Station.StationNetworkTierTwo",
    "access": null,
    "description": "",
    "properties": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "id",
        "description": "The unique identifier of a tier 2 organization in the network"
      },
      {
        "nullable": null,
        "types": [
          "boolean"
        ],
        "spread": false,
        "optional": false,
        "name": "usesInheritance",
        "description": "Whether or not this station inherits from a parent organization, also referred to as a network"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "name",
        "description": "The display name for a tier 2 organization in the network"
      },
      {
        "nullable": null,
        "types": [
          "Array<StationNetworkTierThree>"
        ],
        "spread": false,
        "optional": true,
        "name": "tier3",
        "description": "One or more stations that are hierarchical children of this organization"
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "StationNetworkTierTwo"
    }
  },
  {
    "__docId__": 251,
    "kind": "typedef",
    "static": true,
    "variation": null,
    "name": "StationNetworkTierThree",
    "memberof": "src/model/station.js~Station",
    "longname": "src/model/station.js~Station.StationNetworkTierThree",
    "access": null,
    "description": "",
    "properties": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "id",
        "description": "The unique identifier of a tier 3 organization in the network"
      },
      {
        "nullable": null,
        "types": [
          "boolean"
        ],
        "spread": false,
        "optional": false,
        "name": "usesInheritance",
        "description": "Whether or not this station inherits from a parent organization, also referred to as a network"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "name",
        "description": "The display name for a tier 3 organization in the network"
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "StationNetworkTierThree"
    }
  },
  {
    "__docId__": 252,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/model/user.js",
    "memberof": null,
    "longname": "src/model/user.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import CollectionDoc from './collection-doc';\n\n/**\n * Container class for all metadata pertaining to a user object from the NPR One API\n *\n * @extends {CollectionDoc}\n */\nexport default class User extends CollectionDoc\n{\n    /**\n     * @param {CollectionDocJSON} json    The decoded JSON object that should be used as the basis for this model\n     */\n    constructor(json) {\n        super(json);\n        /** @type {Object}\n         * @private */\n        this._raw = json;\n        /** @type {UserAttributes} */\n        this.attributes = {};\n        this._hydrate();\n    }\n\n    /**\n     * Hydrate the internal member variables.\n     *\n     * @private\n     */\n    _hydrate() {\n        this._validate();\n        this.attributes = this._raw.attributes;\n    }\n\n    /**\n     * Whether this user is a temporary user or not\n     *\n     * @returns {boolean}\n     */\n    isTemporary() {\n        return parseInt(this.attributes.id, 10) >= 1000000000;\n    }\n\n    /**\n     * Returns the user's cohort. In most cases, SDK consumers will never need to use this.\n     *\n     * @returns {UserCohort}\n     */\n    getCohort() {\n        return this.attributes.cohort;\n    }\n\n    /**\n     * Returns the list of organizations this user is affiliated with. In most cases, you only want a single\n     * organization, in which case {@link User#getPrimaryOrganization} should be used.\n     *\n     * @returns {Array<UserOrganization>}\n     */\n    getOrganizations() {\n        return this.attributes.organizations || [];\n    }\n\n    /**\n     * Returns the primary, non-NPR organization that this user is affiliated with, or null if no such organization\n     * exists.\n     *\n     * @returns {null|UserOrganization}\n     */\n    getPrimaryOrganization() {\n        const orgs = this.getOrganizations();\n        return orgs[0] && orgs[0].id !== '1' ? orgs[0] : null;\n    }\n\n    /**\n     * Returns the programs, shows, and podcasts that this user has positively interacted with.\n     *\n     * @returns {Array<UserAffiliation>}\n     */\n    getAffiliations() {\n        return this.attributes.affiliations;\n    }\n\n    /**\n     * A convenience function to cast this object back to a string, generally only used by the {@link Logger} class.\n     * In this case, we return the user's ID.\n     *\n     * @returns {string}\n     */\n    toString() {\n        return this.attributes.id;\n    }\n\n    /**\n     * @typedef {Object} UserAttributes\n     * @property {string} id Some unique identifier for the user\n     * @property {string} email The user's email address\n     * @property {string} firstName The user's first name\n     * @property {string} lastName The user's last name\n     * @property {UserCohort} cohort The user's cohort (an experimental grouping for User Experience A/B Testing)\n     * @property {Array<UserOrganization>} organizations User's chosen NPR Member Station(s)\n     * @property {Array<UserAffiliation>} affiliations Programs, shows, and podcasts that the user has positively interacted with\n     */\n    /**\n     * @typedef {Object} UserCohort\n     * @property {string} id A short ID for this cohort\n     * @property {string} name A text string identifying the cohort, useful for metrics\n     * @property {string} directory For internal use only; represents the current configuration file being used by the Listening Service\n     */\n    /**\n     * @typedef {Object} UserOrganization\n     * @property {string} id Some unique identifier for the organization\n     * @property {string} displayName A short displayable text field for the end user, strictly text\n     * @property {string} call Station call letters\n     * @property {string} city A short description of the station's main market city\n     * @property {string} [logo] Station logo image URL\n     * @property {string} [donationUrl] The URL to a website where users may make a donation to support the station\n     */\n    /**\n     * @typedef {Object} UserAffiliation\n     * @property {number} id A unique identifier for the aggregation (program)\n     * @property {string} [title] The display name of the aggregation (program)\n     * @property {string} href A link that can be followed to get content from this aggregation (program)\n     * @property {boolean} following Whether or not the user is following the aggregation. When changing affiliation status, the client is expected to toggle this value and then send the entire object back.\n     * @property {number} [rating] The user's average rating for this affiliation on a scale of 0-1. Absent if user never listened to the aggregation.\n     * @property {number} [daysSinceLastListen] The number of days since a user last listened to a story from this aggregation. Absent if user never listened to the aggregation.\n     */\n}\n"
  },
  {
    "__docId__": 253,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "User",
    "memberof": "src/model/user.js",
    "longname": "src/model/user.js~User",
    "access": null,
    "export": true,
    "importPath": "@npr/npr-one-sdk/model/user.js",
    "importStyle": "User",
    "description": "Container class for all metadata pertaining to a user object from the NPR One API",
    "lineNumber": 8,
    "interface": false,
    "extends": [
      "CollectionDoc"
    ]
  },
  {
    "__docId__": 254,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/model/user.js~User",
    "longname": "src/model/user.js~User#constructor",
    "access": null,
    "description": "",
    "lineNumber": 13,
    "params": [
      {
        "nullable": null,
        "types": [
          "CollectionDocJSON"
        ],
        "spread": false,
        "optional": false,
        "name": "json",
        "description": "The decoded JSON object that should be used as the basis for this model"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 255,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_raw",
    "memberof": "src/model/user.js~User",
    "longname": "src/model/user.js~User#_raw",
    "access": "private",
    "description": null,
    "lineNumber": 17,
    "type": {
      "nullable": null,
      "types": [
        "Object"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 256,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "attributes",
    "memberof": "src/model/user.js~User",
    "longname": "src/model/user.js~User#attributes",
    "access": null,
    "description": null,
    "lineNumber": 19,
    "type": {
      "nullable": null,
      "types": [
        "UserAttributes"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 257,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "_hydrate",
    "memberof": "src/model/user.js~User",
    "longname": "src/model/user.js~User#_hydrate",
    "access": "private",
    "description": "Hydrate the internal member variables.",
    "lineNumber": 28,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 258,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "attributes",
    "memberof": "src/model/user.js~User",
    "longname": "src/model/user.js~User#attributes",
    "access": null,
    "description": null,
    "lineNumber": 30,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 259,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "isTemporary",
    "memberof": "src/model/user.js~User",
    "longname": "src/model/user.js~User#isTemporary",
    "access": null,
    "description": "Whether this user is a temporary user or not",
    "lineNumber": 38,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{boolean}"
      }
    ],
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "boolean"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 260,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getCohort",
    "memberof": "src/model/user.js~User",
    "longname": "src/model/user.js~User#getCohort",
    "access": null,
    "description": "Returns the user's cohort. In most cases, SDK consumers will never need to use this.",
    "lineNumber": 47,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{UserCohort}"
      }
    ],
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "UserCohort"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 261,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getOrganizations",
    "memberof": "src/model/user.js~User",
    "longname": "src/model/user.js~User#getOrganizations",
    "access": null,
    "description": "Returns the list of organizations this user is affiliated with. In most cases, you only want a single\norganization, in which case {@link User#getPrimaryOrganization} should be used.",
    "lineNumber": 57,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Array<UserOrganization>}"
      }
    ],
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "Array<UserOrganization>"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 262,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getPrimaryOrganization",
    "memberof": "src/model/user.js~User",
    "longname": "src/model/user.js~User#getPrimaryOrganization",
    "access": null,
    "description": "Returns the primary, non-NPR organization that this user is affiliated with, or null if no such organization\nexists.",
    "lineNumber": 67,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{null|UserOrganization}"
      }
    ],
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "null",
        "UserOrganization"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 263,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getAffiliations",
    "memberof": "src/model/user.js~User",
    "longname": "src/model/user.js~User#getAffiliations",
    "access": null,
    "description": "Returns the programs, shows, and podcasts that this user has positively interacted with.",
    "lineNumber": 77,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Array<UserAffiliation>}"
      }
    ],
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "Array<UserAffiliation>"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 264,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "toString",
    "memberof": "src/model/user.js~User",
    "longname": "src/model/user.js~User#toString",
    "access": null,
    "description": "A convenience function to cast this object back to a string, generally only used by the {@link Logger} class.\nIn this case, we return the user's ID.",
    "lineNumber": 87,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{string}"
      }
    ],
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 265,
    "kind": "typedef",
    "static": true,
    "variation": null,
    "name": "UserAttributes",
    "memberof": "src/model/user.js~User",
    "longname": "src/model/user.js~User.UserAttributes",
    "access": null,
    "description": "",
    "properties": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "id",
        "description": "Some unique identifier for the user"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "email",
        "description": "The user's email address"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "firstName",
        "description": "The user's first name"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "lastName",
        "description": "The user's last name"
      },
      {
        "nullable": null,
        "types": [
          "UserCohort"
        ],
        "spread": false,
        "optional": false,
        "name": "cohort",
        "description": "The user's cohort (an experimental grouping for User Experience A/B Testing)"
      },
      {
        "nullable": null,
        "types": [
          "Array<UserOrganization>"
        ],
        "spread": false,
        "optional": false,
        "name": "organizations",
        "description": "User's chosen NPR Member Station(s)"
      },
      {
        "nullable": null,
        "types": [
          "Array<UserAffiliation>"
        ],
        "spread": false,
        "optional": false,
        "name": "affiliations",
        "description": "Programs, shows, and podcasts that the user has positively interacted with"
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "UserAttributes"
    }
  },
  {
    "__docId__": 266,
    "kind": "typedef",
    "static": true,
    "variation": null,
    "name": "UserCohort",
    "memberof": "src/model/user.js~User",
    "longname": "src/model/user.js~User.UserCohort",
    "access": null,
    "description": "",
    "properties": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "id",
        "description": "A short ID for this cohort"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "name",
        "description": "A text string identifying the cohort, useful for metrics"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "directory",
        "description": "For internal use only; represents the current configuration file being used by the Listening Service"
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "UserCohort"
    }
  },
  {
    "__docId__": 267,
    "kind": "typedef",
    "static": true,
    "variation": null,
    "name": "UserOrganization",
    "memberof": "src/model/user.js~User",
    "longname": "src/model/user.js~User.UserOrganization",
    "access": null,
    "description": "",
    "properties": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "id",
        "description": "Some unique identifier for the organization"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "displayName",
        "description": "A short displayable text field for the end user, strictly text"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "call",
        "description": "Station call letters"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "city",
        "description": "A short description of the station's main market city"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": true,
        "name": "logo",
        "description": "Station logo image URL"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": true,
        "name": "donationUrl",
        "description": "The URL to a website where users may make a donation to support the station"
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "UserOrganization"
    }
  },
  {
    "__docId__": 268,
    "kind": "typedef",
    "static": true,
    "variation": null,
    "name": "UserAffiliation",
    "memberof": "src/model/user.js~User",
    "longname": "src/model/user.js~User.UserAffiliation",
    "access": null,
    "description": "",
    "properties": [
      {
        "nullable": null,
        "types": [
          "number"
        ],
        "spread": false,
        "optional": false,
        "name": "id",
        "description": "A unique identifier for the aggregation (program)"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": true,
        "name": "title",
        "description": "The display name of the aggregation (program)"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "href",
        "description": "A link that can be followed to get content from this aggregation (program)"
      },
      {
        "nullable": null,
        "types": [
          "boolean"
        ],
        "spread": false,
        "optional": false,
        "name": "following",
        "description": "Whether or not the user is following the aggregation. When changing affiliation status, the client is expected to toggle this value and then send the entire object back."
      },
      {
        "nullable": null,
        "types": [
          "number"
        ],
        "spread": false,
        "optional": true,
        "name": "rating",
        "description": "The user's average rating for this affiliation on a scale of 0-1. Absent if user never listened to the aggregation."
      },
      {
        "nullable": null,
        "types": [
          "number"
        ],
        "spread": false,
        "optional": true,
        "name": "daysSinceLastListen",
        "description": "The number of days since a user last listened to a story from this aggregation. Absent if user never listened to the aggregation."
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "UserAffiliation"
    }
  },
  {
    "__docId__": 269,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/util/fetch-util.js",
    "memberof": null,
    "longname": "src/util/fetch-util.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import Logger from './logger';\nimport NPROneSDK from './../index';\nimport ApiError from './../error/api-error';\n\n\n/**\n * Simulates a delay by wrapping a Promise around JavaScript's native `setTimeout` function.\n *\n * @param {number} ms The amount of time to delay for, in milliseconds\n * @returns {Promise}\n * @private\n */\nconst delay = ms => new Promise(r => setTimeout(r, ms));\n\n\n/**\n * A thin wrapper around the Fetch API which provides functionality to automatically\n * request a new access token if an existing one has expired.\n */\nexport default class FetchUtil\n{\n    /**\n     * Primary workhorse for interacting with the NPR One APIs.\n     *\n     * @param {string} url\n     * @param {Object} [options]\n     * @returns {Promise<Object>}\n     */\n    static nprApiFetch(url, options = {}) {\n        Logger.debug(`Starting JSON fetch ${url}`);\n\n        if (!FetchUtil._requestUrlIsAuthorizationCall(url) && !options.headers) {\n            options.headers = FetchUtil._getHeaders(); // eslint-disable-line\n        }\n\n        return fetch(url, options)\n            .then((response) => {\n                if (response.ok) {\n                    return response.json();\n                } else if (response.status === 401 && Boolean(NPROneSDK.accessToken)\n                    && !FetchUtil._requestUrlIsAuthorizationCall(url)) {\n                    return FetchUtil._attemptAccessTokenRefresh(url, options);\n                }\n                return FetchUtil.formatErrorResponse(response);\n            });\n    }\n\n    /**\n     * Wraps an error response from an API call in an {@link ApiError} object so that consuming code has more\n     * flexibility to determine how to handle the error. To be clear: this function returns a Promise that **always**\n     * rejects, but it may or may not have the deserialized JSON body based on whether `response.json()` succeeded or\n     * failed (the latter is usually an indicator that the response had an empty body).\n     *\n     * @param {Response} response\n     * @returns {Promise}\n     */\n    static formatErrorResponse(response) {\n        return response.json()\n            .then((json) => {\n                throw new ApiError(response, json);\n            }, (err) => { // this will ONLY catch errors from the deserialization, and not from the line above this\n                Logger.debug('Problem deserializing JSON from API error');\n                Logger.debug(err);\n                throw new ApiError(response);\n            });\n    }\n\n    /**\n     * The logic to attempt an access token refresh, broken out for easier readability.\n     *\n     * @param {string} url\n     * @param {Object} options\n     * @returns {Promise<Object>}\n     * @private\n     */\n    static _attemptAccessTokenRefresh(url, options) {\n        return NPROneSDK.refreshExistingAccessToken()\n            .then(() => { // retry the original request we were making, after a short delay\n                const _options = options;\n                /* istanbul ignore else */ // defensive coding\n                if (options.headers) {\n                    _options.headers = FetchUtil._getHeaders(); // make sure we use the new access token\n                }\n\n                return delay(250)\n                    .then(FetchUtil.nprApiFetch.bind(this, url, _options));\n            });\n    }\n\n    /**\n     * Ensures access token is defined and generates the required Headers object for fetch\n     *\n     * @returns {Headers}\n     * @private\n     */\n    static _getHeaders() {\n        if (NPROneSDK.accessToken === '') {\n            throw new Error('An Access Token must set before making API requests.');\n        }\n\n        const headers = new Headers();\n        headers.append('Authorization', `Bearer ${NPROneSDK.accessToken}`);\n        if (NPROneSDK.config.advertisingId) {\n            headers.append('X-Advertising-ID', `${NPROneSDK.config.advertisingId}`);\n        }\n        if (NPROneSDK.config.advertisingTarget) {\n            headers.append('X-Advertising-Target', `${NPROneSDK.config.advertisingTarget}`);\n        }\n        return headers;\n    }\n\n    /**\n     * Tests whether or not the call to the given URL should be considered an authorization call.\n     *\n     * @param {string} url\n     * @returns {boolean}\n     * @private\n     */\n    static _requestUrlIsAuthorizationCall(url) {\n        return (NPROneSDK.config.authProxyBaseUrl && (url.indexOf(NPROneSDK.config.authProxyBaseUrl) > -1))\n            || new RegExp(NPROneSDK.getServiceUrl('authorization')).test(url);\n    }\n}\n"
  },
  {
    "__docId__": 270,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "delay",
    "memberof": "src/util/fetch-util.js",
    "longname": "src/util/fetch-util.js~delay",
    "access": "private",
    "export": false,
    "importPath": "@npr/npr-one-sdk/util/fetch-util.js",
    "importStyle": null,
    "description": "Simulates a delay by wrapping a Promise around JavaScript's native `setTimeout` function.",
    "lineNumber": 13,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "number"
        ],
        "spread": false,
        "optional": false,
        "name": "ms",
        "description": "The amount of time to delay for, in milliseconds"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise"
      ],
      "spread": false,
      "description": ""
    },
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 271,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "FetchUtil",
    "memberof": "src/util/fetch-util.js",
    "longname": "src/util/fetch-util.js~FetchUtil",
    "access": null,
    "export": true,
    "importPath": "@npr/npr-one-sdk/util/fetch-util.js",
    "importStyle": "FetchUtil",
    "description": "A thin wrapper around the Fetch API which provides functionality to automatically\nrequest a new access token if an existing one has expired.",
    "lineNumber": 20,
    "interface": false
  },
  {
    "__docId__": 272,
    "kind": "method",
    "static": true,
    "variation": null,
    "name": "nprApiFetch",
    "memberof": "src/util/fetch-util.js~FetchUtil",
    "longname": "src/util/fetch-util.js~FetchUtil.nprApiFetch",
    "access": null,
    "description": "Primary workhorse for interacting with the NPR One APIs.",
    "lineNumber": 29,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Object>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "url",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": true,
        "name": "options",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Object>"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 273,
    "kind": "method",
    "static": true,
    "variation": null,
    "name": "formatErrorResponse",
    "memberof": "src/util/fetch-util.js~FetchUtil",
    "longname": "src/util/fetch-util.js~FetchUtil.formatErrorResponse",
    "access": null,
    "description": "Wraps an error response from an API call in an {@link ApiError} object so that consuming code has more\nflexibility to determine how to handle the error. To be clear: this function returns a Promise that **always**\nrejects, but it may or may not have the deserialized JSON body based on whether `response.json()` succeeded or\nfailed (the latter is usually an indicator that the response had an empty body).",
    "lineNumber": 57,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Response"
        ],
        "spread": false,
        "optional": false,
        "name": "response",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 274,
    "kind": "method",
    "static": true,
    "variation": null,
    "name": "_attemptAccessTokenRefresh",
    "memberof": "src/util/fetch-util.js~FetchUtil",
    "longname": "src/util/fetch-util.js~FetchUtil._attemptAccessTokenRefresh",
    "access": "private",
    "description": "The logic to attempt an access token refresh, broken out for easier readability.",
    "lineNumber": 76,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Object>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "url",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "options",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Object>"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 275,
    "kind": "method",
    "static": true,
    "variation": null,
    "name": "_getHeaders",
    "memberof": "src/util/fetch-util.js~FetchUtil",
    "longname": "src/util/fetch-util.js~FetchUtil._getHeaders",
    "access": "private",
    "description": "Ensures access token is defined and generates the required Headers object for fetch",
    "lineNumber": 96,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Headers}"
      }
    ],
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "Headers"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 276,
    "kind": "method",
    "static": true,
    "variation": null,
    "name": "_requestUrlIsAuthorizationCall",
    "memberof": "src/util/fetch-util.js~FetchUtil",
    "longname": "src/util/fetch-util.js~FetchUtil._requestUrlIsAuthorizationCall",
    "access": "private",
    "description": "Tests whether or not the call to the given URL should be considered an authorization call.",
    "lineNumber": 119,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{boolean}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "url",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "boolean"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 277,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/util/logger.js",
    "memberof": null,
    "longname": "src/util/logger.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import * as Logger from 'js-logger';\n\n/* istanbul ignore next */\nLogger.useDefaults({\n    formatter(messages, context) {\n        messages.unshift('[NPROneSDK]');\n        if (context.name) {\n            messages.unshift(`[${context.name}]`);\n        }\n    },\n});\n\n/**\n * @typedef {JsLogger} Logger\n */\nexport default Logger;\n"
  },
  {
    "__docId__": 278,
    "kind": "typedef",
    "static": true,
    "variation": null,
    "name": "Logger",
    "memberof": "src/util/logger.js",
    "longname": "src/util/logger.js~Logger",
    "access": null,
    "description": "",
    "lineNumber": 16,
    "type": {
      "types": [
        "JsLogger"
      ],
      "optional": false,
      "name": "Logger"
    }
  },
  {
    "__docId__": 279,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/util/recommendation-creator.js",
    "memberof": null,
    "longname": "src/util/recommendation-creator.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import Validator from './validator';\nimport Recommendation from './../model/recommendation';\nimport Logger from './../util/logger';\n\n\n/**\n * Creates recommendation objects from collection doc ensuring that necessary\n * properties are present\n *\n * @param {CollectionDocJSON} collectionDoc\n * @returns {Array<Recommendation>}\n * @throws {TypeError} if the collectionDoc passed in is not valid\n */\nexport default function createRecommendations(collectionDoc) {\n    Validator.validateCollectionDoc(collectionDoc);\n\n    const recommendations = [];\n    collectionDoc.items.forEach((item) => {\n        try {\n            recommendations.push(new Recommendation(item));\n        } catch (e) {\n            Logger.warn('Recommendation is invalid and has been excluded.', e);\n        }\n    });\n\n    return recommendations;\n}\n"
  },
  {
    "__docId__": 280,
    "kind": "function",
    "static": true,
    "variation": null,
    "name": "createRecommendations",
    "memberof": "src/util/recommendation-creator.js",
    "longname": "src/util/recommendation-creator.js~createRecommendations",
    "access": null,
    "export": true,
    "importPath": "@npr/npr-one-sdk/util/recommendation-creator.js",
    "importStyle": "createRecommendations",
    "description": "Creates recommendation objects from collection doc ensuring that necessary\nproperties are present",
    "lineNumber": 14,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Array<Recommendation>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "CollectionDocJSON"
        ],
        "spread": false,
        "optional": false,
        "name": "collectionDoc",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Array<Recommendation>"
      ],
      "spread": false,
      "description": ""
    },
    "throws": [
      {
        "types": [
          "TypeError"
        ],
        "description": "if the collectionDoc passed in is not valid"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 281,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/util/validator.js",
    "memberof": null,
    "longname": "src/util/validator.js",
    "access": null,
    "description": null,
    "lineNumber": 4,
    "content": "/**\n * A utility class which performs validations by checking of required object properties exist.\n */\nexport default class Validator {\n    /**\n     * Validates collection doc format\n     *\n     * @param {Object} collectionDoc\n     * @throws {TypeError} if collection doc is invalid\n     */\n    static validateCollectionDoc(collectionDoc) {\n        const requiredNames = [\n            'version', 'href', 'attributes', 'items', 'links', 'errors',\n        ];\n\n        Validator._validate(collectionDoc, requiredNames);\n    }\n\n    /**\n     * Validates an access token model (obtained from the `POST /authorization/v2/token` endpoint)\n     *\n     * @param {Object} accessTokenModel\n     * @throws {TypeError} if access token model is invalid\n     */\n    static validateAccessToken(accessTokenModel) {\n        const requiredNames = [\n            'access_token', 'token_type', 'expires_in',\n        ];\n\n        Validator._validate(accessTokenModel, requiredNames);\n    }\n\n    /**\n     * Validates a device code model (obtained from the `POST /authorization/v2/device` endpoint)\n     *\n     * @param {Object} deviceCodeModel\n     * @throws {TypeError} if device code model is invalid\n     */\n    static validateDeviceCode(deviceCodeModel) {\n        const requiredNames = [\n            'user_code', 'verification_uri', 'expires_in', 'interval',\n        ];\n\n        Validator._validate(deviceCodeModel, requiredNames);\n    }\n\n    /**\n     * Base validator function.\n     *\n     * @param {Object} object\n     * @param {Array<string>} requiredNames\n     * @throws {TypeError} if object is invalid\n     * @private\n     */\n    static _validate(object, requiredNames) {\n        const messages = [];\n\n        for (const name of requiredNames) {\n            if (!Validator._has(object, name)) {\n                messages.push(`'${name}' is missing and is required.`);\n            }\n        }\n\n        if (messages.length > 0) {\n            throw new TypeError(`${messages.join(', ')} :${JSON.stringify(object)}`);\n        }\n    }\n\n    /**\n     * A typesafe check to make sure the property exists within the object.\n     *\n     * @param {Object} object\n     * @param {string} key\n     * @returns {boolean}\n     * @private\n     */\n    static _has(object, key) {\n        /* istanbul ignore next: defensive coding, not going to worry too much about this */\n        return object ? {}.hasOwnProperty.call(object, key) : false;\n    }\n}\n"
  },
  {
    "__docId__": 282,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "Validator",
    "memberof": "src/util/validator.js",
    "longname": "src/util/validator.js~Validator",
    "access": null,
    "export": true,
    "importPath": "@npr/npr-one-sdk/util/validator.js",
    "importStyle": "Validator",
    "description": "A utility class which performs validations by checking of required object properties exist.",
    "lineNumber": 4,
    "interface": false
  },
  {
    "__docId__": 283,
    "kind": "method",
    "static": true,
    "variation": null,
    "name": "validateCollectionDoc",
    "memberof": "src/util/validator.js~Validator",
    "longname": "src/util/validator.js~Validator.validateCollectionDoc",
    "access": null,
    "description": "Validates collection doc format",
    "lineNumber": 11,
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "collectionDoc",
        "description": ""
      }
    ],
    "throws": [
      {
        "types": [
          "TypeError"
        ],
        "description": "if collection doc is invalid"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 284,
    "kind": "method",
    "static": true,
    "variation": null,
    "name": "validateAccessToken",
    "memberof": "src/util/validator.js~Validator",
    "longname": "src/util/validator.js~Validator.validateAccessToken",
    "access": null,
    "description": "Validates an access token model (obtained from the `POST /authorization/v2/token` endpoint)",
    "lineNumber": 25,
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "accessTokenModel",
        "description": ""
      }
    ],
    "throws": [
      {
        "types": [
          "TypeError"
        ],
        "description": "if access token model is invalid"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 285,
    "kind": "method",
    "static": true,
    "variation": null,
    "name": "validateDeviceCode",
    "memberof": "src/util/validator.js~Validator",
    "longname": "src/util/validator.js~Validator.validateDeviceCode",
    "access": null,
    "description": "Validates a device code model (obtained from the `POST /authorization/v2/device` endpoint)",
    "lineNumber": 39,
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "deviceCodeModel",
        "description": ""
      }
    ],
    "throws": [
      {
        "types": [
          "TypeError"
        ],
        "description": "if device code model is invalid"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 286,
    "kind": "method",
    "static": true,
    "variation": null,
    "name": "_validate",
    "memberof": "src/util/validator.js~Validator",
    "longname": "src/util/validator.js~Validator._validate",
    "access": "private",
    "description": "Base validator function.",
    "lineNumber": 55,
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "object",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Array<string>"
        ],
        "spread": false,
        "optional": false,
        "name": "requiredNames",
        "description": ""
      }
    ],
    "throws": [
      {
        "types": [
          "TypeError"
        ],
        "description": "if object is invalid"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 287,
    "kind": "method",
    "static": true,
    "variation": null,
    "name": "_has",
    "memberof": "src/util/validator.js~Validator",
    "longname": "src/util/validator.js~Validator._has",
    "access": "private",
    "description": "A typesafe check to make sure the property exists within the object.",
    "lineNumber": 77,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{boolean}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "object",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "key",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "boolean"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 289,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Infinity",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Infinity",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Infinity",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 290,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "NaN",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/NaN",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~NaN",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 291,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "undefined",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~undefined",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 292,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "null",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~null",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 293,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Object",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Object",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 294,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "object",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~object",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 295,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Function",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Function",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 296,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "function",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~function",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 297,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Boolean",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Boolean",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 298,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "boolean",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~boolean",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 299,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Symbol",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Symbol",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 300,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Error",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Error",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 301,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "EvalError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/EvalError",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~EvalError",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 302,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "InternalError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/InternalError",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~InternalError",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 303,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "RangeError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RangeError",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~RangeError",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 304,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "ReferenceError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ReferenceError",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~ReferenceError",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 305,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "SyntaxError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SyntaxError",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~SyntaxError",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 306,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "TypeError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypeError",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~TypeError",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 307,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "URIError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/URIError",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~URIError",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 308,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Number",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Number",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 309,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "number",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~number",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 310,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Date",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Date",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 311,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "String",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~String",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 312,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "string",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~string",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 313,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "RegExp",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~RegExp",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 314,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Array",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 315,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Int8Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int8Array",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Int8Array",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 316,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Uint8Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Uint8Array",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 317,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Uint8ClampedArray",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8ClampedArray",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Uint8ClampedArray",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 318,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Int16Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int16Array",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Int16Array",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 319,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Uint16Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint16Array",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Uint16Array",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 320,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Int32Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int32Array",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Int32Array",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 321,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Uint32Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint32Array",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Uint32Array",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 322,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Float32Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Float32Array",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Float32Array",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 323,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Float64Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Float64Array",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Float64Array",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 324,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Map",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Map",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 325,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Set",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Set",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 326,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "WeakMap",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakMap",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~WeakMap",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 327,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "WeakSet",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakSet",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~WeakSet",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 328,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "ArrayBuffer",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~ArrayBuffer",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 329,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "DataView",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~DataView",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 330,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "JSON",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~JSON",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 331,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Promise",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Promise",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 332,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Generator",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Generator",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Generator",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 333,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "GeneratorFunction",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/GeneratorFunction",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~GeneratorFunction",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 334,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Reflect",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Reflect",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Reflect",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 335,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Proxy",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Proxy",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 337,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "CanvasRenderingContext2D",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D",
    "memberof": "BuiltinExternal/WebAPIExternal.js",
    "longname": "BuiltinExternal/WebAPIExternal.js~CanvasRenderingContext2D",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 338,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "DocumentFragment",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/API/DocumentFragment",
    "memberof": "BuiltinExternal/WebAPIExternal.js",
    "longname": "BuiltinExternal/WebAPIExternal.js~DocumentFragment",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 339,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Element",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/API/Element",
    "memberof": "BuiltinExternal/WebAPIExternal.js",
    "longname": "BuiltinExternal/WebAPIExternal.js~Element",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 340,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Event",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/API/Event",
    "memberof": "BuiltinExternal/WebAPIExternal.js",
    "longname": "BuiltinExternal/WebAPIExternal.js~Event",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 341,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Node",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/API/Node",
    "memberof": "BuiltinExternal/WebAPIExternal.js",
    "longname": "BuiltinExternal/WebAPIExternal.js~Node",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 342,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "NodeList",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/API/NodeList",
    "memberof": "BuiltinExternal/WebAPIExternal.js",
    "longname": "BuiltinExternal/WebAPIExternal.js~NodeList",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 343,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "XMLHttpRequest",
    "externalLink": "https://developer.mozilla.org/en/docs/Web/API/XMLHttpRequest",
    "memberof": "BuiltinExternal/WebAPIExternal.js",
    "longname": "BuiltinExternal/WebAPIExternal.js~XMLHttpRequest",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 344,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "AudioContext",
    "externalLink": "https://developer.mozilla.org/en/docs/Web/API/AudioContext",
    "memberof": "BuiltinExternal/WebAPIExternal.js",
    "longname": "BuiltinExternal/WebAPIExternal.js~AudioContext",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 345,
    "kind": "testFile",
    "static": true,
    "variation": null,
    "name": "unit/controller/authorization.js",
    "memberof": null,
    "longname": "unit/controller/authorization.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import chai from 'chai';\nimport { ACCESS_TOKEN_RESPONSE, DEVICE_CODE_RESPONSE, DEVICE_CODE_POLL_RESPONSE, DEVICE_CODE_DENIED_RESPONSE, DEVICE_CODE_EXPIRED_RESPONSE } from '../../test-data';\nimport mockery from 'mockery';\nimport fetchMock from 'fetch-mock';\nimport Authorization from './../../../src/controller/authorization';\nimport NprOne from './../../../src/index';\nimport { testConfig } from '../../test';\n\nconst should = chai.should();\n\n\n/** @test {Authorization} */\ndescribe('Authorization', () => {\n    let authorization;\n    let refreshTokenUrl;\n    let logoutUrl;\n    let newDeviceCodeUrl;\n    let deviceCodePollUrl;\n\n\n    beforeEach(() => {\n        authorization = new Authorization();\n        NprOne.config = testConfig;\n\n        refreshTokenUrl = `^${testConfig.authProxyBaseUrl}${NprOne.config.refreshTokenPath}`;\n        logoutUrl = `^${testConfig.authProxyBaseUrl}${NprOne.config.logoutPath}`;\n        newDeviceCodeUrl = `${NprOne.config.authProxyBaseUrl}${NprOne.config.newDeviceCodePath}`;\n        deviceCodePollUrl = `${NprOne.config.authProxyBaseUrl}${NprOne.config.pollDeviceCodePath}`;\n    });\n\n    afterEach(() => {\n        fetchMock.restore();\n        mockery.deregisterMock('fetch');\n    });\n\n\n    /** @test {Authorization.refreshExistingAccessToken} */\n    describe('refreshExistingAccessToken', function () { // intentionally can't use arrow function here\n        // see: https://github.com/mochajs/mocha/issues/1763\n        this.timeout(16000);\n\n        // @TODO this should not be necessary - quick-fix to deal with implicit dependency on Listening controller - see #8\n        const adsWizzWwwUrl = 'https://adswizz.com';\n        const adsWizzCdnUrl = '^https://delivery-s3.adswizz.com';\n\n        it('should call the refresh token endpoint in the auth proxy', (done) => {\n            mockery.registerMock('fetch', fetchMock\n                .mock(refreshTokenUrl, 'POST', ACCESS_TOKEN_RESPONSE)\n                .mock(adsWizzWwwUrl, 'GET', 200) // @TODO remove as part of fix for #8\n                .mock(adsWizzCdnUrl, 'GET', 200) // @TODO remove as part of fix for #8\n                .getMock());\n\n            Authorization.refreshExistingAccessToken()\n                .then(() => {\n                    fetchMock.called(refreshTokenUrl).should.be.true;\n                    fetchMock.calls().unmatched.length.should.equal(0);\n                    NprOne.accessToken.should.equal(ACCESS_TOKEN_RESPONSE.access_token);\n                    done();\n                })\n                .catch(done);\n        });\n\n        it('should retry the call to the refresh token endpoint in the auth proxy if it receives a bad response the first time', (done) => {\n            let numTries = 0;\n\n            const responses = () => {\n                numTries += 1;\n\n                if (numTries === 1) {\n                    return 500;\n                } else {\n                    return ACCESS_TOKEN_RESPONSE;\n                }\n            };\n\n            mockery.registerMock('fetch', fetchMock\n                .mock(refreshTokenUrl, 'POST', responses)\n                .mock(adsWizzWwwUrl, 'GET', 200) // @TODO remove as part of fix for #8\n                .mock(adsWizzCdnUrl, 'GET', 200) // @TODO remove as part of fix for #8\n                .getMock());\n\n            Authorization.refreshExistingAccessToken()\n                .then(() => {\n                    fetchMock.called(refreshTokenUrl).should.be.true;\n                    fetchMock.calls().matched.length.should.be.greaterThan(1);\n                    fetchMock.calls().unmatched.length.should.equal(0);\n                    NprOne.accessToken.should.equal(ACCESS_TOKEN_RESPONSE.access_token);\n                    done();\n                })\n                .catch(done);\n        });\n\n        it('should retry the call to the refresh token endpoint in the auth proxy up to 3 times, but then error out', (done) => {\n            let numTries = 0;\n\n            const responses = () => {\n                numTries += 1;\n\n                if (numTries < 5) {\n                    return 500;\n                } else {\n                    return ACCESS_TOKEN_RESPONSE;\n                }\n            };\n\n            mockery.registerMock('fetch', fetchMock\n                .mock(refreshTokenUrl, 'POST', responses)\n                .mock(adsWizzWwwUrl, 'GET', 200) // @TODO remove as part of fix for #8\n                .mock(adsWizzCdnUrl, 'GET', 200) // @TODO remove as part of fix for #8\n                .getMock());\n\n            Authorization.refreshExistingAccessToken()\n                .then(() => {\n                    done('Should not be here, call should have ended on a throw');\n                })\n                .catch(() => {\n                    fetchMock.called(refreshTokenUrl).should.be.true;\n                    fetchMock.calls().matched.length.should.be.greaterThan(1);\n                    fetchMock.calls().unmatched.length.should.equal(0);\n                    done();\n                });\n        });\n\n        describe('if no auth proxy URL is set', () => {\n            beforeEach(() => {\n                NprOne.config = { authProxyBaseUrl: '' };\n            });\n\n            it('should throw a TypeError', () => {\n                chai.expect(() => {\n                    Authorization.refreshExistingAccessToken();\n                }).to.throw('OAuth proxy not configured. Unable to refresh the access token.');\n            });\n        });\n\n        describe('if no access token is set', () => {\n            beforeEach(() => {\n                NprOne.config = { accessToken: '' };\n            });\n\n            it('should throw a TypeError', () => {\n                chai.expect(() => {\n                    Authorization.refreshExistingAccessToken();\n                }).to.throw('An access token must be set in order to attempt a refresh.');\n            });\n        });\n    });\n\n\n    /** @test {Authorization#logout} */\n    describe('logout', () => {\n        it('should call the logout endpoint in the auth proxy', (done) => {\n            const oldAccessToken = NprOne.accessToken;\n\n            mockery.registerMock('fetch', fetchMock\n                .mock(logoutUrl, 'POST', JSON.stringify(''))\n                .getMock());\n\n            authorization.logout()\n                .then(() => {\n                    fetchMock.called(logoutUrl).should.be.true;\n                    fetchMock.calls().unmatched.length.should.equal(0);\n                    const options = fetchMock.lastOptions(logoutUrl);\n                    options.body.should.equal(`token=${oldAccessToken}`);\n                    NprOne.accessToken.should.equal('');\n                    done();\n                })\n                .catch(done);\n        });\n\n        it('should throw an error if the response is not \\'ok\\'', (done) => {\n            mockery.registerMock('fetch', fetchMock\n                .mock(logoutUrl, 'POST', 400)\n                .getMock());\n\n            authorization.logout().should.be.rejected.notify(() => {\n                fetchMock.called(logoutUrl).should.be.true;\n                fetchMock.calls().unmatched.length.should.equal(0);\n                done();\n            });\n        });\n\n        describe('if no access token is set', () => {\n            beforeEach(() => {\n                NprOne.config = { accessToken: '' };\n            });\n\n            it('should throw a TypeError', () => {\n                chai.expect(() => {\n                    authorization.logout();\n                }).to.throw('An access token must be set in order to attempt a logout.');\n            });\n        });\n\n        describe('if no auth proxy URL is set', () => {\n            beforeEach(() => {\n                NprOne.config = { authProxyBaseUrl: '' };\n            });\n\n            it('should throw a TypeError', () => {\n                chai.expect(() => {\n                    authorization.logout();\n                }).to.throw('OAuth proxy not configured. Unable to securely log out the user.');\n            });\n        });\n    });\n\n\n    /** @test {Authorization#getDeviceCode} */\n    describe('getDeviceCode', () => {\n        it('should throw an error if not configured properly', () => {\n            NprOne.config = { authProxyBaseUrl: '' };\n            chai.expect(() => {\n                authorization.getDeviceCode();\n            }).to.throw('OAuth proxy not configured. Unable to use the device code.');\n        });\n\n        it('should make a request to authProxyUrl when called', (done) => {\n            mockery.registerMock('fetch', fetchMock\n                .mock(newDeviceCodeUrl, 'POST', DEVICE_CODE_RESPONSE)\n                .getMock());\n\n            authorization.getDeviceCode()\n                .then((deviceCode) => {\n                    fetchMock.called(newDeviceCodeUrl).should.be.true;\n                    fetchMock.calls().unmatched.length.should.equal(0);\n                    deviceCode.userCode.should.equal(DEVICE_CODE_RESPONSE.user_code);\n                    done();\n                })\n                .catch(done);\n        });\n\n        it('should make a request to authProxyUrl with additional scopes when scopes are passed in', (done) => {\n            mockery.registerMock('fetch', fetchMock\n                .mock(newDeviceCodeUrl, 'POST', DEVICE_CODE_RESPONSE)\n                .getMock());\n\n            authorization.getDeviceCode(['listening.readonly', 'identity.readonly'])\n                .then(() => {\n                    fetchMock.called(newDeviceCodeUrl).should.be.true;\n                    const options = fetchMock.lastOptions(newDeviceCodeUrl);\n                    options.body.indexOf('listening.readonly').should.not.equal(-1);\n                    options.body.indexOf('identity.readonly').should.not.equal(-1);\n                    done();\n                })\n                .catch(done);\n        });\n    });\n\n\n    /** @test {Authorization#pollDeviceCode} */\n    describe('pollDeviceCode', function () { // intentionally can't use arrow function here\n        // see: https://github.com/mochajs/mocha/issues/1763\n        this.timeout(16000);\n\n        it('should throw an error if not configured properly', () => {\n            NprOne.config = { authProxyBaseUrl: '' };\n            chai.expect(() => {\n                authorization.pollDeviceCode();\n            }).to.throw('OAuth proxy not configured. Unable to use the device code.');\n        });\n\n        it('should throw an error if no active device code exists', () => {\n            chai.expect(() => {\n                authorization.pollDeviceCode();\n            }).to.throw('No active device code set. Please call getDeviceCode() before calling this function.');\n        });\n\n        it('should return a Promise that rejects if the active device code is expired', (done) => {\n            const deviceCodeClone = JSON.parse(JSON.stringify(DEVICE_CODE_RESPONSE));\n            deviceCodeClone.expires_in = 0;\n\n            mockery.registerMock('fetch', fetchMock\n                .mock(newDeviceCodeUrl, 'POST', deviceCodeClone)\n                .getMock());\n\n            authorization.getDeviceCode()\n                .then(() => {\n                    authorization.pollDeviceCode().should.be.rejectedWith('The device code has expired. Please generate a new one before continuing.').notify(done);\n                });\n        });\n\n        it('should return a Promise that resolves to a valid access token if device code is valid', (done) => {\n            mockery.registerMock('fetch', fetchMock\n                .mock(newDeviceCodeUrl, 'POST', DEVICE_CODE_RESPONSE)\n                .mock(deviceCodePollUrl, 'POST', ACCESS_TOKEN_RESPONSE)\n                .getMock());\n\n            authorization.getDeviceCode()\n                .then(() => {\n                    return authorization.pollDeviceCode();\n                })\n                .then((accessToken) => {\n                    NprOne.accessToken.should.equal(ACCESS_TOKEN_RESPONSE.access_token);\n                    accessToken.toString().should.equal(ACCESS_TOKEN_RESPONSE.access_token);\n                })\n                .then(done)\n                .catch(done);\n        });\n\n        it('should return a Promise that rejects if the active device code is invalid (or possibly expired)', (done) => {\n            mockery.registerMock('fetch', fetchMock\n                .mock(newDeviceCodeUrl, 'POST', DEVICE_CODE_RESPONSE)\n                .mock(deviceCodePollUrl, 'POST', {\n                    status: 400,\n                    body: DEVICE_CODE_EXPIRED_RESPONSE,\n                })\n                .getMock());\n\n            authorization.getDeviceCode()\n                .then(() => {\n                    authorization.pollDeviceCode().should.be.rejectedWith('Response status: 400 Bad Request').notify(done);\n                });\n        });\n\n        it('should return a Promise that rejects if the active device code is valid but the user went to log in and denied the app access', (done) => {\n            mockery.registerMock('fetch', fetchMock\n                .mock(newDeviceCodeUrl, 'POST', DEVICE_CODE_RESPONSE)\n                .mock(deviceCodePollUrl, 'POST', {\n                    status: 401,\n                    body: DEVICE_CODE_DENIED_RESPONSE,\n                })\n                .getMock());\n\n            authorization.getDeviceCode()\n                .then(() => {\n                    authorization.pollDeviceCode().should.be.rejectedWith('Response status: 401 Unauthorized').notify(done);\n                });\n        });\n\n        it('should return a Promise that resolves to valid access token after polling a number of times if the user logs in', (done) => {\n            let numTries = 0;\n\n            const responses = () => {\n                numTries += 1;\n\n                if (numTries < 3) {\n                    return {\n                        status: 401,\n                        body: DEVICE_CODE_POLL_RESPONSE,\n                    };\n                } else {\n                    return ACCESS_TOKEN_RESPONSE; // a.k.a. the user logged in\n                }\n            };\n\n            mockery.registerMock('fetch', fetchMock\n                .mock(newDeviceCodeUrl, 'POST', DEVICE_CODE_RESPONSE)\n                .mock(deviceCodePollUrl, 'POST', responses)\n                .getMock());\n\n            authorization.getDeviceCode()\n                .then(() => {\n                    return authorization.pollDeviceCode();\n                })\n                .then((accessToken) => {\n                    fetchMock.called(deviceCodePollUrl).should.be.true;\n                    fetchMock.calls().matched.length.should.be.greaterThan(1);\n                    fetchMock.calls().unmatched.length.should.equal(0);\n                    NprOne.accessToken.should.equal(ACCESS_TOKEN_RESPONSE.access_token);\n                    accessToken.toString().should.equal(ACCESS_TOKEN_RESPONSE.access_token);\n                })\n                .then(done)\n                .catch(done);\n        });\n\n        it('should return a Promise that rejects if the returned access token is invalid', (done) => {\n            const accessTokenClone = JSON.parse(JSON.stringify(ACCESS_TOKEN_RESPONSE));\n            delete accessTokenClone.expires_in;\n\n            mockery.registerMock('fetch', fetchMock\n                .mock(newDeviceCodeUrl, 'POST', DEVICE_CODE_RESPONSE)\n                .mock(deviceCodePollUrl, 'POST', accessTokenClone)\n                .getMock());\n\n            authorization.getDeviceCode()\n                .then(() => {\n                    authorization.pollDeviceCode().should.be.rejectedWith(`TypeError: 'expires_in' is missing and is required. :${JSON.stringify(accessTokenClone)}`).notify(done);\n                });\n        });\n    });\n});\n"
  },
  {
    "__docId__": 346,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe0",
    "testId": 0,
    "memberof": "unit/controller/authorization.js",
    "testDepth": 0,
    "longname": "unit/controller/authorization.js~describe0",
    "access": null,
    "description": "Authorization",
    "lineNumber": 13,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Authorization}"
      }
    ],
    "testTargets": [
      "Authorization"
    ]
  },
  {
    "__docId__": 347,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe1",
    "testId": 1,
    "memberof": "unit/controller/authorization.js~describe0",
    "testDepth": 1,
    "longname": "unit/controller/authorization.js~describe0.describe1",
    "access": null,
    "description": "refreshExistingAccessToken",
    "lineNumber": 38,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Authorization.refreshExistingAccessToken}"
      }
    ],
    "testTargets": [
      "Authorization.refreshExistingAccessToken"
    ]
  },
  {
    "__docId__": 348,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it2",
    "testId": 2,
    "memberof": "unit/controller/authorization.js~describe0.describe1",
    "testDepth": 2,
    "longname": "unit/controller/authorization.js~describe0.describe1.it2",
    "access": null,
    "description": "should call the refresh token endpoint in the auth proxy",
    "lineNumber": 46
  },
  {
    "__docId__": 349,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it3",
    "testId": 3,
    "memberof": "unit/controller/authorization.js~describe0.describe1",
    "testDepth": 2,
    "longname": "unit/controller/authorization.js~describe0.describe1.it3",
    "access": null,
    "description": "should retry the call to the refresh token endpoint in the auth proxy if it receives a bad response the first time",
    "lineNumber": 63
  },
  {
    "__docId__": 350,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it4",
    "testId": 4,
    "memberof": "unit/controller/authorization.js~describe0.describe1",
    "testDepth": 2,
    "longname": "unit/controller/authorization.js~describe0.describe1.it4",
    "access": null,
    "description": "should retry the call to the refresh token endpoint in the auth proxy up to 3 times, but then error out",
    "lineNumber": 93
  },
  {
    "__docId__": 351,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe5",
    "testId": 5,
    "memberof": "unit/controller/authorization.js~describe0.describe1",
    "testDepth": 2,
    "longname": "unit/controller/authorization.js~describe0.describe1.describe5",
    "access": null,
    "description": "if no auth proxy URL is set",
    "lineNumber": 124
  },
  {
    "__docId__": 352,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it6",
    "testId": 6,
    "memberof": "unit/controller/authorization.js~describe0.describe1.describe5",
    "testDepth": 3,
    "longname": "unit/controller/authorization.js~describe0.describe1.describe5.it6",
    "access": null,
    "description": "should throw a TypeError",
    "lineNumber": 129
  },
  {
    "__docId__": 353,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe7",
    "testId": 7,
    "memberof": "unit/controller/authorization.js~describe0.describe1",
    "testDepth": 2,
    "longname": "unit/controller/authorization.js~describe0.describe1.describe7",
    "access": null,
    "description": "if no access token is set",
    "lineNumber": 136
  },
  {
    "__docId__": 354,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it8",
    "testId": 8,
    "memberof": "unit/controller/authorization.js~describe0.describe1.describe7",
    "testDepth": 3,
    "longname": "unit/controller/authorization.js~describe0.describe1.describe7.it8",
    "access": null,
    "description": "should throw a TypeError",
    "lineNumber": 141
  },
  {
    "__docId__": 355,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe9",
    "testId": 9,
    "memberof": "unit/controller/authorization.js~describe0",
    "testDepth": 1,
    "longname": "unit/controller/authorization.js~describe0.describe9",
    "access": null,
    "description": "logout",
    "lineNumber": 151,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Authorization#logout}"
      }
    ],
    "testTargets": [
      "Authorization#logout"
    ]
  },
  {
    "__docId__": 356,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it10",
    "testId": 10,
    "memberof": "unit/controller/authorization.js~describe0.describe9",
    "testDepth": 2,
    "longname": "unit/controller/authorization.js~describe0.describe9.it10",
    "access": null,
    "description": "should call the logout endpoint in the auth proxy",
    "lineNumber": 152
  },
  {
    "__docId__": 357,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it11",
    "testId": 11,
    "memberof": "unit/controller/authorization.js~describe0.describe9",
    "testDepth": 2,
    "longname": "unit/controller/authorization.js~describe0.describe9.it11",
    "access": null,
    "description": "should throw an error if the response is not 'ok'",
    "lineNumber": 171
  },
  {
    "__docId__": 358,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe12",
    "testId": 12,
    "memberof": "unit/controller/authorization.js~describe0.describe9",
    "testDepth": 2,
    "longname": "unit/controller/authorization.js~describe0.describe9.describe12",
    "access": null,
    "description": "if no access token is set",
    "lineNumber": 183
  },
  {
    "__docId__": 359,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it13",
    "testId": 13,
    "memberof": "unit/controller/authorization.js~describe0.describe9.describe12",
    "testDepth": 3,
    "longname": "unit/controller/authorization.js~describe0.describe9.describe12.it13",
    "access": null,
    "description": "should throw a TypeError",
    "lineNumber": 188
  },
  {
    "__docId__": 360,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe14",
    "testId": 14,
    "memberof": "unit/controller/authorization.js~describe0.describe9",
    "testDepth": 2,
    "longname": "unit/controller/authorization.js~describe0.describe9.describe14",
    "access": null,
    "description": "if no auth proxy URL is set",
    "lineNumber": 195
  },
  {
    "__docId__": 361,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it15",
    "testId": 15,
    "memberof": "unit/controller/authorization.js~describe0.describe9.describe14",
    "testDepth": 3,
    "longname": "unit/controller/authorization.js~describe0.describe9.describe14.it15",
    "access": null,
    "description": "should throw a TypeError",
    "lineNumber": 200
  },
  {
    "__docId__": 362,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe16",
    "testId": 16,
    "memberof": "unit/controller/authorization.js~describe0",
    "testDepth": 1,
    "longname": "unit/controller/authorization.js~describe0.describe16",
    "access": null,
    "description": "getDeviceCode",
    "lineNumber": 210,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Authorization#getDeviceCode}"
      }
    ],
    "testTargets": [
      "Authorization#getDeviceCode"
    ]
  },
  {
    "__docId__": 363,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it17",
    "testId": 17,
    "memberof": "unit/controller/authorization.js~describe0.describe16",
    "testDepth": 2,
    "longname": "unit/controller/authorization.js~describe0.describe16.it17",
    "access": null,
    "description": "should throw an error if not configured properly",
    "lineNumber": 211
  },
  {
    "__docId__": 364,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it18",
    "testId": 18,
    "memberof": "unit/controller/authorization.js~describe0.describe16",
    "testDepth": 2,
    "longname": "unit/controller/authorization.js~describe0.describe16.it18",
    "access": null,
    "description": "should make a request to authProxyUrl when called",
    "lineNumber": 218
  },
  {
    "__docId__": 365,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it19",
    "testId": 19,
    "memberof": "unit/controller/authorization.js~describe0.describe16",
    "testDepth": 2,
    "longname": "unit/controller/authorization.js~describe0.describe16.it19",
    "access": null,
    "description": "should make a request to authProxyUrl with additional scopes when scopes are passed in",
    "lineNumber": 233
  },
  {
    "__docId__": 366,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe20",
    "testId": 20,
    "memberof": "unit/controller/authorization.js~describe0",
    "testDepth": 1,
    "longname": "unit/controller/authorization.js~describe0.describe20",
    "access": null,
    "description": "pollDeviceCode",
    "lineNumber": 252,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Authorization#pollDeviceCode}"
      }
    ],
    "testTargets": [
      "Authorization#pollDeviceCode"
    ]
  },
  {
    "__docId__": 367,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it21",
    "testId": 21,
    "memberof": "unit/controller/authorization.js~describe0.describe20",
    "testDepth": 2,
    "longname": "unit/controller/authorization.js~describe0.describe20.it21",
    "access": null,
    "description": "should throw an error if not configured properly",
    "lineNumber": 256
  },
  {
    "__docId__": 368,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it22",
    "testId": 22,
    "memberof": "unit/controller/authorization.js~describe0.describe20",
    "testDepth": 2,
    "longname": "unit/controller/authorization.js~describe0.describe20.it22",
    "access": null,
    "description": "should throw an error if no active device code exists",
    "lineNumber": 263
  },
  {
    "__docId__": 369,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it23",
    "testId": 23,
    "memberof": "unit/controller/authorization.js~describe0.describe20",
    "testDepth": 2,
    "longname": "unit/controller/authorization.js~describe0.describe20.it23",
    "access": null,
    "description": "should return a Promise that rejects if the active device code is expired",
    "lineNumber": 269
  },
  {
    "__docId__": 370,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it24",
    "testId": 24,
    "memberof": "unit/controller/authorization.js~describe0.describe20",
    "testDepth": 2,
    "longname": "unit/controller/authorization.js~describe0.describe20.it24",
    "access": null,
    "description": "should return a Promise that resolves to a valid access token if device code is valid",
    "lineNumber": 283
  },
  {
    "__docId__": 371,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it25",
    "testId": 25,
    "memberof": "unit/controller/authorization.js~describe0.describe20",
    "testDepth": 2,
    "longname": "unit/controller/authorization.js~describe0.describe20.it25",
    "access": null,
    "description": "should return a Promise that rejects if the active device code is invalid (or possibly expired)",
    "lineNumber": 301
  },
  {
    "__docId__": 372,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it26",
    "testId": 26,
    "memberof": "unit/controller/authorization.js~describe0.describe20",
    "testDepth": 2,
    "longname": "unit/controller/authorization.js~describe0.describe20.it26",
    "access": null,
    "description": "should return a Promise that rejects if the active device code is valid but the user went to log in and denied the app access",
    "lineNumber": 316
  },
  {
    "__docId__": 373,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it27",
    "testId": 27,
    "memberof": "unit/controller/authorization.js~describe0.describe20",
    "testDepth": 2,
    "longname": "unit/controller/authorization.js~describe0.describe20.it27",
    "access": null,
    "description": "should return a Promise that resolves to valid access token after polling a number of times if the user logs in",
    "lineNumber": 331
  },
  {
    "__docId__": 374,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it28",
    "testId": 28,
    "memberof": "unit/controller/authorization.js~describe0.describe20",
    "testDepth": 2,
    "longname": "unit/controller/authorization.js~describe0.describe20.it28",
    "access": null,
    "description": "should return a Promise that rejects if the returned access token is invalid",
    "lineNumber": 367
  },
  {
    "__docId__": 375,
    "kind": "testFile",
    "static": true,
    "variation": null,
    "name": "unit/controller/identity.js",
    "memberof": null,
    "longname": "unit/controller/identity.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import chai from 'chai';\nimport { ACCESS_TOKEN_RESPONSE, IDENTITY_V2_USER_RESPONSE, STATION_FINDER_RESPONSE } from '../../test-data';\nimport mockery from 'mockery';\nimport fetchMock from 'fetch-mock';\nimport Identity from './../../../src/controller/identity';\nimport NprOne from './../../../src/index';\nimport { testConfig } from '../../test';\n\n\nconst should = chai.should();\nconst STATION_FINDER_SINGLE_ORG_RESPONSE = STATION_FINDER_RESPONSE.items[0];\n\n\n/** @test {Identity} */\ndescribe('Identity', () => {\n    let identity;\n\n\n    beforeEach(() => {\n        identity = new Identity();\n        NprOne.config = testConfig;\n    });\n\n    afterEach(() => {\n        fetchMock.restore();\n        mockery.deregisterMock('fetch');\n    });\n\n\n    /** @test {Identity#getUser} */\n    describe('getUser', () => {\n        const userUrl = `^${NprOne.getServiceUrl('identity')}/user`;\n        let userClone;\n\n        beforeEach(() => {\n            userClone = JSON.parse(JSON.stringify(IDENTITY_V2_USER_RESPONSE));\n\n            mockery.registerMock('fetch', fetchMock\n                .mock(userUrl, 'GET', userClone)\n                .getMock());\n        });\n\n        it('should make a request to /user', (done) => {\n            identity.getUser()\n                .then((user) => {\n                    fetchMock.called(userUrl).should.be.true;\n                    fetchMock.calls().unmatched.length.should.equal(0);\n                    user.isTemporary().should.equal(false);\n                    done();\n                })\n                .catch(done);\n        });\n    });\n\n\n    /** @test {Identity#setUserStation} */\n    describe('setUserStation', () => {\n        const identityUrl = `^${NprOne.getServiceUrl('identity')}/stations`;\n        const stationFinderUrl = `^${NprOne.getServiceUrl('stationfinder')}/stations`;\n        const stationId = 305;\n\n        it('should validate the station, and then make a PUT request to identity/stations', (done) => {\n            const userClone = JSON.parse(JSON.stringify(IDENTITY_V2_USER_RESPONSE));\n\n            mockery.registerMock('fetch', fetchMock\n                .mock(stationFinderUrl, 'GET', STATION_FINDER_SINGLE_ORG_RESPONSE)\n                .mock(identityUrl, 'PUT', userClone)\n                .getMock());\n\n            identity.setUserStation(stationId)\n                .then(user => {\n                    fetchMock.called(stationFinderUrl).should.be.true;\n                    fetchMock.called(identityUrl).should.be.true;\n                    fetchMock.calls().unmatched.length.should.equal(0);\n                    user.isTemporary().should.equal(false);\n                    done();\n                })\n                .catch(done);\n        });\n\n        it('should fail if a non-numeric station ID is passed in', (done) => {\n            const error = 'Error: Station ID must be an integer greater than 0';\n            identity.setUserStation('bad-station-id').should.be.rejectedWith(error).notify(done);\n        });\n\n        it('should reject the promise if station finder returns a 404', (done) => {\n            mockery.registerMock('fetch', fetchMock\n                .mock(stationFinderUrl, 'GET', 404)\n                .getMock());\n\n            identity.setUserStation(241452).should.be.rejected.notify(() => {\n                fetchMock.called(stationFinderUrl).should.be.true;\n                fetchMock.calls().unmatched.length.should.equal(0);\n                done();\n            });\n        });\n    });\n\n\n    /** @test {Identity#followShow} */\n    describe('followShow', () => {\n        const identityUrl = `^${NprOne.getServiceUrl('identity')}/following`;\n        const aggregationId = 123;\n\n        it('should validate the aggregation, and then make a POST request to identity/following', (done) => {\n            const userClone = JSON.parse(JSON.stringify(IDENTITY_V2_USER_RESPONSE));\n\n            mockery.registerMock('fetch', fetchMock\n                .mock(identityUrl, 'POST', userClone)\n                .getMock());\n\n            identity.followShow(aggregationId)\n                .then(() => {\n                    fetchMock.called(identityUrl).should.be.true;\n                    fetchMock.calls().unmatched.length.should.equal(0);\n                    JSON.parse(fetchMock.lastOptions(identityUrl).body).should.deep.equal({\n                        id: aggregationId,\n                        following: true,\n                    });\n                    done();\n                })\n                .catch(done);\n        });\n\n        it('should throw a TypeError if a non-numeric aggregation ID is passed in', () => {\n            chai.expect(() => {\n                identity.followShow('bad-aggregation-id');\n            }).to.throw('Aggregation (show) ID must be an integer greater than 0');\n        });\n    });\n\n\n    /** @test {Identity#unfollowShow} */\n    describe('unfollowShow', () => {\n        const identityUrl = `^${NprOne.getServiceUrl('identity')}/following`;\n        const aggregationId = 456;\n\n        it('should validate the aggregation, and then make a POST request to identity/following', (done) => {\n            const userClone = JSON.parse(JSON.stringify(IDENTITY_V2_USER_RESPONSE));\n\n            mockery.registerMock('fetch', fetchMock\n                .mock(identityUrl, 'POST', userClone)\n                .getMock());\n\n            identity.unfollowShow(aggregationId)\n                .then(() => {\n                    fetchMock.called(identityUrl).should.be.true;\n                    fetchMock.calls().unmatched.length.should.equal(0);\n                    JSON.parse(fetchMock.lastOptions(identityUrl).body).should.deep.equal({\n                        id: aggregationId,\n                        following: false,\n                    });\n                    done();\n                })\n                .catch(done);\n        });\n\n        it('should throw a TypeError if a non-numeric aggregation ID is passed in', () => {\n            chai.expect(() => {\n                identity.unfollowShow('bad-aggregation-id');\n            }).to.throw('Aggregation (show) ID must be an integer greater than 0');\n        });\n    });\n\n\n    /** @test {Identity#createTemporaryUser} */\n    describe('createTemporaryUser', () => {\n        let tempUrl;\n\n        beforeEach(() => {\n            tempUrl = `^${NprOne.config.authProxyBaseUrl}${NprOne.config.tempUserPath}`;\n\n            mockery.registerMock('fetch', fetchMock\n                .mock(tempUrl, 'GET', ACCESS_TOKEN_RESPONSE)\n                .getMock());\n        });\n\n        it('should make a request to NPR proxy when called', (done) => {\n            identity.createTemporaryUser()\n                .then(() => {\n                    fetchMock.called(tempUrl).should.be.true;\n                    fetchMock.calls().unmatched.length.should.equal(0);\n                    NprOne.accessToken.should.equal(ACCESS_TOKEN_RESPONSE.access_token);\n                    done();\n                })\n                .catch(done);\n        });\n\n        it('should make a request to NPR proxy when called using the correct query param character', (done) => {\n            NprOne.config.tempUserPath = `${NprOne.config.tempUserPath}?test=true`;\n\n            identity.createTemporaryUser()\n                .then(() => {\n                    fetchMock.called(tempUrl).should.be.true;\n                    fetchMock.calls().unmatched.length.should.equal(0);\n                    NprOne.accessToken.should.equal(ACCESS_TOKEN_RESPONSE.access_token);\n                    done();\n                })\n                .catch(done);\n        });\n\n        describe('if no client ID is set', () => {\n            beforeEach(() => {\n                NprOne.config = { clientId: '' };\n            });\n\n            it('should throw a TypeError', () => {\n                chai.expect(() => {\n                    identity.createTemporaryUser();\n                }).to.throw('A client ID must be set for temporary user requests.');\n            });\n        });\n\n\n        describe('if no auth proxy URL is set', () => {\n            beforeEach(() => {\n                NprOne.config = { authProxyBaseUrl: '' };\n            });\n\n            it('should throw a TypeError', () => {\n                chai.expect(() => {\n                    identity.createTemporaryUser();\n                }).to.throw('OAuth proxy not configured. Unable to create temporary users.');\n            });\n        });\n    });\n});\n"
  },
  {
    "__docId__": 376,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe29",
    "testId": 29,
    "memberof": "unit/controller/identity.js",
    "testDepth": 0,
    "longname": "unit/controller/identity.js~describe29",
    "access": null,
    "description": "Identity",
    "lineNumber": 15,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Identity}"
      }
    ],
    "testTargets": [
      "Identity"
    ]
  },
  {
    "__docId__": 377,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe30",
    "testId": 30,
    "memberof": "unit/controller/identity.js~describe29",
    "testDepth": 1,
    "longname": "unit/controller/identity.js~describe29.describe30",
    "access": null,
    "description": "getUser",
    "lineNumber": 31,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Identity#getUser}"
      }
    ],
    "testTargets": [
      "Identity#getUser"
    ]
  },
  {
    "__docId__": 378,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it31",
    "testId": 31,
    "memberof": "unit/controller/identity.js~describe29.describe30",
    "testDepth": 2,
    "longname": "unit/controller/identity.js~describe29.describe30.it31",
    "access": null,
    "description": "should make a request to /user",
    "lineNumber": 43
  },
  {
    "__docId__": 379,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe32",
    "testId": 32,
    "memberof": "unit/controller/identity.js~describe29",
    "testDepth": 1,
    "longname": "unit/controller/identity.js~describe29.describe32",
    "access": null,
    "description": "setUserStation",
    "lineNumber": 57,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Identity#setUserStation}"
      }
    ],
    "testTargets": [
      "Identity#setUserStation"
    ]
  },
  {
    "__docId__": 380,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it33",
    "testId": 33,
    "memberof": "unit/controller/identity.js~describe29.describe32",
    "testDepth": 2,
    "longname": "unit/controller/identity.js~describe29.describe32.it33",
    "access": null,
    "description": "should validate the station, and then make a PUT request to identity/stations",
    "lineNumber": 62
  },
  {
    "__docId__": 381,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it34",
    "testId": 34,
    "memberof": "unit/controller/identity.js~describe29.describe32",
    "testDepth": 2,
    "longname": "unit/controller/identity.js~describe29.describe32.it34",
    "access": null,
    "description": "should fail if a non-numeric station ID is passed in",
    "lineNumber": 81
  },
  {
    "__docId__": 382,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it35",
    "testId": 35,
    "memberof": "unit/controller/identity.js~describe29.describe32",
    "testDepth": 2,
    "longname": "unit/controller/identity.js~describe29.describe32.it35",
    "access": null,
    "description": "should reject the promise if station finder returns a 404",
    "lineNumber": 86
  },
  {
    "__docId__": 383,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe36",
    "testId": 36,
    "memberof": "unit/controller/identity.js~describe29",
    "testDepth": 1,
    "longname": "unit/controller/identity.js~describe29.describe36",
    "access": null,
    "description": "followShow",
    "lineNumber": 101,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Identity#followShow}"
      }
    ],
    "testTargets": [
      "Identity#followShow"
    ]
  },
  {
    "__docId__": 384,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it37",
    "testId": 37,
    "memberof": "unit/controller/identity.js~describe29.describe36",
    "testDepth": 2,
    "longname": "unit/controller/identity.js~describe29.describe36.it37",
    "access": null,
    "description": "should validate the aggregation, and then make a POST request to identity/following",
    "lineNumber": 105
  },
  {
    "__docId__": 385,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it38",
    "testId": 38,
    "memberof": "unit/controller/identity.js~describe29.describe36",
    "testDepth": 2,
    "longname": "unit/controller/identity.js~describe29.describe36.it38",
    "access": null,
    "description": "should throw a TypeError if a non-numeric aggregation ID is passed in",
    "lineNumber": 125
  },
  {
    "__docId__": 386,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe39",
    "testId": 39,
    "memberof": "unit/controller/identity.js~describe29",
    "testDepth": 1,
    "longname": "unit/controller/identity.js~describe29.describe39",
    "access": null,
    "description": "unfollowShow",
    "lineNumber": 134,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Identity#unfollowShow}"
      }
    ],
    "testTargets": [
      "Identity#unfollowShow"
    ]
  },
  {
    "__docId__": 387,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it40",
    "testId": 40,
    "memberof": "unit/controller/identity.js~describe29.describe39",
    "testDepth": 2,
    "longname": "unit/controller/identity.js~describe29.describe39.it40",
    "access": null,
    "description": "should validate the aggregation, and then make a POST request to identity/following",
    "lineNumber": 138
  },
  {
    "__docId__": 388,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it41",
    "testId": 41,
    "memberof": "unit/controller/identity.js~describe29.describe39",
    "testDepth": 2,
    "longname": "unit/controller/identity.js~describe29.describe39.it41",
    "access": null,
    "description": "should throw a TypeError if a non-numeric aggregation ID is passed in",
    "lineNumber": 158
  },
  {
    "__docId__": 389,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe42",
    "testId": 42,
    "memberof": "unit/controller/identity.js~describe29",
    "testDepth": 1,
    "longname": "unit/controller/identity.js~describe29.describe42",
    "access": null,
    "description": "createTemporaryUser",
    "lineNumber": 167,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Identity#createTemporaryUser}"
      }
    ],
    "testTargets": [
      "Identity#createTemporaryUser"
    ]
  },
  {
    "__docId__": 390,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it43",
    "testId": 43,
    "memberof": "unit/controller/identity.js~describe29.describe42",
    "testDepth": 2,
    "longname": "unit/controller/identity.js~describe29.describe42.it43",
    "access": null,
    "description": "should make a request to NPR proxy when called",
    "lineNumber": 178
  },
  {
    "__docId__": 391,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it44",
    "testId": 44,
    "memberof": "unit/controller/identity.js~describe29.describe42",
    "testDepth": 2,
    "longname": "unit/controller/identity.js~describe29.describe42.it44",
    "access": null,
    "description": "should make a request to NPR proxy when called using the correct query param character",
    "lineNumber": 189
  },
  {
    "__docId__": 392,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe45",
    "testId": 45,
    "memberof": "unit/controller/identity.js~describe29.describe42",
    "testDepth": 2,
    "longname": "unit/controller/identity.js~describe29.describe42.describe45",
    "access": null,
    "description": "if no client ID is set",
    "lineNumber": 202
  },
  {
    "__docId__": 393,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it46",
    "testId": 46,
    "memberof": "unit/controller/identity.js~describe29.describe42.describe45",
    "testDepth": 3,
    "longname": "unit/controller/identity.js~describe29.describe42.describe45.it46",
    "access": null,
    "description": "should throw a TypeError",
    "lineNumber": 207
  },
  {
    "__docId__": 394,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe47",
    "testId": 47,
    "memberof": "unit/controller/identity.js~describe29.describe42",
    "testDepth": 2,
    "longname": "unit/controller/identity.js~describe29.describe42.describe47",
    "access": null,
    "description": "if no auth proxy URL is set",
    "lineNumber": 215
  },
  {
    "__docId__": 395,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it48",
    "testId": 48,
    "memberof": "unit/controller/identity.js~describe29.describe42.describe47",
    "testDepth": 3,
    "longname": "unit/controller/identity.js~describe29.describe42.describe47.it48",
    "access": null,
    "description": "should throw a TypeError",
    "lineNumber": 220
  },
  {
    "__docId__": 396,
    "kind": "testFile",
    "static": true,
    "variation": null,
    "name": "unit/controller/listening.js",
    "memberof": null,
    "longname": "unit/controller/listening.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import chai from 'chai';\nimport chaiAsPromised from 'chai-as-promised';\nimport sinon from 'sinon';\nimport { testConfig } from '../../test';\nimport mockery from 'mockery';\nimport fetchMock from 'fetch-mock';\nimport { LISTENING_V2_RECOMMENDATIONS_RESPONSE, ACCESS_TOKEN_RESPONSE } from './../../test-data';\nimport Listening from './../../../src/controller/listening';\nimport NprOne from './../../../src/index';\n\nconst should = chai.should();\nchai.use(chaiAsPromised);\n\n/** @test {Listening} */\ndescribe('Listening', () => {\n    const recommendUrl = `^${NprOne.getServiceUrl('listening')}/recommendations`;\n    // This hostname is set in TEST_DATA output\n    const ratingUrl = `^${NprOne.getServiceUrl('listening')}/ratings`;\n    const adsWizzUrl = '^https://demo.adswizz.com';\n    const adsWizzWwwUrl = 'https://adswizz.com';\n    const adsWizzCdnUrl = '^https://delivery-s3.adswizz.com';\n    const doubleClickUrl = '^https://ad.doubleclick.net';\n    const historyUrl = `^${NprOne.getServiceUrl('listening')}/history`;\n\n    let testDataClone = {};\n    let listening;\n    let refreshTokenUrl;\n\n    const advance = (recommendation, rating) => {\n        testDataClone.items.shift();\n        recommendation.recordAction(NprOne.Action.START, 0);\n\n        return new Promise((resolve) => {\n            setTimeout(() => {\n                recommendation.recordAction(rating, recommendation.attributes.duration);\n                resolve(listening.getRecommendation());\n            }, 5);\n        });\n    };\n\n    const skip = recommendation => {\n        return advance(recommendation, NprOne.Action.SKIP);\n    };\n\n    const complete = recommendation => {\n        return advance(recommendation, NprOne.Action.COMPLETED);\n    };\n\n    const tapthru = recommendation => {\n        return advance(recommendation, NprOne.Action.TAPTHRU);\n    };\n\n    beforeEach(() => {\n        testDataClone = JSON.parse(JSON.stringify(LISTENING_V2_RECOMMENDATIONS_RESPONSE));\n\n        mockery.registerMock('fetch', fetchMock\n            .mock(recommendUrl, 'GET', testDataClone)\n            .mock(ratingUrl, 'POST', testDataClone)\n            .mock(adsWizzUrl, 'GET')\n            .mock(adsWizzWwwUrl, 'GET', 200)\n            .mock(adsWizzCdnUrl, 'GET', 200)\n            .mock(doubleClickUrl, 'GET')\n            .mock(historyUrl, 'GET', LISTENING_V2_RECOMMENDATIONS_RESPONSE)\n            .getMock());\n\n        listening = new Listening();\n        NprOne.config = testConfig;\n\n        refreshTokenUrl = `^${testConfig.authProxyBaseUrl}${NprOne.config.refreshTokenPath}`;\n    });\n\n    afterEach(() => {\n        fetchMock.restore();\n        mockery.deregisterMock('fetch');\n    });\n\n    /** @test {Listening#getRecommendation} */\n    describe('getRecommendation', () => {\n        let firstRecommendation = null;\n\n        const sendSingleAction = (action) => {\n            return listening.getRecommendation()\n                .then(recommendation => {\n                    firstRecommendation = recommendation;\n                    testDataClone.items.shift();\n                    firstRecommendation.recordAction(action, 0);\n                    return listening.getRecommendation();\n                });\n        };\n\n\n        beforeEach(() => {\n            firstRecommendation = null;\n        });\n\n\n        it('should throw an exception if access token is not supplied', () => {\n            NprOne.config = { accessToken: '' };\n\n            chai.expect(() => {\n                listening.getRecommendation();\n            }).to.throw('An Access Token must set before making API requests.');\n        });\n\n        it('should make a request to /recommendations with channel npr if a bad channel is passed in', done => {\n            listening.getRecommendation('', { 'bad': 'channel' })\n                .then(() => {\n                    fetchMock.called(recommendUrl).should.be.true;\n                    fetchMock.calls().unmatched.length.should.equal(0);\n                    done();\n                })\n                .catch(done);\n        });\n\n        it('should make a request to /recommendations when no queued ratings exist', done => {\n            listening.getRecommendation()\n                .then(() => {\n                    fetchMock.called(recommendUrl).should.be.true;\n                    fetchMock.calls().unmatched.length.should.equal(0);\n                    done();\n                })\n                .catch(done);\n        });\n\n        it('should return the currently executing promise if called again before first promise has resolved', done => {\n            const p1 = listening.getRecommendation();\n            const p2 = listening.getRecommendation();\n\n            Promise.all([p1, p2])\n                .then(() => {\n                    fetchMock.called(recommendUrl).should.be.true;\n                    fetchMock.calls(recommendUrl).length.should.equal(1); // most important check\n                    fetchMock.calls().unmatched.length.should.equal(0);\n                    done();\n                })\n                .catch(done);\n        });\n\n        it('should make a request to /recommendations with a custom channel when no queued ratings exist and a channel is specified', done => {\n            listening.getRecommendation(null, 'my_channel')\n                .then(() => {\n                    fetchMock.called(recommendUrl).should.be.true;\n                    /channel=my_channel/.test(fetchMock.lastUrl()).should.be.true;\n                    fetchMock.calls().unmatched.length.should.equal(0);\n                    done();\n                })\n                .catch(done);\n        });\n\n        it('should include x- headers if supplied in config when making API requests', done => {\n            NprOne.config = Object.assign({}, testConfig, {\n                advertisingId: 'test_ad_id',\n                advertisingTarget: 'test_ad_target',\n            });\n\n            listening.getRecommendation()\n                .then(() => {\n                    fetchMock.called(recommendUrl).should.be.true;\n                    fetchMock.calls().unmatched.length.should.equal(0);\n                    const lastCall = fetchMock.lastCall(recommendUrl);\n                    lastCall[1].headers._headers['x-advertising-id'][0].should.equal('test_ad_id');\n                    lastCall[1].headers._headers['x-advertising-target'][0].should.equal('test_ad_target');\n                    done();\n                })\n                .catch(done);\n        });\n\n        it('should make /recommendations request with sharedMediaId when a UID is given', done => {\n            fetchMock.restore();\n            mockery.deregisterMock('fetch');\n\n            const url = `^${NprOne.getServiceUrl('listening')}/recommendations?channel=npr&sharedMediaId=123`;\n\n            mockery.registerMock('fetch', fetchMock\n                .mock(url, 'GET', LISTENING_V2_RECOMMENDATIONS_RESPONSE)\n                .mock(adsWizzWwwUrl, 'GET', 200)\n                .mock(adsWizzCdnUrl, 'GET', 200)\n                .getMock());\n\n            listening.getRecommendation('123')\n                .then(() => {\n                    fetchMock.called(url).should.be.true;\n                    fetchMock.calls().unmatched.length.should.equal(0);\n                    done();\n                })\n                .catch(done);\n        });\n\n        it('should make a request to /ratings when a rating is queued', done => {\n            listening.getRecommendation()\n                .then(complete)\n                .then(() => {\n                    fetchMock.called(ratingUrl).should.be.true;\n                    fetchMock.called(recommendUrl).should.be.true;\n                    fetchMock.calls().unmatched.length.should.equal(0);\n                    done();\n                })\n                .catch(done);\n        });\n\n        it('should make a request to /ratings and not send duplicate ratings if an action was record twice', done => {\n            listening.getRecommendation()\n                .then(recommendation => {\n                    // COMPLETED before START is not correct, but needed for this test\n                    recommendation.recordAction(NprOne.Action.COMPLETED, recommendation.attributes.duration);\n                    recommendation.recordAction(NprOne.Action.COMPLETED, recommendation.attributes.duration);\n                    recommendation.recordAction(NprOne.Action.START, 0);\n                })\n                .then(() => {\n                    fetchMock.called(ratingUrl).should.be.true;\n                    fetchMock.called(recommendUrl).should.be.true;\n                    JSON.parse(fetchMock.lastOptions(ratingUrl).body).length.should.be.equal(2); // 2 ratings, not 3!\n                    fetchMock.calls().unmatched.length.should.equal(0);\n                    done();\n                })\n                .catch(done);\n        });\n\n        it('should return the same recommendation when no START rating has been received', done => {\n            listening.getRecommendation()\n                .then(recommendation => {\n                    firstRecommendation = recommendation;\n                    return listening.getRecommendation();\n                })\n                .then((nextRecommendation) => {\n                    firstRecommendation.should.deep.equal(nextRecommendation);\n                    done();\n                })\n                .catch(done);\n        });\n\n        it('should return a different recommendation when a START rating has been received', done => {\n            sendSingleAction(NprOne.Action.START)\n                .then(nextRecommendation => {\n                    firstRecommendation.should.not.equal(nextRecommendation);\n                    done();\n                })\n                .catch(done);\n        });\n\n        it('should return a different recommendation when a TIMEOUT rating has been received', done => {\n            sendSingleAction(NprOne.Action.TIMEOUT)\n                .then(nextRecommendation => {\n                    firstRecommendation.should.not.equal(nextRecommendation);\n                    done();\n                })\n                .catch(done);\n        });\n\n        it('should return a different recommendation when a TAPTHRU rating has been received', done => {\n            sendSingleAction(NprOne.Action.TAPTHRU)\n                .then(nextRecommendation => {\n                    firstRecommendation.should.not.equal(nextRecommendation);\n                    done();\n                })\n                .catch(done);\n        });\n\n        it('should fire impression url GET requests for sponsorship when a START happens', done => {\n            testDataClone.items.splice(0, 3); // remove stationId, newscast, story\n\n            listening.getRecommendation()\n                .then(recommendation => { // start ad\n                    recommendation.attributes.uid.should.equal('299999:AdswizzAd13460|2016-02-17-12-42');\n                    return complete(recommendation);\n                })\n                .then(recommendation => { // start promo\n                    recommendation.attributes.uid.should.equal('458726244:458726246-P');\n                    fetchMock.called(adsWizzUrl).should.be.true;\n                    fetchMock.called(doubleClickUrl).should.be.true;\n                    fetchMock.calls().unmatched.length.should.equal(0);\n                    done();\n                })\n                .catch(done);\n        });\n\n        it('should disable ads when an adblocker is present', done => {\n            fetchMock.restore();\n            mockery.deregisterMock('fetch');\n\n            mockery.registerMock('fetch', fetchMock\n                .mock(recommendUrl, 'GET', testDataClone)\n                .mock(ratingUrl, 'POST', testDataClone)\n                .mock(adsWizzWwwUrl, 'GET', { 'throws': new Error('TypeError: Failed to fetch') })\n                .mock(adsWizzCdnUrl, 'GET', { 'throws': new Error('TypeError: Failed to fetch') })\n                .getMock());\n\n            testDataClone.items.splice(0, 2); // remove stationId, newscast,\n\n            NprOne.config = testConfig;\n            listening = new NprOne();\n\n\n            listening.getRecommendation()\n                .then(recommendation => {\n                    recommendation.attributes.uid.should.equal('466898631:466898632');\n                    return complete(recommendation);\n                })\n                .then(recommendation => {\n                    // normally sponsorship would be next\n                    recommendation.attributes.uid.should.equal('458726244:458726246-P');\n                    done();\n                })\n                .catch(done);\n        });\n\n        it('should progress through the flow normally', done => {\n            listening.getRecommendation()\n                .then(recommendation => {\n                    recommendation.attributes.uid.should.equal('300305:idWAMU2016-02-16-09-37');\n                    return complete(recommendation);\n                })\n                .then(recommendation => {\n                    recommendation.attributes.uid.should.equal('999900001:2016-02-16T09:00:00-0500|short');\n                    return skip(recommendation);\n                })\n                .then(recommendation => {\n                    recommendation.attributes.uid.should.equal('466898631:466898632');\n                    return complete(recommendation);\n                })\n                .then(recommendation => {\n                    recommendation.attributes.uid.should.equal('299999:AdswizzAd13460|2016-02-17-12-42');\n                    return complete(recommendation);\n                })\n                .then(recommendation => {\n                    recommendation.attributes.uid.should.equal('458726244:458726246-P');\n                    done();\n                })\n                .catch(done);\n        });\n\n        it('should go to sponsored channel on TAPTHRU to sponsorship [tests related]', done => {\n            let actionUrl = '';\n\n            testDataClone.items.splice(0, 3); // remove stationId, newscast, story\n\n            listening.getRecommendation()\n                .then(recommendation => {\n                    recommendation.attributes.uid.should.equal('299999:AdswizzAd13460|2016-02-17-12-42');\n                    actionUrl = recommendation.getActionRecommendationUrl();\n                    actionUrl.should.not.be.empty;\n                    return tapthru(recommendation);\n                })\n                .then(() => {\n                    /*\n                     * All bets are off here as to what the recommendation would be - I'm not going to mock\n                     * the sponsored channel API behavior. It's sufficient to see that we made a ratings call to\n                     * the sponsored channel URL.\n                     */\n                    fetchMock.lastUrl().should.equal(actionUrl);\n                    done();\n                })\n                .catch(done);\n        });\n\n        it('should go to action URL on TAPTHRU of promo [tests action, or callsToAction]', done => {\n            let actionUrl = '';\n\n            testDataClone.items.splice(0, 4); // remove stationId, newscast, story, ad\n\n            listening.getRecommendation()\n                .then(recommendation => {\n                    recommendation.attributes.uid.should.equal('458726244:458726246-P');\n                    actionUrl = recommendation.getActionRecommendationUrl();\n                    actionUrl.should.not.be.empty;\n                    return tapthru(recommendation);\n                })\n                .then(() => {\n                    /*\n                     * All bets are off here as to what the recommendation would be - I'm not going to mock\n                     * the promo behavior. It's sufficient to see that we made a ratings call to\n                     * the promo channel URL.\n                     */\n                    fetchMock.lastUrl().should.equal(actionUrl);\n                    done();\n                })\n                .catch(done);\n        });\n\n        it('should throw when no API recommendations are returned and no previous exist', done => {\n            fetchMock.restore();\n            mockery.deregisterMock('fetch');\n\n            const url = `^${NprOne.getServiceUrl('listening')}/recommendations`;\n\n            testDataClone.items = [];\n\n            mockery.registerMock('fetch', fetchMock\n                .mock(url, 'GET', testDataClone)\n                .mock(adsWizzWwwUrl, 'GET', 200)\n                .mock(adsWizzCdnUrl, 'GET', 200)\n                .getMock());\n\n            listening.getRecommendation().should.be.rejectedWith('Error: All recommendations exhausted!').notify(done);\n        });\n\n        it('should call the refresh token endpoint in the auth proxy if the getRecommendations call returns a 401, and then retry the request', done => {\n            let numTries = 0;\n\n            const responses = () => {\n                numTries += 1;\n\n                if (numTries === 1) {\n                    return 401;\n                } else {\n                    return testDataClone;\n                }\n            };\n\n            fetchMock.restore();\n            mockery.deregisterMock('fetch');\n            mockery.registerMock('fetch', fetchMock\n                .mock(recommendUrl, 'GET', responses)\n                .mock(refreshTokenUrl, 'POST', ACCESS_TOKEN_RESPONSE)\n                .getMock());\n\n            const originalAccessToken = NprOne.accessToken;\n\n            listening.getRecommendation()\n                .then(() => {\n                    fetchMock.called(recommendUrl).should.be.true;\n                    fetchMock.called(refreshTokenUrl).should.be.true;\n                    fetchMock.calls().unmatched.length.should.equal(0);\n                    NprOne.accessToken.should.equal(ACCESS_TOKEN_RESPONSE.access_token);\n                    NprOne.accessToken.should.not.equal(originalAccessToken);\n                    done();\n                })\n                .catch(done);\n        });\n\n        describe('if queueRecommendationFromChannel() was previously called and the recommendation with the given UID was already added to flowRecommendations', () => {\n            const badUid = '1234:5678';\n            const goodUid = '466898631:466898632';\n\n            beforeEach(() => {\n                listening._flowRecommendations = testDataClone.items;\n            });\n\n            it('should NOT make a new API call if the UID is present in the cached list, and return that item', done => {\n                listening.getRecommendation(goodUid)\n                    .then((recommendation) => {\n                        fetchMock.called(recommendUrl).should.be.false;\n                        fetchMock.called(ratingUrl).should.be.false;\n                        fetchMock.calls().unmatched.length.should.equal(0);\n                        recommendation.attributes.uid.should.equal(goodUid);\n                        done();\n                    })\n                    .catch(done);\n            });\n\n            it('should make a new API call if the UID is not found in the list', done => {\n                listening.getRecommendation(badUid)\n                    .then(() => {\n                        fetchMock.called(recommendUrl).should.be.true;\n                        fetchMock.calls().unmatched.length.should.equal(0);\n                        done();\n                    })\n                    .catch(done);\n            });\n        });\n    });\n\n    /** @test {Listening#getUpcomingFlowRecommendations} */\n    describe('getUpcomingFlowRecommendations', () => {\n        it('should make a GET request when no flow recommendations are present', done => {\n            listening.getUpcomingFlowRecommendations()\n                .then(() => {\n                    fetchMock.called(recommendUrl).should.be.true;\n                    fetchMock.calls().unmatched.length.should.equal(0);\n                    /channel=npr/.test(fetchMock.lastUrl()).should.be.true;\n                    done();\n                })\n                .catch(done);\n        });\n\n        it('should NOT make a GET request when flow recommendations are present', done => {\n            listening._flowRecommendations = [1, 2, 3, 4]; // technically doesn't even matter what's in the array...\n\n            listening.getUpcomingFlowRecommendations()\n                .then(() => {\n                    fetchMock.called(recommendUrl).should.be.false;\n                    fetchMock.calls().unmatched.length.should.equal(0);\n                    done();\n                })\n                .catch(done);\n        });\n\n        it('should make a GET request with a custom channel when no flow recommendations are present and a channel is specified', done => {\n            listening.getUpcomingFlowRecommendations('newscasts')\n                .then(() => {\n                    fetchMock.called(recommendUrl).should.be.true;\n                    /channel=newscasts/.test(fetchMock.lastUrl()).should.be.true;\n                    fetchMock.calls().unmatched.length.should.equal(0);\n                    done();\n                })\n                .catch(done);\n        });\n    });\n\n    /** @test {Listening#getRecommendationsFromChannel} */\n    describe('getRecommendationsFromChannel', () => {\n        it('should make a GET request to the default channel (\"recommended\") if no channel is specified', done => {\n            listening.getRecommendationsFromChannel()\n                .then(() => {\n                    fetchMock.called(recommendUrl).should.be.true;\n                    /channel=recommended$/.test(fetchMock.lastUrl()).should.be.true;\n                    fetchMock.calls().unmatched.length.should.equal(0);\n                    done();\n                })\n                .catch(done);\n        });\n\n        it('should make a GET request to the specified channel if a channel is specified', done => {\n            listening.getRecommendationsFromChannel('notrecommended')\n                .then(() => {\n                    fetchMock.called(recommendUrl).should.be.true;\n                    /channel=notrecommended$/.test(fetchMock.lastUrl()).should.be.true;\n                    fetchMock.calls().unmatched.length.should.equal(0);\n                    done();\n                })\n                .catch(done);\n        });\n\n        it('should make a GET request to the default channel (\"recommended\") if an invalid channel format is supplied', done => {\n            listening.getRecommendationsFromChannel(null)\n                .then(() => {\n                    fetchMock.called(recommendUrl).should.be.true;\n                    /channel=recommended$/.test(fetchMock.lastUrl()).should.be.true;\n                    fetchMock.calls().unmatched.length.should.equal(0);\n                    done();\n                })\n                .catch(done);\n        });\n\n        it('should flush any pending ratings before returning channel recommendations', done => {\n            const sendRatingsSpy = sinon.spy(listening, '_sendRatings');\n            listening.getRecommendation()\n                .then(recommendation => {\n                    recommendation.recordAction(NprOne.Action.COMPLETED, recommendation.attributes.duration);\n                })\n                .then(() => {\n                    listening.getRecommendationsFromChannel()\n                        .then(() => {\n                            fetchMock.called(ratingUrl).should.be.true;\n                            fetchMock.called(recommendUrl).should.be.true;\n                            /channel=recommended$/.test(fetchMock.lastUrl()).should.be.true;\n                            fetchMock.calls().unmatched.length.should.equal(0);\n                            sinon.assert.calledOnce(sendRatingsSpy);\n                            done();\n                        })\n                        .catch(done);\n                })\n                .catch(done);\n        });\n    });\n\n    /** @test {Listening#queueRecommendationFromChannel} */\n    describe('queueRecommendationFromChannel', () => {\n        const channel = 'my_channel';\n        const badUid = '1234:5678';\n        const goodUid = '466898631:466898632';\n\n        it('should throw a TypeError if no channel is specified', () => {\n            chai.expect(() => {\n                listening.queueRecommendationFromChannel();\n            }).to.throw('Must pass in a valid channel to queueRecommendationFromChannel()');\n        });\n\n        it('should throw a TypeError if a channel is specified but is not a valid string', () => {\n            chai.expect(() => {\n                listening.queueRecommendationFromChannel(1234);\n            }).to.throw('Must pass in a valid channel to queueRecommendationFromChannel()');\n        });\n\n        it('should throw a TypeError if no UID is specified', () => {\n            chai.expect(() => {\n                listening.queueRecommendationFromChannel(channel);\n            }).to.throw('Must pass in a valid uid to queueRecommendationFromChannel()');\n        });\n\n        it('should throw a TypeError if a channel is specified but is not a valid string', () => {\n            chai.expect(() => {\n                listening.queueRecommendationFromChannel(channel, 1234);\n            }).to.throw('Must pass in a valid uid to queueRecommendationFromChannel()');\n        });\n\n        it('should throw an Error if getRecommendationsFromChannel() was not previously called', () => {\n            chai.expect(() => {\n                listening.queueRecommendationFromChannel(channel, badUid);\n            }).to.throw('Results from channel \"my_channel\" are not cached. You must call getRecommendationsFromChannel() first.');\n        });\n\n\n        describe('if getRecommendationsFromChannel() was previously called but the cached list of recommendations is empty', () => {\n            beforeEach(() => {\n                listening._channelRecommendations[channel] = [];\n            });\n\n            it('should throw an Error', () => {\n                chai.expect(() => {\n                    listening.queueRecommendationFromChannel(channel, badUid);\n                }).to.throw('Results from channel \"my_channel\" are not cached. You must call getRecommendationsFromChannel() first.');\n            });\n        });\n\n\n        describe('if getRecommendationsFromChannel() was previously called and the cached list of recommendations is not empty', () => {\n            beforeEach(() => {\n                listening._channelRecommendations[channel] = testDataClone.items;\n            });\n\n            it('should throw an Error if the uid is not found in the list', () => {\n                chai.expect(() => {\n                    listening.queueRecommendationFromChannel(channel, badUid);\n                }).to.throw('Unable to find story with uid ' + badUid + ' in cached list of recommendations from channel \"' + channel + '\".');\n            });\n\n            it('should return the found recommendation if the UID is present in the cached list', () => {\n                const result = listening.queueRecommendationFromChannel(channel, goodUid);\n\n                result.attributes.uid.should.equal(goodUid);\n            });\n\n            it('should put the found recommendation at the top of the flow recommendations if the UID is present in the cached list', () => {\n                listening.queueRecommendationFromChannel(channel, goodUid);\n\n                listening._flowRecommendations[0].attributes.uid.should.equal(goodUid);\n            });\n        });\n    });\n\n    /** @test {Listening#getHistory} */\n    describe('getHistory', () => {\n        it('should make a request to /history when getHistory is called', done => {\n            listening.getHistory()\n                .then(recommendations => {\n                    fetchMock.called(historyUrl).should.be.true;\n                    fetchMock.calls().unmatched.length.should.equal(0);\n                    recommendations.should.not.be.undefined;\n                    recommendations.length.should.be.equal(6);\n                    done();\n                })\n                .catch(done);\n        });\n    });\n\n    /** @test {Listening#resetFlow} */\n    describe('resetFlow', () => {\n        describe('no recommendations have been requested yet', () => {\n            it('should return a fulfilled promise', done => {\n                listening.resetFlow().should.eventually.be.ok.notify(done);\n            });\n        });\n        describe('if recommendations have already been requested', () => {\n            describe('and no queued ratings are present', () => {\n                it('should reset internal variables to allow the flow to reset', done => {\n                    listening.getRecommendation()\n                        .then(() => {\n                            listening.resetFlow()\n                                .then(() => {\n                                    listening._flowRecommendations.length.should.equal(0);\n                                    chai.expect(listening._flowPromise).to.be.null;\n                                    done();\n                                })\n                                .catch(done);\n                        })\n                        .catch(done);\n                });\n            });\n            describe('and queued ratings are present', () => {\n                it('should send the queued ratings first, then reset', done => {\n                    listening.getRecommendation()\n                        .then(recommendation => {\n                            recommendation.recordAction(NprOne.Action.COMPLETED, recommendation.attributes.duration);\n                            return listening.resetFlow();\n                        })\n                        .then(() => {\n                            fetchMock.called(ratingUrl).should.be.true;\n                            fetchMock.calls().unmatched.length.should.equal(0);\n                            listening._flowRecommendations.length.should.equal(0);\n                            done();\n                        })\n                        .catch(done);\n                });\n            });\n        });\n    });\n\n    /** @test {Listening#resumeFlowFromRecommendation} */\n    describe('resumeFlowFromRecommendation', () => {\n        describe('no recommendations have been requested yet', () => {\n            it('should set the recommendations to the active recommendation ' +\n               'and the flow should advance as normal when actions are received', done => {\n                testDataClone.items.splice(0, 1); // remove stationId, should be newscast\n\n                const rec = listening.resumeFlowFromRecommendation(testDataClone);\n                rec.recordAction(NprOne.Action.START, 0);\n\n                listening.getRecommendation()\n                    .then(recommendation => {\n                        fetchMock.called(ratingUrl).should.be.true;\n                        fetchMock.calls().unmatched.length.should.equal(0);\n                        listening._flowRecommendations.length.should.equal(5);  // testDataClone\n                        recommendation.attributes.uid !== testDataClone.items[0].attributes.uid;\n                        done();\n                    })\n                    .catch(done);\n            });\n        });\n    });\n});\n"
  },
  {
    "__docId__": 397,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe49",
    "testId": 49,
    "memberof": "unit/controller/listening.js",
    "testDepth": 0,
    "longname": "unit/controller/listening.js~describe49",
    "access": null,
    "description": "Listening",
    "lineNumber": 15,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Listening}"
      }
    ],
    "testTargets": [
      "Listening"
    ]
  },
  {
    "__docId__": 398,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe50",
    "testId": 50,
    "memberof": "unit/controller/listening.js~describe49",
    "testDepth": 1,
    "longname": "unit/controller/listening.js~describe49.describe50",
    "access": null,
    "description": "getRecommendation",
    "lineNumber": 78,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Listening#getRecommendation}"
      }
    ],
    "testTargets": [
      "Listening#getRecommendation"
    ]
  },
  {
    "__docId__": 399,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it51",
    "testId": 51,
    "memberof": "unit/controller/listening.js~describe49.describe50",
    "testDepth": 2,
    "longname": "unit/controller/listening.js~describe49.describe50.it51",
    "access": null,
    "description": "should throw an exception if access token is not supplied",
    "lineNumber": 97
  },
  {
    "__docId__": 400,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it52",
    "testId": 52,
    "memberof": "unit/controller/listening.js~describe49.describe50",
    "testDepth": 2,
    "longname": "unit/controller/listening.js~describe49.describe50.it52",
    "access": null,
    "description": "should make a request to /recommendations with channel npr if a bad channel is passed in",
    "lineNumber": 105
  },
  {
    "__docId__": 401,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it53",
    "testId": 53,
    "memberof": "unit/controller/listening.js~describe49.describe50",
    "testDepth": 2,
    "longname": "unit/controller/listening.js~describe49.describe50.it53",
    "access": null,
    "description": "should make a request to /recommendations when no queued ratings exist",
    "lineNumber": 115
  },
  {
    "__docId__": 402,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it54",
    "testId": 54,
    "memberof": "unit/controller/listening.js~describe49.describe50",
    "testDepth": 2,
    "longname": "unit/controller/listening.js~describe49.describe50.it54",
    "access": null,
    "description": "should return the currently executing promise if called again before first promise has resolved",
    "lineNumber": 125
  },
  {
    "__docId__": 403,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it55",
    "testId": 55,
    "memberof": "unit/controller/listening.js~describe49.describe50",
    "testDepth": 2,
    "longname": "unit/controller/listening.js~describe49.describe50.it55",
    "access": null,
    "description": "should make a request to /recommendations with a custom channel when no queued ratings exist and a channel is specified",
    "lineNumber": 139
  },
  {
    "__docId__": 404,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it56",
    "testId": 56,
    "memberof": "unit/controller/listening.js~describe49.describe50",
    "testDepth": 2,
    "longname": "unit/controller/listening.js~describe49.describe50.it56",
    "access": null,
    "description": "should include x- headers if supplied in config when making API requests",
    "lineNumber": 150
  },
  {
    "__docId__": 405,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it57",
    "testId": 57,
    "memberof": "unit/controller/listening.js~describe49.describe50",
    "testDepth": 2,
    "longname": "unit/controller/listening.js~describe49.describe50.it57",
    "access": null,
    "description": "should make /recommendations request with sharedMediaId when a UID is given",
    "lineNumber": 168
  },
  {
    "__docId__": 406,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it58",
    "testId": 58,
    "memberof": "unit/controller/listening.js~describe49.describe50",
    "testDepth": 2,
    "longname": "unit/controller/listening.js~describe49.describe50.it58",
    "access": null,
    "description": "should make a request to /ratings when a rating is queued",
    "lineNumber": 189
  },
  {
    "__docId__": 407,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it59",
    "testId": 59,
    "memberof": "unit/controller/listening.js~describe49.describe50",
    "testDepth": 2,
    "longname": "unit/controller/listening.js~describe49.describe50.it59",
    "access": null,
    "description": "should make a request to /ratings and not send duplicate ratings if an action was record twice",
    "lineNumber": 201
  },
  {
    "__docId__": 408,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it60",
    "testId": 60,
    "memberof": "unit/controller/listening.js~describe49.describe50",
    "testDepth": 2,
    "longname": "unit/controller/listening.js~describe49.describe50.it60",
    "access": null,
    "description": "should return the same recommendation when no START rating has been received",
    "lineNumber": 219
  },
  {
    "__docId__": 409,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it61",
    "testId": 61,
    "memberof": "unit/controller/listening.js~describe49.describe50",
    "testDepth": 2,
    "longname": "unit/controller/listening.js~describe49.describe50.it61",
    "access": null,
    "description": "should return a different recommendation when a START rating has been received",
    "lineNumber": 232
  },
  {
    "__docId__": 410,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it62",
    "testId": 62,
    "memberof": "unit/controller/listening.js~describe49.describe50",
    "testDepth": 2,
    "longname": "unit/controller/listening.js~describe49.describe50.it62",
    "access": null,
    "description": "should return a different recommendation when a TIMEOUT rating has been received",
    "lineNumber": 241
  },
  {
    "__docId__": 411,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it63",
    "testId": 63,
    "memberof": "unit/controller/listening.js~describe49.describe50",
    "testDepth": 2,
    "longname": "unit/controller/listening.js~describe49.describe50.it63",
    "access": null,
    "description": "should return a different recommendation when a TAPTHRU rating has been received",
    "lineNumber": 250
  },
  {
    "__docId__": 412,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it64",
    "testId": 64,
    "memberof": "unit/controller/listening.js~describe49.describe50",
    "testDepth": 2,
    "longname": "unit/controller/listening.js~describe49.describe50.it64",
    "access": null,
    "description": "should fire impression url GET requests for sponsorship when a START happens",
    "lineNumber": 259
  },
  {
    "__docId__": 413,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it65",
    "testId": 65,
    "memberof": "unit/controller/listening.js~describe49.describe50",
    "testDepth": 2,
    "longname": "unit/controller/listening.js~describe49.describe50.it65",
    "access": null,
    "description": "should disable ads when an adblocker is present",
    "lineNumber": 277
  },
  {
    "__docId__": 414,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it66",
    "testId": 66,
    "memberof": "unit/controller/listening.js~describe49.describe50",
    "testDepth": 2,
    "longname": "unit/controller/listening.js~describe49.describe50.it66",
    "access": null,
    "description": "should progress through the flow normally",
    "lineNumber": 307
  },
  {
    "__docId__": 415,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it67",
    "testId": 67,
    "memberof": "unit/controller/listening.js~describe49.describe50",
    "testDepth": 2,
    "longname": "unit/controller/listening.js~describe49.describe50.it67",
    "access": null,
    "description": "should go to sponsored channel on TAPTHRU to sponsorship [tests related]",
    "lineNumber": 332
  },
  {
    "__docId__": 416,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it68",
    "testId": 68,
    "memberof": "unit/controller/listening.js~describe49.describe50",
    "testDepth": 2,
    "longname": "unit/controller/listening.js~describe49.describe50.it68",
    "access": null,
    "description": "should go to action URL on TAPTHRU of promo [tests action, or callsToAction]",
    "lineNumber": 356
  },
  {
    "__docId__": 417,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it69",
    "testId": 69,
    "memberof": "unit/controller/listening.js~describe49.describe50",
    "testDepth": 2,
    "longname": "unit/controller/listening.js~describe49.describe50.it69",
    "access": null,
    "description": "should throw when no API recommendations are returned and no previous exist",
    "lineNumber": 380
  },
  {
    "__docId__": 418,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it70",
    "testId": 70,
    "memberof": "unit/controller/listening.js~describe49.describe50",
    "testDepth": 2,
    "longname": "unit/controller/listening.js~describe49.describe50.it70",
    "access": null,
    "description": "should call the refresh token endpoint in the auth proxy if the getRecommendations call returns a 401, and then retry the request",
    "lineNumber": 397
  },
  {
    "__docId__": 419,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe71",
    "testId": 71,
    "memberof": "unit/controller/listening.js~describe49.describe50",
    "testDepth": 2,
    "longname": "unit/controller/listening.js~describe49.describe50.describe71",
    "access": null,
    "description": "if queueRecommendationFromChannel() was previously called and the recommendation with the given UID was already added to flowRecommendations",
    "lineNumber": 431
  },
  {
    "__docId__": 420,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it72",
    "testId": 72,
    "memberof": "unit/controller/listening.js~describe49.describe50.describe71",
    "testDepth": 3,
    "longname": "unit/controller/listening.js~describe49.describe50.describe71.it72",
    "access": null,
    "description": "should NOT make a new API call if the UID is present in the cached list, and return that item",
    "lineNumber": 439
  },
  {
    "__docId__": 421,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it73",
    "testId": 73,
    "memberof": "unit/controller/listening.js~describe49.describe50.describe71",
    "testDepth": 3,
    "longname": "unit/controller/listening.js~describe49.describe50.describe71.it73",
    "access": null,
    "description": "should make a new API call if the UID is not found in the list",
    "lineNumber": 451
  },
  {
    "__docId__": 422,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe74",
    "testId": 74,
    "memberof": "unit/controller/listening.js~describe49",
    "testDepth": 1,
    "longname": "unit/controller/listening.js~describe49.describe74",
    "access": null,
    "description": "getUpcomingFlowRecommendations",
    "lineNumber": 464,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Listening#getUpcomingFlowRecommendations}"
      }
    ],
    "testTargets": [
      "Listening#getUpcomingFlowRecommendations"
    ]
  },
  {
    "__docId__": 423,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it75",
    "testId": 75,
    "memberof": "unit/controller/listening.js~describe49.describe74",
    "testDepth": 2,
    "longname": "unit/controller/listening.js~describe49.describe74.it75",
    "access": null,
    "description": "should make a GET request when no flow recommendations are present",
    "lineNumber": 465
  },
  {
    "__docId__": 424,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it76",
    "testId": 76,
    "memberof": "unit/controller/listening.js~describe49.describe74",
    "testDepth": 2,
    "longname": "unit/controller/listening.js~describe49.describe74.it76",
    "access": null,
    "description": "should NOT make a GET request when flow recommendations are present",
    "lineNumber": 476
  },
  {
    "__docId__": 425,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it77",
    "testId": 77,
    "memberof": "unit/controller/listening.js~describe49.describe74",
    "testDepth": 2,
    "longname": "unit/controller/listening.js~describe49.describe74.it77",
    "access": null,
    "description": "should make a GET request with a custom channel when no flow recommendations are present and a channel is specified",
    "lineNumber": 488
  },
  {
    "__docId__": 426,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe78",
    "testId": 78,
    "memberof": "unit/controller/listening.js~describe49",
    "testDepth": 1,
    "longname": "unit/controller/listening.js~describe49.describe78",
    "access": null,
    "description": "getRecommendationsFromChannel",
    "lineNumber": 501,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Listening#getRecommendationsFromChannel}"
      }
    ],
    "testTargets": [
      "Listening#getRecommendationsFromChannel"
    ]
  },
  {
    "__docId__": 427,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it79",
    "testId": 79,
    "memberof": "unit/controller/listening.js~describe49.describe78",
    "testDepth": 2,
    "longname": "unit/controller/listening.js~describe49.describe78.it79",
    "access": null,
    "description": "should make a GET request to the default channel (\"recommended\") if no channel is specified",
    "lineNumber": 502
  },
  {
    "__docId__": 428,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it80",
    "testId": 80,
    "memberof": "unit/controller/listening.js~describe49.describe78",
    "testDepth": 2,
    "longname": "unit/controller/listening.js~describe49.describe78.it80",
    "access": null,
    "description": "should make a GET request to the specified channel if a channel is specified",
    "lineNumber": 513
  },
  {
    "__docId__": 429,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it81",
    "testId": 81,
    "memberof": "unit/controller/listening.js~describe49.describe78",
    "testDepth": 2,
    "longname": "unit/controller/listening.js~describe49.describe78.it81",
    "access": null,
    "description": "should make a GET request to the default channel (\"recommended\") if an invalid channel format is supplied",
    "lineNumber": 524
  },
  {
    "__docId__": 430,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it82",
    "testId": 82,
    "memberof": "unit/controller/listening.js~describe49.describe78",
    "testDepth": 2,
    "longname": "unit/controller/listening.js~describe49.describe78.it82",
    "access": null,
    "description": "should flush any pending ratings before returning channel recommendations",
    "lineNumber": 535
  },
  {
    "__docId__": 431,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe83",
    "testId": 83,
    "memberof": "unit/controller/listening.js~describe49",
    "testDepth": 1,
    "longname": "unit/controller/listening.js~describe49.describe83",
    "access": null,
    "description": "queueRecommendationFromChannel",
    "lineNumber": 558,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Listening#queueRecommendationFromChannel}"
      }
    ],
    "testTargets": [
      "Listening#queueRecommendationFromChannel"
    ]
  },
  {
    "__docId__": 432,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it84",
    "testId": 84,
    "memberof": "unit/controller/listening.js~describe49.describe83",
    "testDepth": 2,
    "longname": "unit/controller/listening.js~describe49.describe83.it84",
    "access": null,
    "description": "should throw a TypeError if no channel is specified",
    "lineNumber": 563
  },
  {
    "__docId__": 433,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it85",
    "testId": 85,
    "memberof": "unit/controller/listening.js~describe49.describe83",
    "testDepth": 2,
    "longname": "unit/controller/listening.js~describe49.describe83.it85",
    "access": null,
    "description": "should throw a TypeError if a channel is specified but is not a valid string",
    "lineNumber": 569
  },
  {
    "__docId__": 434,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it86",
    "testId": 86,
    "memberof": "unit/controller/listening.js~describe49.describe83",
    "testDepth": 2,
    "longname": "unit/controller/listening.js~describe49.describe83.it86",
    "access": null,
    "description": "should throw a TypeError if no UID is specified",
    "lineNumber": 575
  },
  {
    "__docId__": 435,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it87",
    "testId": 87,
    "memberof": "unit/controller/listening.js~describe49.describe83",
    "testDepth": 2,
    "longname": "unit/controller/listening.js~describe49.describe83.it87",
    "access": null,
    "description": "should throw a TypeError if a channel is specified but is not a valid string",
    "lineNumber": 581
  },
  {
    "__docId__": 436,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it88",
    "testId": 88,
    "memberof": "unit/controller/listening.js~describe49.describe83",
    "testDepth": 2,
    "longname": "unit/controller/listening.js~describe49.describe83.it88",
    "access": null,
    "description": "should throw an Error if getRecommendationsFromChannel() was not previously called",
    "lineNumber": 587
  },
  {
    "__docId__": 437,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe89",
    "testId": 89,
    "memberof": "unit/controller/listening.js~describe49.describe83",
    "testDepth": 2,
    "longname": "unit/controller/listening.js~describe49.describe83.describe89",
    "access": null,
    "description": "if getRecommendationsFromChannel() was previously called but the cached list of recommendations is empty",
    "lineNumber": 594
  },
  {
    "__docId__": 438,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it90",
    "testId": 90,
    "memberof": "unit/controller/listening.js~describe49.describe83.describe89",
    "testDepth": 3,
    "longname": "unit/controller/listening.js~describe49.describe83.describe89.it90",
    "access": null,
    "description": "should throw an Error",
    "lineNumber": 599
  },
  {
    "__docId__": 439,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe91",
    "testId": 91,
    "memberof": "unit/controller/listening.js~describe49.describe83",
    "testDepth": 2,
    "longname": "unit/controller/listening.js~describe49.describe83.describe91",
    "access": null,
    "description": "if getRecommendationsFromChannel() was previously called and the cached list of recommendations is not empty",
    "lineNumber": 607
  },
  {
    "__docId__": 440,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it92",
    "testId": 92,
    "memberof": "unit/controller/listening.js~describe49.describe83.describe91",
    "testDepth": 3,
    "longname": "unit/controller/listening.js~describe49.describe83.describe91.it92",
    "access": null,
    "description": "should throw an Error if the uid is not found in the list",
    "lineNumber": 612
  },
  {
    "__docId__": 441,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it93",
    "testId": 93,
    "memberof": "unit/controller/listening.js~describe49.describe83.describe91",
    "testDepth": 3,
    "longname": "unit/controller/listening.js~describe49.describe83.describe91.it93",
    "access": null,
    "description": "should return the found recommendation if the UID is present in the cached list",
    "lineNumber": 618
  },
  {
    "__docId__": 442,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it94",
    "testId": 94,
    "memberof": "unit/controller/listening.js~describe49.describe83.describe91",
    "testDepth": 3,
    "longname": "unit/controller/listening.js~describe49.describe83.describe91.it94",
    "access": null,
    "description": "should put the found recommendation at the top of the flow recommendations if the UID is present in the cached list",
    "lineNumber": 624
  },
  {
    "__docId__": 443,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe95",
    "testId": 95,
    "memberof": "unit/controller/listening.js~describe49",
    "testDepth": 1,
    "longname": "unit/controller/listening.js~describe49.describe95",
    "access": null,
    "description": "getHistory",
    "lineNumber": 633,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Listening#getHistory}"
      }
    ],
    "testTargets": [
      "Listening#getHistory"
    ]
  },
  {
    "__docId__": 444,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it96",
    "testId": 96,
    "memberof": "unit/controller/listening.js~describe49.describe95",
    "testDepth": 2,
    "longname": "unit/controller/listening.js~describe49.describe95.it96",
    "access": null,
    "description": "should make a request to /history when getHistory is called",
    "lineNumber": 634
  },
  {
    "__docId__": 445,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe97",
    "testId": 97,
    "memberof": "unit/controller/listening.js~describe49",
    "testDepth": 1,
    "longname": "unit/controller/listening.js~describe49.describe97",
    "access": null,
    "description": "resetFlow",
    "lineNumber": 648,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Listening#resetFlow}"
      }
    ],
    "testTargets": [
      "Listening#resetFlow"
    ]
  },
  {
    "__docId__": 446,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe98",
    "testId": 98,
    "memberof": "unit/controller/listening.js~describe49.describe97",
    "testDepth": 2,
    "longname": "unit/controller/listening.js~describe49.describe97.describe98",
    "access": null,
    "description": "no recommendations have been requested yet",
    "lineNumber": 649
  },
  {
    "__docId__": 447,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it99",
    "testId": 99,
    "memberof": "unit/controller/listening.js~describe49.describe97.describe98",
    "testDepth": 3,
    "longname": "unit/controller/listening.js~describe49.describe97.describe98.it99",
    "access": null,
    "description": "should return a fulfilled promise",
    "lineNumber": 650
  },
  {
    "__docId__": 448,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe100",
    "testId": 100,
    "memberof": "unit/controller/listening.js~describe49.describe97",
    "testDepth": 2,
    "longname": "unit/controller/listening.js~describe49.describe97.describe100",
    "access": null,
    "description": "if recommendations have already been requested",
    "lineNumber": 654
  },
  {
    "__docId__": 449,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe101",
    "testId": 101,
    "memberof": "unit/controller/listening.js~describe49.describe97.describe100",
    "testDepth": 3,
    "longname": "unit/controller/listening.js~describe49.describe97.describe100.describe101",
    "access": null,
    "description": "and no queued ratings are present",
    "lineNumber": 655
  },
  {
    "__docId__": 450,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it102",
    "testId": 102,
    "memberof": "unit/controller/listening.js~describe49.describe97.describe100.describe101",
    "testDepth": 4,
    "longname": "unit/controller/listening.js~describe49.describe97.describe100.describe101.it102",
    "access": null,
    "description": "should reset internal variables to allow the flow to reset",
    "lineNumber": 656
  },
  {
    "__docId__": 451,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe103",
    "testId": 103,
    "memberof": "unit/controller/listening.js~describe49.describe97.describe100",
    "testDepth": 3,
    "longname": "unit/controller/listening.js~describe49.describe97.describe100.describe103",
    "access": null,
    "description": "and queued ratings are present",
    "lineNumber": 670
  },
  {
    "__docId__": 452,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it104",
    "testId": 104,
    "memberof": "unit/controller/listening.js~describe49.describe97.describe100.describe103",
    "testDepth": 4,
    "longname": "unit/controller/listening.js~describe49.describe97.describe100.describe103.it104",
    "access": null,
    "description": "should send the queued ratings first, then reset",
    "lineNumber": 671
  },
  {
    "__docId__": 453,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe105",
    "testId": 105,
    "memberof": "unit/controller/listening.js~describe49",
    "testDepth": 1,
    "longname": "unit/controller/listening.js~describe49.describe105",
    "access": null,
    "description": "resumeFlowFromRecommendation",
    "lineNumber": 690,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Listening#resumeFlowFromRecommendation}"
      }
    ],
    "testTargets": [
      "Listening#resumeFlowFromRecommendation"
    ]
  },
  {
    "__docId__": 454,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe106",
    "testId": 106,
    "memberof": "unit/controller/listening.js~describe49.describe105",
    "testDepth": 2,
    "longname": "unit/controller/listening.js~describe49.describe105.describe106",
    "access": null,
    "description": "no recommendations have been requested yet",
    "lineNumber": 691
  },
  {
    "__docId__": 455,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it107",
    "testId": 107,
    "memberof": "unit/controller/listening.js~describe49.describe105.describe106",
    "testDepth": 3,
    "longname": "unit/controller/listening.js~describe49.describe105.describe106.it107",
    "access": null,
    "lineNumber": 692
  },
  {
    "__docId__": 456,
    "kind": "testFile",
    "static": true,
    "variation": null,
    "name": "unit/controller/station-finder.js",
    "memberof": null,
    "longname": "unit/controller/station-finder.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import chai from 'chai';\nimport { STATION_FINDER_RESPONSE } from '../../test-data';\nimport mockery from 'mockery';\nimport fetchMock from 'fetch-mock';\nimport StationFinder from './../../../src/controller/station-finder';\nimport NprOne from './../../../src/index';\nimport { testConfig } from '../../test';\n\nconst should = chai.should();\n\n\n/** @test {StationFinder} */\ndescribe('StationFinder', () => {\n    let stationFinder;\n    let stationResponseClone;\n    const searchStationsUrl = `^${NprOne.getServiceUrl('stationfinder')}/stations`;\n\n    beforeEach(() => {\n        stationFinder = new StationFinder();\n        NprOne.config = testConfig;\n\n        stationResponseClone = JSON.parse(JSON.stringify(STATION_FINDER_RESPONSE));\n\n        mockery.registerMock('fetch', fetchMock\n            .mock(searchStationsUrl, 'GET', stationResponseClone)\n            .getMock());\n    });\n\n    afterEach(() => {\n        fetchMock.restore();\n        mockery.deregisterMock('fetch');\n    });\n\n\n    /** @test {StationFinder#searchStations} */\n    describe('searchStations', () => {\n        it('should make a request to /stationfinder/stations and find two stations', (done) => {\n            stationFinder.searchStations()\n                .then((stations) => {\n                    fetchMock.called(searchStationsUrl).should.be.true;\n                    fetchMock.calls().unmatched.length.should.equal(0);\n                    stations.length.should.equal(2);\n                    done();\n                })\n                .catch(done);\n        });\n\n        it('should include the query string in the search if one is given', (done) => {\n            stationFinder.searchStations('colorado')\n                .then((stations) => {\n                    fetchMock.called(searchStationsUrl).should.be.true;\n                    /q=colorado/.test(fetchMock.lastUrl()).should.be.true;\n                    stations.length.should.equal(2);\n                    done();\n                })\n                .catch(done);\n        });\n\n        it('should throw an error when given an invalid query string', () => {\n            chai.expect(() => {\n                stationFinder.searchStations(124);\n            }).to.throw('Station search query must be a string');\n        });\n\n        it('should return an empty array if no stations results were found', (done) => {\n            fetchMock.restore();\n            mockery.deregisterMock('fetch');\n\n            mockery.registerMock('fetch', fetchMock\n                .mock(searchStationsUrl, 'GET', {})\n                .getMock());\n\n            stationFinder.searchStations()\n                .then((stations) => {\n                    fetchMock.called(searchStationsUrl).should.be.true;\n                    fetchMock.calls().unmatched.length.should.equal(0);\n                    stations.length.should.equal(0);\n                    done();\n                })\n                .catch(done);\n        });\n    });\n\n\n    /** @test {StationFinder#searchStationsByLatLongCoordinates} */\n    describe('searchStationsByLatLongCoordinates', () => {\n        it('should make a request to /stationfinder/stations and find two stations', (done) => {\n            stationFinder.searchStationsByLatLongCoordinates(37.241, -77.1352)\n                .then((stations) => {\n                    fetchMock.called(searchStationsUrl).should.be.true;\n                    fetchMock.calls().unmatched.length.should.equal(0);\n                    stations.length.should.equal(2);\n                    done();\n                })\n                .catch(done);\n        });\n\n        it('should throw an error when given an invalid values', () => {\n            chai.expect(() => {\n                stationFinder.searchStationsByLatLongCoordinates('bad', 'values');\n            }).to.throw('Latitude and longitude must both be valid numbers (floats)');\n        });\n    });\n\n\n    /** @test {StationFinder#searchStationsByCity} */\n    describe('searchStationsByCity', () => {\n        it('should make a request to /stationfinder/stations and find two stations', (done) => {\n            stationFinder.searchStationsByCity('toledo')\n                .then((stations) => {\n                    fetchMock.called(searchStationsUrl).should.be.true;\n                    fetchMock.calls().unmatched.length.should.equal(0);\n                    stations.length.should.equal(2);\n                    done();\n                })\n                .catch(done);\n        });\n\n        it('should throw an error when given an invalid values', () => {\n            chai.expect(() => {\n                stationFinder.searchStationsByCity(4134);\n            }).to.throw('Station search city name must be a string');\n        });\n    });\n\n\n    /** @test {StationFinder#searchStationsByState} */\n    describe('searchStationsByState', () => {\n        it('should make a request to /stationfinder/stations and find two stations', (done) => {\n            stationFinder.searchStationsByState('ohio')\n                .then((stations) => {\n                    fetchMock.called(searchStationsUrl).should.be.true;\n                    fetchMock.calls().unmatched.length.should.equal(0);\n                    stations.length.should.equal(2);\n                    done();\n                })\n                .catch(done);\n        });\n\n        it('should throw an error when given an invalid values', () => {\n            chai.expect(() => {\n                stationFinder.searchStationsByState(4134);\n            }).to.throw('Station search state name must be a string');\n        });\n    });\n\n\n    /** @test {StationFinder#searchStationsByCityAndState} */\n    describe('searchStationsByCityAndState', () => {\n        it('should make a request to /stationfinder/stations and find two stations', (done) => {\n            stationFinder.searchStationsByCityAndState('toledo', 'oh')\n                .then((stations) => {\n                    fetchMock.called(searchStationsUrl).should.be.true;\n                    fetchMock.calls().unmatched.length.should.equal(0);\n                    stations.length.should.equal(2);\n                    done();\n                })\n                .catch(done);\n        });\n    });\n\n\n    /** @test {StationFinder#getStationDetails} */\n    describe('getStationDetails', () => {\n        it('should make a request to /stationfinder/stations and find the requested station', (done) => {\n            fetchMock.restore();\n            mockery.deregisterMock('fetch');\n            mockery.registerMock('fetch', fetchMock\n                .mock(searchStationsUrl, 'GET', JSON.parse(JSON.stringify(STATION_FINDER_RESPONSE.items[0])))\n                .getMock());\n\n            const stationId = '330';\n            stationFinder.getStationDetails(stationId)\n                .then((station) => {\n                    fetchMock.called(searchStationsUrl).should.be.true;\n                    fetchMock.calls().unmatched.length.should.equal(0);\n                    station.id.should.equal(stationId);\n                    done();\n                })\n                .catch(done);\n        });\n\n        it('should make a request to /stationfinder/stations and return a promise that rejects if the requested station is a non-NPR One station', (done) => {\n            fetchMock.restore();\n            mockery.deregisterMock('fetch');\n            mockery.registerMock('fetch', fetchMock\n                .mock(searchStationsUrl, 'GET', JSON.parse(JSON.stringify(STATION_FINDER_RESPONSE.items[2])))\n                .getMock());\n\n            const stationId = '1209';\n            const error = `The station ${stationId} is not eligible for NPR One.`;\n            stationFinder.getStationDetails(stationId).should.be.rejectedWith(error).notify(done);\n        });\n\n        it('should throw an error when given an invalid values', (done) => {\n            const error = 'Error: Station ID must be an integer greater than 0';\n            stationFinder.getStationDetails('bad_value').should.be.rejectedWith(error).notify(done);\n        });\n    });\n});\n"
  },
  {
    "__docId__": 457,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe108",
    "testId": 108,
    "memberof": "unit/controller/station-finder.js",
    "testDepth": 0,
    "longname": "unit/controller/station-finder.js~describe108",
    "access": null,
    "description": "StationFinder",
    "lineNumber": 13,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{StationFinder}"
      }
    ],
    "testTargets": [
      "StationFinder"
    ]
  },
  {
    "__docId__": 458,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe109",
    "testId": 109,
    "memberof": "unit/controller/station-finder.js~describe108",
    "testDepth": 1,
    "longname": "unit/controller/station-finder.js~describe108.describe109",
    "access": null,
    "description": "searchStations",
    "lineNumber": 36,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{StationFinder#searchStations}"
      }
    ],
    "testTargets": [
      "StationFinder#searchStations"
    ]
  },
  {
    "__docId__": 459,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it110",
    "testId": 110,
    "memberof": "unit/controller/station-finder.js~describe108.describe109",
    "testDepth": 2,
    "longname": "unit/controller/station-finder.js~describe108.describe109.it110",
    "access": null,
    "description": "should make a request to /stationfinder/stations and find two stations",
    "lineNumber": 37
  },
  {
    "__docId__": 460,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it111",
    "testId": 111,
    "memberof": "unit/controller/station-finder.js~describe108.describe109",
    "testDepth": 2,
    "longname": "unit/controller/station-finder.js~describe108.describe109.it111",
    "access": null,
    "description": "should include the query string in the search if one is given",
    "lineNumber": 48
  },
  {
    "__docId__": 461,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it112",
    "testId": 112,
    "memberof": "unit/controller/station-finder.js~describe108.describe109",
    "testDepth": 2,
    "longname": "unit/controller/station-finder.js~describe108.describe109.it112",
    "access": null,
    "description": "should throw an error when given an invalid query string",
    "lineNumber": 59
  },
  {
    "__docId__": 462,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it113",
    "testId": 113,
    "memberof": "unit/controller/station-finder.js~describe108.describe109",
    "testDepth": 2,
    "longname": "unit/controller/station-finder.js~describe108.describe109.it113",
    "access": null,
    "description": "should return an empty array if no stations results were found",
    "lineNumber": 65
  },
  {
    "__docId__": 463,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe114",
    "testId": 114,
    "memberof": "unit/controller/station-finder.js~describe108",
    "testDepth": 1,
    "longname": "unit/controller/station-finder.js~describe108.describe114",
    "access": null,
    "description": "searchStationsByLatLongCoordinates",
    "lineNumber": 86,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{StationFinder#searchStationsByLatLongCoordinates}"
      }
    ],
    "testTargets": [
      "StationFinder#searchStationsByLatLongCoordinates"
    ]
  },
  {
    "__docId__": 464,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it115",
    "testId": 115,
    "memberof": "unit/controller/station-finder.js~describe108.describe114",
    "testDepth": 2,
    "longname": "unit/controller/station-finder.js~describe108.describe114.it115",
    "access": null,
    "description": "should make a request to /stationfinder/stations and find two stations",
    "lineNumber": 87
  },
  {
    "__docId__": 465,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it116",
    "testId": 116,
    "memberof": "unit/controller/station-finder.js~describe108.describe114",
    "testDepth": 2,
    "longname": "unit/controller/station-finder.js~describe108.describe114.it116",
    "access": null,
    "description": "should throw an error when given an invalid values",
    "lineNumber": 98
  },
  {
    "__docId__": 466,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe117",
    "testId": 117,
    "memberof": "unit/controller/station-finder.js~describe108",
    "testDepth": 1,
    "longname": "unit/controller/station-finder.js~describe108.describe117",
    "access": null,
    "description": "searchStationsByCity",
    "lineNumber": 107,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{StationFinder#searchStationsByCity}"
      }
    ],
    "testTargets": [
      "StationFinder#searchStationsByCity"
    ]
  },
  {
    "__docId__": 467,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it118",
    "testId": 118,
    "memberof": "unit/controller/station-finder.js~describe108.describe117",
    "testDepth": 2,
    "longname": "unit/controller/station-finder.js~describe108.describe117.it118",
    "access": null,
    "description": "should make a request to /stationfinder/stations and find two stations",
    "lineNumber": 108
  },
  {
    "__docId__": 468,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it119",
    "testId": 119,
    "memberof": "unit/controller/station-finder.js~describe108.describe117",
    "testDepth": 2,
    "longname": "unit/controller/station-finder.js~describe108.describe117.it119",
    "access": null,
    "description": "should throw an error when given an invalid values",
    "lineNumber": 119
  },
  {
    "__docId__": 469,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe120",
    "testId": 120,
    "memberof": "unit/controller/station-finder.js~describe108",
    "testDepth": 1,
    "longname": "unit/controller/station-finder.js~describe108.describe120",
    "access": null,
    "description": "searchStationsByState",
    "lineNumber": 128,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{StationFinder#searchStationsByState}"
      }
    ],
    "testTargets": [
      "StationFinder#searchStationsByState"
    ]
  },
  {
    "__docId__": 470,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it121",
    "testId": 121,
    "memberof": "unit/controller/station-finder.js~describe108.describe120",
    "testDepth": 2,
    "longname": "unit/controller/station-finder.js~describe108.describe120.it121",
    "access": null,
    "description": "should make a request to /stationfinder/stations and find two stations",
    "lineNumber": 129
  },
  {
    "__docId__": 471,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it122",
    "testId": 122,
    "memberof": "unit/controller/station-finder.js~describe108.describe120",
    "testDepth": 2,
    "longname": "unit/controller/station-finder.js~describe108.describe120.it122",
    "access": null,
    "description": "should throw an error when given an invalid values",
    "lineNumber": 140
  },
  {
    "__docId__": 472,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe123",
    "testId": 123,
    "memberof": "unit/controller/station-finder.js~describe108",
    "testDepth": 1,
    "longname": "unit/controller/station-finder.js~describe108.describe123",
    "access": null,
    "description": "searchStationsByCityAndState",
    "lineNumber": 149,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{StationFinder#searchStationsByCityAndState}"
      }
    ],
    "testTargets": [
      "StationFinder#searchStationsByCityAndState"
    ]
  },
  {
    "__docId__": 473,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it124",
    "testId": 124,
    "memberof": "unit/controller/station-finder.js~describe108.describe123",
    "testDepth": 2,
    "longname": "unit/controller/station-finder.js~describe108.describe123.it124",
    "access": null,
    "description": "should make a request to /stationfinder/stations and find two stations",
    "lineNumber": 150
  },
  {
    "__docId__": 474,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe125",
    "testId": 125,
    "memberof": "unit/controller/station-finder.js~describe108",
    "testDepth": 1,
    "longname": "unit/controller/station-finder.js~describe108.describe125",
    "access": null,
    "description": "getStationDetails",
    "lineNumber": 164,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{StationFinder#getStationDetails}"
      }
    ],
    "testTargets": [
      "StationFinder#getStationDetails"
    ]
  },
  {
    "__docId__": 475,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it126",
    "testId": 126,
    "memberof": "unit/controller/station-finder.js~describe108.describe125",
    "testDepth": 2,
    "longname": "unit/controller/station-finder.js~describe108.describe125.it126",
    "access": null,
    "description": "should make a request to /stationfinder/stations and find the requested station",
    "lineNumber": 165
  },
  {
    "__docId__": 476,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it127",
    "testId": 127,
    "memberof": "unit/controller/station-finder.js~describe108.describe125",
    "testDepth": 2,
    "longname": "unit/controller/station-finder.js~describe108.describe125.it127",
    "access": null,
    "description": "should make a request to /stationfinder/stations and return a promise that rejects if the requested station is a non-NPR One station",
    "lineNumber": 183
  },
  {
    "__docId__": 477,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it128",
    "testId": 128,
    "memberof": "unit/controller/station-finder.js~describe108.describe125",
    "testDepth": 2,
    "longname": "unit/controller/station-finder.js~describe108.describe125.it128",
    "access": null,
    "description": "should throw an error when given an invalid values",
    "lineNumber": 195
  },
  {
    "__docId__": 478,
    "kind": "testFile",
    "static": true,
    "variation": null,
    "name": "unit/index.js",
    "memberof": null,
    "longname": "unit/index.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import chai from 'chai';\nimport sinon from 'sinon';\nimport sinonChai from 'sinon-chai';\nimport NprOneSDK from './../../src/index';\nimport Authorization from './../../src/controller/authorization';\nimport Action from './../../src/model/action';\nimport Logger from './../../src/util/logger';\n\n\nconst should = chai.should();\nchai.use(sinonChai);\n\n\n/** @test {NprOneSDK} */\ndescribe('NprOneSDK', () => {\n    /** @type {NprOneSDK} */\n    let nprOne;\n\n    beforeEach(() => {\n        nprOne = new NprOneSDK();\n    });\n\n\n    /** @test {NprOneSDK.config} */\n    describe('config', () => {\n        describe('getter', () => {\n            it('should return an object with config related properties', () => {\n                NprOneSDK.config.authProxyBaseUrl.should.be.ok;\n            });\n        });\n\n        describe('setter', () => {\n            it('should update specific config values when set', () => {\n                const previousUrl = NprOneSDK.config.authProxyBaseUrl;\n                NprOneSDK.config = { 'authProxyBaseUrl': 'https://test' };\n\n                const newUrl = NprOneSDK.config.authProxyBaseUrl;\n                NprOneSDK.config.authProxyBaseUrl = previousUrl;\n                newUrl.should.equal('https://test');\n            });\n\n            it('should setup defaults if they haven\\'t been set yet', () => {\n                NprOneSDK._config = undefined;\n                NprOneSDK.config = { 'test': 'value' };\n                NprOneSDK.config.test.should.equal('value');\n            });\n\n            it('should log a warning when setting deprecated properties', () => {\n                const stub = sinon.stub(Logger, 'warn');\n\n                const previousUrl = NprOneSDK.config.apiBaseUrl;\n                NprOneSDK.config = {\n                    'apiBaseUrl': 'https://test',\n                    'apiVersion': 'v2',\n                };\n\n                NprOneSDK.config.apiBaseUrl.should.equal('https://test');\n                NprOneSDK.config.apiVersion.should.equal('v2');\n                stub.should.have.been.calledTwice;\n            });\n        });\n    });\n\n\n    /** @test {NprOneSDK.accessToken} */\n    describe('accessToken', () => {\n        describe('getter', () => {\n            it('should return the value of the accessToken string in the hidden config object', () => {\n                NprOneSDK.accessToken.should.equal(NprOneSDK.config.accessToken);\n            });\n        });\n\n        describe('setter', () => {\n            it('should throw a TypeError if the passed-in value is not a string', () => {\n                chai.expect(() => {\n                    NprOneSDK.accessToken = 1234;\n                }).to.throw('Value for accessToken must be a string');\n            });\n\n            it('should set the internal access token to the supplied string', () => {\n                NprOneSDK.accessToken = 'abcdefgh123456';\n\n                NprOneSDK.config.accessToken.should.equal('abcdefgh123456');\n            });\n\n            it('should call the registered callback if one is set', (done) => {\n                NprOneSDK.onAccessTokenChanged = () => {\n                    NprOneSDK.config.accessToken.should.equal('abcdefgh123456789abced');\n                    done();\n                };\n                NprOneSDK.accessToken = 'abcdefgh123456789abced';\n            });\n\n            it('but only if the new token is different from the old', () => {\n                NprOneSDK.onAccessTokenChanged = () => {\n                    throw new Error('access token did not actually change, should never get here');\n                };\n                NprOneSDK.accessToken = NprOneSDK.config.accessToken;\n            });\n        });\n    });\n\n\n    /** @test {NprOneSDK.onAccessTokenChanged} */\n    describe('onAccessTokenChanged', () => {\n        describe('setter', () => {\n            it('should throw a TypeError if the passed-in value is not a function', () => {\n                chai.expect(() => {\n                    NprOneSDK.onAccessTokenChanged = 'i_am_not_a_function';\n                }).to.throw('Value for onAccessTokenChanged must be a function');\n            });\n        });\n    });\n\n\n    /** @test {NprOneSDK.Action} */\n    describe('Action', () => {\n        it('should return the Action class', () => {\n            NprOneSDK.Action.should.equal(Action);\n        });\n    });\n\n\n    /** @test {NprOneSDK.Logger} */\n    describe('Logger', () => {\n        it('should return the Logger class', () => {\n            NprOneSDK.Logger.should.equal(Logger);\n        });\n    });\n\n\n    /** @test {NprOneSDK.refreshExistingAccessToken} */\n    describe('refreshExistingAccessToken', () => {\n        afterEach(() => {\n            Authorization.refreshExistingAccessToken.restore();\n        });\n\n        it('should call the correct service controller method', () => {\n            const stub = sinon.stub(Authorization, 'refreshExistingAccessToken');\n            NprOneSDK.refreshExistingAccessToken();\n            stub.should.have.been.calledWith();\n        });\n\n        it('should call the correct service controller method with non-default param values', () => {\n            const stub = sinon.stub(Authorization, 'refreshExistingAccessToken');\n            NprOneSDK.refreshExistingAccessToken(3);\n            stub.should.have.been.calledWith(3);\n        });\n    });\n\n\n    /** @test {NprOneSDK#logout} */\n    describe('logout', () => {\n        it('should call the correct service controller method', () => {\n            const stub = sinon.stub(nprOne._authorization, 'logout');\n            nprOne.logout();\n            stub.should.have.been.calledOnce;\n        });\n    });\n\n\n    /** @test {NprOneSDK#getDeviceCode} */\n    describe('getDeviceCode', () => {\n        it('should call the correct service controller method', () => {\n            const stub = sinon.stub(nprOne._authorization, 'getDeviceCode');\n            nprOne.getDeviceCode();\n            stub.should.have.been.calledWith([]);\n        });\n\n        it('should call the correct service controller method with non-default param values', () => {\n            const stub = sinon.stub(nprOne._authorization, 'getDeviceCode');\n            nprOne.getDeviceCode(['listening.readonly']);\n            stub.should.have.been.calledWith(['listening.readonly']);\n        });\n    });\n\n\n    /** @test {NprOneSDK#pollDeviceCode} */\n    describe('pollDeviceCode', () => {\n        it('should call the correct service controller method', () => {\n            const stub = sinon.stub(nprOne._authorization, 'pollDeviceCode');\n            nprOne.pollDeviceCode();\n            stub.should.have.been.calledOnce;\n        });\n    });\n\n\n    /** @test {NprOneSDK#getRecommendation} */\n    describe('getRecommendation', () => {\n        it('should call the correct service controller method', () => {\n            const stub = sinon.stub(nprOne._listening, 'getRecommendation');\n            nprOne.getRecommendation();\n            stub.should.have.been.calledWith('', 'npr');\n        });\n\n        it('should call the correct service controller method with non-default param values', () => {\n            const stub = sinon.stub(nprOne._listening, 'getRecommendation');\n            nprOne.getRecommendation('string1');\n            stub.should.have.been.calledWith('string1', 'npr');\n        });\n\n        it('should call the correct service controller method with non-default param values', () => {\n            const stub = sinon.stub(nprOne._listening, 'getRecommendation');\n            nprOne.getRecommendation('', 'string2');\n            stub.should.have.been.calledWith('', 'string2');\n        });\n    });\n\n\n    /** @test {NprOneSDK#getUpcomingFlowRecommendations} */\n    describe('getUpcomingFlowRecommendations', () => {\n        it('should call the correct service controller method', () => {\n            const stub = sinon.stub(nprOne._listening, 'getUpcomingFlowRecommendations');\n            nprOne.getUpcomingFlowRecommendations();\n            stub.should.have.been.calledWith('npr');\n        });\n\n        it('should call the correct service controller method with non-default param values', () => {\n            const stub = sinon.stub(nprOne._listening, 'getUpcomingFlowRecommendations');\n            nprOne.getUpcomingFlowRecommendations('string1');\n            stub.should.have.been.calledWith('string1');\n        });\n    });\n\n\n    /** @test {NprOneSDK#getRecommendationsFromChannel} */\n    describe('getRecommendationsFromChannel', () => {\n        it('should call the correct service controller method', () => {\n            const stub = sinon.stub(nprOne._listening, 'getRecommendationsFromChannel');\n            nprOne.getRecommendationsFromChannel();\n            stub.should.have.been.calledWith('recommended');\n        });\n\n        it('should call the correct service controller method with non-default param values', () => {\n            const stub = sinon.stub(nprOne._listening, 'getRecommendationsFromChannel');\n            nprOne.getRecommendationsFromChannel('string1');\n            stub.should.have.been.calledWith('string1');\n        });\n    });\n\n\n    /** @test {NprOneSDK#queueRecommendationFromChannel} */\n    describe('queueRecommendationFromChannel', () => {\n        it('should call the correct service controller method', () => {\n            const stub = sinon.stub(nprOne._listening, 'queueRecommendationFromChannel');\n            nprOne.queueRecommendationFromChannel();\n            stub.should.have.been.calledOnce;\n        });\n    });\n\n\n    /** @test {NprOneSDK#getHistory} */\n    describe('getHistory', () => {\n        it('should call the correct service controller method', () => {\n            const stub = sinon.stub(nprOne._listening, 'getHistory');\n            nprOne.getHistory();\n            stub.should.have.been.calledOnce;\n        });\n    });\n\n\n    /** @test {NprOneSDK#resetFlow} */\n    describe('resetFlow', () => {\n        it('should call the correct service controller method', () => {\n            const stub = sinon.stub(nprOne._listening, 'resetFlow');\n            nprOne.resetFlow();\n            stub.should.have.been.calledOnce;\n        });\n    });\n\n\n    /** @test {NprOneSDK#resumeFlowFromRecommendation} */\n    describe('resumeFlowFromRecommendation', () => {\n        it('should call the correct service controller method', () => {\n            const stub = sinon.stub(nprOne._listening, 'resumeFlowFromRecommendation');\n            nprOne.resumeFlowFromRecommendation();\n            stub.should.have.been.calledOnce;\n        });\n    });\n\n    /** @test {NprOneSDK#getUser} */\n    describe('getUser', () => {\n        it('should call the correct service controller method', () => {\n            const stub = sinon.stub(nprOne._identity, 'getUser');\n            nprOne.getUser();\n            stub.should.have.been.calledOnce;\n        });\n    });\n\n\n    /** @test {NprOneSDK#setUserStation} */\n    describe('setUserStation', () => {\n        it('should call the correct service controller method', () => {\n            const stub = sinon.stub(nprOne._identity, 'setUserStation');\n            nprOne.setUserStation('404');\n            stub.should.have.been.calledWith('404');\n        });\n    });\n\n\n    /** @test {NprOneSDK#followShow} */\n    describe('followShow', () => {\n        it('should call the correct service controller method', () => {\n            const stub = sinon.stub(nprOne._identity, 'followShow');\n            nprOne.followShow('123');\n            stub.should.have.been.calledWith('123');\n        });\n    });\n\n\n    /** @test {NprOneSDK#unfollowShow} */\n    describe('unfollowShow', () => {\n        it('should call the correct service controller method', () => {\n            const stub = sinon.stub(nprOne._identity, 'unfollowShow');\n            nprOne.unfollowShow('456');\n            stub.should.have.been.calledWith('456');\n        });\n    });\n\n\n    /** @test {NprOneSDK#createTemporaryUser} */\n    describe('createTemporaryUser', () => {\n        it('should call the correct service controller method', () => {\n            const stub = sinon.stub(nprOne._identity, 'createTemporaryUser');\n            nprOne.createTemporaryUser();\n            stub.should.have.been.calledOnce;\n        });\n    });\n\n\n    /** @test {NprOneSDK#searchStations} */\n    describe('searchStations', () => {\n        it('should call the correct service controller method', () => {\n            const stub = sinon.stub(nprOne._stationfinder, 'searchStations');\n            nprOne.searchStations();\n            stub.should.have.been.calledWith();\n        });\n\n        it('should call the correct service controller method with non-default param values', () => {\n            const stub = sinon.stub(nprOne._stationfinder, 'searchStations');\n            nprOne.searchStations('ohio');\n            stub.should.have.been.calledWith('ohio');\n        });\n    });\n\n\n    /** @test {NprOneSDK#searchStationsByLatLongCoordinates} */\n    describe('searchStationsByLatLongCoordinates', () => {\n        it('should call the correct service controller method', () => {\n            const stub = sinon.stub(nprOne._stationfinder, 'searchStationsByLatLongCoordinates');\n            nprOne.searchStationsByLatLongCoordinates('37.742', '-77.42');\n            stub.should.have.been.calledWith('37.742', '-77.42');\n        });\n    });\n\n\n    /** @test {NprOneSDK#searchStationsByCityAndState} */\n    describe('searchStationsByCityAndState', () => {\n        it('should call the correct service controller method', () => {\n            const stub = sinon.stub(nprOne._stationfinder, 'searchStationsByCityAndState');\n            nprOne.searchStationsByCityAndState('fremont', 'ohio');\n            stub.should.have.been.calledWith('fremont', 'ohio');\n        });\n    });\n\n\n    /** @test {NprOneSDK#searchStationsByCity} */\n    describe('searchStationsByCity', () => {\n        it('should call the correct service controller method', () => {\n            const stub = sinon.stub(nprOne._stationfinder, 'searchStationsByCity');\n            nprOne.searchStationsByCity('Toledo');\n            stub.should.have.been.calledWith('Toledo');\n        });\n    });\n\n\n    /** @test {NprOneSDK#searchStationsByState} */\n    describe('searchStationsByState', () => {\n        it('should call the correct service controller method', () => {\n            const stub = sinon.stub(nprOne._stationfinder, 'searchStationsByState');\n            nprOne.searchStationsByState('ohio');\n            stub.should.have.been.calledWith('ohio');\n        });\n    });\n\n\n    /** @test {NprOneSDK#getStationDetails} */\n    describe('getStationDetails', () => {\n        it('should call the correct service controller method', () => {\n            const stub = sinon.stub(nprOne._stationfinder, 'getStationDetails');\n            nprOne.getStationDetails(305);\n            stub.should.have.been.calledWith(305);\n        });\n    });\n\n\n    /** @test {NprOneSDK.getServiceUrl} */\n    describe('getServiceUrl', () => {\n        it('should return the correct API service url', () => {\n            const url = NprOneSDK.getServiceUrl('listening');\n            url.should.be.ok;\n        });\n\n        it('should throw if an invalid service name is specified', () => {\n            chai.expect(() => {\n                NprOneSDK.getServiceUrl('invalid');\n            }).to.throw('Must specify a valid service name');\n        });\n    });\n});\n"
  },
  {
    "__docId__": 479,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe129",
    "testId": 129,
    "memberof": "unit/index.js",
    "testDepth": 0,
    "longname": "unit/index.js~describe129",
    "access": null,
    "description": "NprOneSDK",
    "lineNumber": 15,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{NprOneSDK}"
      }
    ],
    "testTargets": [
      "NprOneSDK"
    ]
  },
  {
    "__docId__": 480,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe130",
    "testId": 130,
    "memberof": "unit/index.js~describe129",
    "testDepth": 1,
    "longname": "unit/index.js~describe129.describe130",
    "access": null,
    "description": "config",
    "lineNumber": 25,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{NprOneSDK.config}"
      }
    ],
    "testTargets": [
      "NprOneSDK.config"
    ]
  },
  {
    "__docId__": 481,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe131",
    "testId": 131,
    "memberof": "unit/index.js~describe129.describe130",
    "testDepth": 2,
    "longname": "unit/index.js~describe129.describe130.describe131",
    "access": null,
    "description": "getter",
    "lineNumber": 26
  },
  {
    "__docId__": 482,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it132",
    "testId": 132,
    "memberof": "unit/index.js~describe129.describe130.describe131",
    "testDepth": 3,
    "longname": "unit/index.js~describe129.describe130.describe131.it132",
    "access": null,
    "description": "should return an object with config related properties",
    "lineNumber": 27
  },
  {
    "__docId__": 483,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe133",
    "testId": 133,
    "memberof": "unit/index.js~describe129.describe130",
    "testDepth": 2,
    "longname": "unit/index.js~describe129.describe130.describe133",
    "access": null,
    "description": "setter",
    "lineNumber": 32
  },
  {
    "__docId__": 484,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it134",
    "testId": 134,
    "memberof": "unit/index.js~describe129.describe130.describe133",
    "testDepth": 3,
    "longname": "unit/index.js~describe129.describe130.describe133.it134",
    "access": null,
    "description": "should update specific config values when set",
    "lineNumber": 33
  },
  {
    "__docId__": 485,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it135",
    "testId": 135,
    "memberof": "unit/index.js~describe129.describe130.describe133",
    "testDepth": 3,
    "longname": "unit/index.js~describe129.describe130.describe133.it135",
    "access": null,
    "description": "should setup defaults if they haven't been set yet",
    "lineNumber": 42
  },
  {
    "__docId__": 486,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it136",
    "testId": 136,
    "memberof": "unit/index.js~describe129.describe130.describe133",
    "testDepth": 3,
    "longname": "unit/index.js~describe129.describe130.describe133.it136",
    "access": null,
    "description": "should log a warning when setting deprecated properties",
    "lineNumber": 48
  },
  {
    "__docId__": 487,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe137",
    "testId": 137,
    "memberof": "unit/index.js~describe129",
    "testDepth": 1,
    "longname": "unit/index.js~describe129.describe137",
    "access": null,
    "description": "accessToken",
    "lineNumber": 66,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{NprOneSDK.accessToken}"
      }
    ],
    "testTargets": [
      "NprOneSDK.accessToken"
    ]
  },
  {
    "__docId__": 488,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe138",
    "testId": 138,
    "memberof": "unit/index.js~describe129.describe137",
    "testDepth": 2,
    "longname": "unit/index.js~describe129.describe137.describe138",
    "access": null,
    "description": "getter",
    "lineNumber": 67
  },
  {
    "__docId__": 489,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it139",
    "testId": 139,
    "memberof": "unit/index.js~describe129.describe137.describe138",
    "testDepth": 3,
    "longname": "unit/index.js~describe129.describe137.describe138.it139",
    "access": null,
    "description": "should return the value of the accessToken string in the hidden config object",
    "lineNumber": 68
  },
  {
    "__docId__": 490,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe140",
    "testId": 140,
    "memberof": "unit/index.js~describe129.describe137",
    "testDepth": 2,
    "longname": "unit/index.js~describe129.describe137.describe140",
    "access": null,
    "description": "setter",
    "lineNumber": 73
  },
  {
    "__docId__": 491,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it141",
    "testId": 141,
    "memberof": "unit/index.js~describe129.describe137.describe140",
    "testDepth": 3,
    "longname": "unit/index.js~describe129.describe137.describe140.it141",
    "access": null,
    "description": "should throw a TypeError if the passed-in value is not a string",
    "lineNumber": 74
  },
  {
    "__docId__": 492,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it142",
    "testId": 142,
    "memberof": "unit/index.js~describe129.describe137.describe140",
    "testDepth": 3,
    "longname": "unit/index.js~describe129.describe137.describe140.it142",
    "access": null,
    "description": "should set the internal access token to the supplied string",
    "lineNumber": 80
  },
  {
    "__docId__": 493,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it143",
    "testId": 143,
    "memberof": "unit/index.js~describe129.describe137.describe140",
    "testDepth": 3,
    "longname": "unit/index.js~describe129.describe137.describe140.it143",
    "access": null,
    "description": "should call the registered callback if one is set",
    "lineNumber": 86
  },
  {
    "__docId__": 494,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it144",
    "testId": 144,
    "memberof": "unit/index.js~describe129.describe137.describe140",
    "testDepth": 3,
    "longname": "unit/index.js~describe129.describe137.describe140.it144",
    "access": null,
    "description": "but only if the new token is different from the old",
    "lineNumber": 94
  },
  {
    "__docId__": 495,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe145",
    "testId": 145,
    "memberof": "unit/index.js~describe129",
    "testDepth": 1,
    "longname": "unit/index.js~describe129.describe145",
    "access": null,
    "description": "onAccessTokenChanged",
    "lineNumber": 105,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{NprOneSDK.onAccessTokenChanged}"
      }
    ],
    "testTargets": [
      "NprOneSDK.onAccessTokenChanged"
    ]
  },
  {
    "__docId__": 496,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe146",
    "testId": 146,
    "memberof": "unit/index.js~describe129.describe145",
    "testDepth": 2,
    "longname": "unit/index.js~describe129.describe145.describe146",
    "access": null,
    "description": "setter",
    "lineNumber": 106
  },
  {
    "__docId__": 497,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it147",
    "testId": 147,
    "memberof": "unit/index.js~describe129.describe145.describe146",
    "testDepth": 3,
    "longname": "unit/index.js~describe129.describe145.describe146.it147",
    "access": null,
    "description": "should throw a TypeError if the passed-in value is not a function",
    "lineNumber": 107
  },
  {
    "__docId__": 498,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe148",
    "testId": 148,
    "memberof": "unit/index.js~describe129",
    "testDepth": 1,
    "longname": "unit/index.js~describe129.describe148",
    "access": null,
    "description": "Action",
    "lineNumber": 117,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{NprOneSDK.Action}"
      }
    ],
    "testTargets": [
      "NprOneSDK.Action"
    ]
  },
  {
    "__docId__": 499,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it149",
    "testId": 149,
    "memberof": "unit/index.js~describe129.describe148",
    "testDepth": 2,
    "longname": "unit/index.js~describe129.describe148.it149",
    "access": null,
    "description": "should return the Action class",
    "lineNumber": 118
  },
  {
    "__docId__": 500,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe150",
    "testId": 150,
    "memberof": "unit/index.js~describe129",
    "testDepth": 1,
    "longname": "unit/index.js~describe129.describe150",
    "access": null,
    "description": "Logger",
    "lineNumber": 125,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{NprOneSDK.Logger}"
      }
    ],
    "testTargets": [
      "NprOneSDK.Logger"
    ]
  },
  {
    "__docId__": 501,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it151",
    "testId": 151,
    "memberof": "unit/index.js~describe129.describe150",
    "testDepth": 2,
    "longname": "unit/index.js~describe129.describe150.it151",
    "access": null,
    "description": "should return the Logger class",
    "lineNumber": 126
  },
  {
    "__docId__": 502,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe152",
    "testId": 152,
    "memberof": "unit/index.js~describe129",
    "testDepth": 1,
    "longname": "unit/index.js~describe129.describe152",
    "access": null,
    "description": "refreshExistingAccessToken",
    "lineNumber": 133,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{NprOneSDK.refreshExistingAccessToken}"
      }
    ],
    "testTargets": [
      "NprOneSDK.refreshExistingAccessToken"
    ]
  },
  {
    "__docId__": 503,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it153",
    "testId": 153,
    "memberof": "unit/index.js~describe129.describe152",
    "testDepth": 2,
    "longname": "unit/index.js~describe129.describe152.it153",
    "access": null,
    "description": "should call the correct service controller method",
    "lineNumber": 138
  },
  {
    "__docId__": 504,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it154",
    "testId": 154,
    "memberof": "unit/index.js~describe129.describe152",
    "testDepth": 2,
    "longname": "unit/index.js~describe129.describe152.it154",
    "access": null,
    "description": "should call the correct service controller method with non-default param values",
    "lineNumber": 144
  },
  {
    "__docId__": 505,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe155",
    "testId": 155,
    "memberof": "unit/index.js~describe129",
    "testDepth": 1,
    "longname": "unit/index.js~describe129.describe155",
    "access": null,
    "description": "logout",
    "lineNumber": 153,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{NprOneSDK#logout}"
      }
    ],
    "testTargets": [
      "NprOneSDK#logout"
    ]
  },
  {
    "__docId__": 506,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it156",
    "testId": 156,
    "memberof": "unit/index.js~describe129.describe155",
    "testDepth": 2,
    "longname": "unit/index.js~describe129.describe155.it156",
    "access": null,
    "description": "should call the correct service controller method",
    "lineNumber": 154
  },
  {
    "__docId__": 507,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe157",
    "testId": 157,
    "memberof": "unit/index.js~describe129",
    "testDepth": 1,
    "longname": "unit/index.js~describe129.describe157",
    "access": null,
    "description": "getDeviceCode",
    "lineNumber": 163,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{NprOneSDK#getDeviceCode}"
      }
    ],
    "testTargets": [
      "NprOneSDK#getDeviceCode"
    ]
  },
  {
    "__docId__": 508,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it158",
    "testId": 158,
    "memberof": "unit/index.js~describe129.describe157",
    "testDepth": 2,
    "longname": "unit/index.js~describe129.describe157.it158",
    "access": null,
    "description": "should call the correct service controller method",
    "lineNumber": 164
  },
  {
    "__docId__": 509,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it159",
    "testId": 159,
    "memberof": "unit/index.js~describe129.describe157",
    "testDepth": 2,
    "longname": "unit/index.js~describe129.describe157.it159",
    "access": null,
    "description": "should call the correct service controller method with non-default param values",
    "lineNumber": 170
  },
  {
    "__docId__": 510,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe160",
    "testId": 160,
    "memberof": "unit/index.js~describe129",
    "testDepth": 1,
    "longname": "unit/index.js~describe129.describe160",
    "access": null,
    "description": "pollDeviceCode",
    "lineNumber": 179,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{NprOneSDK#pollDeviceCode}"
      }
    ],
    "testTargets": [
      "NprOneSDK#pollDeviceCode"
    ]
  },
  {
    "__docId__": 511,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it161",
    "testId": 161,
    "memberof": "unit/index.js~describe129.describe160",
    "testDepth": 2,
    "longname": "unit/index.js~describe129.describe160.it161",
    "access": null,
    "description": "should call the correct service controller method",
    "lineNumber": 180
  },
  {
    "__docId__": 512,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe162",
    "testId": 162,
    "memberof": "unit/index.js~describe129",
    "testDepth": 1,
    "longname": "unit/index.js~describe129.describe162",
    "access": null,
    "description": "getRecommendation",
    "lineNumber": 189,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{NprOneSDK#getRecommendation}"
      }
    ],
    "testTargets": [
      "NprOneSDK#getRecommendation"
    ]
  },
  {
    "__docId__": 513,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it163",
    "testId": 163,
    "memberof": "unit/index.js~describe129.describe162",
    "testDepth": 2,
    "longname": "unit/index.js~describe129.describe162.it163",
    "access": null,
    "description": "should call the correct service controller method",
    "lineNumber": 190
  },
  {
    "__docId__": 514,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it164",
    "testId": 164,
    "memberof": "unit/index.js~describe129.describe162",
    "testDepth": 2,
    "longname": "unit/index.js~describe129.describe162.it164",
    "access": null,
    "description": "should call the correct service controller method with non-default param values",
    "lineNumber": 196
  },
  {
    "__docId__": 515,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it165",
    "testId": 165,
    "memberof": "unit/index.js~describe129.describe162",
    "testDepth": 2,
    "longname": "unit/index.js~describe129.describe162.it165",
    "access": null,
    "description": "should call the correct service controller method with non-default param values",
    "lineNumber": 202
  },
  {
    "__docId__": 516,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe166",
    "testId": 166,
    "memberof": "unit/index.js~describe129",
    "testDepth": 1,
    "longname": "unit/index.js~describe129.describe166",
    "access": null,
    "description": "getUpcomingFlowRecommendations",
    "lineNumber": 211,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{NprOneSDK#getUpcomingFlowRecommendations}"
      }
    ],
    "testTargets": [
      "NprOneSDK#getUpcomingFlowRecommendations"
    ]
  },
  {
    "__docId__": 517,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it167",
    "testId": 167,
    "memberof": "unit/index.js~describe129.describe166",
    "testDepth": 2,
    "longname": "unit/index.js~describe129.describe166.it167",
    "access": null,
    "description": "should call the correct service controller method",
    "lineNumber": 212
  },
  {
    "__docId__": 518,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it168",
    "testId": 168,
    "memberof": "unit/index.js~describe129.describe166",
    "testDepth": 2,
    "longname": "unit/index.js~describe129.describe166.it168",
    "access": null,
    "description": "should call the correct service controller method with non-default param values",
    "lineNumber": 218
  },
  {
    "__docId__": 519,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe169",
    "testId": 169,
    "memberof": "unit/index.js~describe129",
    "testDepth": 1,
    "longname": "unit/index.js~describe129.describe169",
    "access": null,
    "description": "getRecommendationsFromChannel",
    "lineNumber": 227,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{NprOneSDK#getRecommendationsFromChannel}"
      }
    ],
    "testTargets": [
      "NprOneSDK#getRecommendationsFromChannel"
    ]
  },
  {
    "__docId__": 520,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it170",
    "testId": 170,
    "memberof": "unit/index.js~describe129.describe169",
    "testDepth": 2,
    "longname": "unit/index.js~describe129.describe169.it170",
    "access": null,
    "description": "should call the correct service controller method",
    "lineNumber": 228
  },
  {
    "__docId__": 521,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it171",
    "testId": 171,
    "memberof": "unit/index.js~describe129.describe169",
    "testDepth": 2,
    "longname": "unit/index.js~describe129.describe169.it171",
    "access": null,
    "description": "should call the correct service controller method with non-default param values",
    "lineNumber": 234
  },
  {
    "__docId__": 522,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe172",
    "testId": 172,
    "memberof": "unit/index.js~describe129",
    "testDepth": 1,
    "longname": "unit/index.js~describe129.describe172",
    "access": null,
    "description": "queueRecommendationFromChannel",
    "lineNumber": 243,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{NprOneSDK#queueRecommendationFromChannel}"
      }
    ],
    "testTargets": [
      "NprOneSDK#queueRecommendationFromChannel"
    ]
  },
  {
    "__docId__": 523,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it173",
    "testId": 173,
    "memberof": "unit/index.js~describe129.describe172",
    "testDepth": 2,
    "longname": "unit/index.js~describe129.describe172.it173",
    "access": null,
    "description": "should call the correct service controller method",
    "lineNumber": 244
  },
  {
    "__docId__": 524,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe174",
    "testId": 174,
    "memberof": "unit/index.js~describe129",
    "testDepth": 1,
    "longname": "unit/index.js~describe129.describe174",
    "access": null,
    "description": "getHistory",
    "lineNumber": 253,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{NprOneSDK#getHistory}"
      }
    ],
    "testTargets": [
      "NprOneSDK#getHistory"
    ]
  },
  {
    "__docId__": 525,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it175",
    "testId": 175,
    "memberof": "unit/index.js~describe129.describe174",
    "testDepth": 2,
    "longname": "unit/index.js~describe129.describe174.it175",
    "access": null,
    "description": "should call the correct service controller method",
    "lineNumber": 254
  },
  {
    "__docId__": 526,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe176",
    "testId": 176,
    "memberof": "unit/index.js~describe129",
    "testDepth": 1,
    "longname": "unit/index.js~describe129.describe176",
    "access": null,
    "description": "resetFlow",
    "lineNumber": 263,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{NprOneSDK#resetFlow}"
      }
    ],
    "testTargets": [
      "NprOneSDK#resetFlow"
    ]
  },
  {
    "__docId__": 527,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it177",
    "testId": 177,
    "memberof": "unit/index.js~describe129.describe176",
    "testDepth": 2,
    "longname": "unit/index.js~describe129.describe176.it177",
    "access": null,
    "description": "should call the correct service controller method",
    "lineNumber": 264
  },
  {
    "__docId__": 528,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe178",
    "testId": 178,
    "memberof": "unit/index.js~describe129",
    "testDepth": 1,
    "longname": "unit/index.js~describe129.describe178",
    "access": null,
    "description": "resumeFlowFromRecommendation",
    "lineNumber": 273,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{NprOneSDK#resumeFlowFromRecommendation}"
      }
    ],
    "testTargets": [
      "NprOneSDK#resumeFlowFromRecommendation"
    ]
  },
  {
    "__docId__": 529,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it179",
    "testId": 179,
    "memberof": "unit/index.js~describe129.describe178",
    "testDepth": 2,
    "longname": "unit/index.js~describe129.describe178.it179",
    "access": null,
    "description": "should call the correct service controller method",
    "lineNumber": 274
  },
  {
    "__docId__": 530,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe180",
    "testId": 180,
    "memberof": "unit/index.js~describe129",
    "testDepth": 1,
    "longname": "unit/index.js~describe129.describe180",
    "access": null,
    "description": "getUser",
    "lineNumber": 282,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{NprOneSDK#getUser}"
      }
    ],
    "testTargets": [
      "NprOneSDK#getUser"
    ]
  },
  {
    "__docId__": 531,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it181",
    "testId": 181,
    "memberof": "unit/index.js~describe129.describe180",
    "testDepth": 2,
    "longname": "unit/index.js~describe129.describe180.it181",
    "access": null,
    "description": "should call the correct service controller method",
    "lineNumber": 283
  },
  {
    "__docId__": 532,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe182",
    "testId": 182,
    "memberof": "unit/index.js~describe129",
    "testDepth": 1,
    "longname": "unit/index.js~describe129.describe182",
    "access": null,
    "description": "setUserStation",
    "lineNumber": 292,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{NprOneSDK#setUserStation}"
      }
    ],
    "testTargets": [
      "NprOneSDK#setUserStation"
    ]
  },
  {
    "__docId__": 533,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it183",
    "testId": 183,
    "memberof": "unit/index.js~describe129.describe182",
    "testDepth": 2,
    "longname": "unit/index.js~describe129.describe182.it183",
    "access": null,
    "description": "should call the correct service controller method",
    "lineNumber": 293
  },
  {
    "__docId__": 534,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe184",
    "testId": 184,
    "memberof": "unit/index.js~describe129",
    "testDepth": 1,
    "longname": "unit/index.js~describe129.describe184",
    "access": null,
    "description": "followShow",
    "lineNumber": 302,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{NprOneSDK#followShow}"
      }
    ],
    "testTargets": [
      "NprOneSDK#followShow"
    ]
  },
  {
    "__docId__": 535,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it185",
    "testId": 185,
    "memberof": "unit/index.js~describe129.describe184",
    "testDepth": 2,
    "longname": "unit/index.js~describe129.describe184.it185",
    "access": null,
    "description": "should call the correct service controller method",
    "lineNumber": 303
  },
  {
    "__docId__": 536,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe186",
    "testId": 186,
    "memberof": "unit/index.js~describe129",
    "testDepth": 1,
    "longname": "unit/index.js~describe129.describe186",
    "access": null,
    "description": "unfollowShow",
    "lineNumber": 312,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{NprOneSDK#unfollowShow}"
      }
    ],
    "testTargets": [
      "NprOneSDK#unfollowShow"
    ]
  },
  {
    "__docId__": 537,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it187",
    "testId": 187,
    "memberof": "unit/index.js~describe129.describe186",
    "testDepth": 2,
    "longname": "unit/index.js~describe129.describe186.it187",
    "access": null,
    "description": "should call the correct service controller method",
    "lineNumber": 313
  },
  {
    "__docId__": 538,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe188",
    "testId": 188,
    "memberof": "unit/index.js~describe129",
    "testDepth": 1,
    "longname": "unit/index.js~describe129.describe188",
    "access": null,
    "description": "createTemporaryUser",
    "lineNumber": 322,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{NprOneSDK#createTemporaryUser}"
      }
    ],
    "testTargets": [
      "NprOneSDK#createTemporaryUser"
    ]
  },
  {
    "__docId__": 539,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it189",
    "testId": 189,
    "memberof": "unit/index.js~describe129.describe188",
    "testDepth": 2,
    "longname": "unit/index.js~describe129.describe188.it189",
    "access": null,
    "description": "should call the correct service controller method",
    "lineNumber": 323
  },
  {
    "__docId__": 540,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe190",
    "testId": 190,
    "memberof": "unit/index.js~describe129",
    "testDepth": 1,
    "longname": "unit/index.js~describe129.describe190",
    "access": null,
    "description": "searchStations",
    "lineNumber": 332,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{NprOneSDK#searchStations}"
      }
    ],
    "testTargets": [
      "NprOneSDK#searchStations"
    ]
  },
  {
    "__docId__": 541,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it191",
    "testId": 191,
    "memberof": "unit/index.js~describe129.describe190",
    "testDepth": 2,
    "longname": "unit/index.js~describe129.describe190.it191",
    "access": null,
    "description": "should call the correct service controller method",
    "lineNumber": 333
  },
  {
    "__docId__": 542,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it192",
    "testId": 192,
    "memberof": "unit/index.js~describe129.describe190",
    "testDepth": 2,
    "longname": "unit/index.js~describe129.describe190.it192",
    "access": null,
    "description": "should call the correct service controller method with non-default param values",
    "lineNumber": 339
  },
  {
    "__docId__": 543,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe193",
    "testId": 193,
    "memberof": "unit/index.js~describe129",
    "testDepth": 1,
    "longname": "unit/index.js~describe129.describe193",
    "access": null,
    "description": "searchStationsByLatLongCoordinates",
    "lineNumber": 348,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{NprOneSDK#searchStationsByLatLongCoordinates}"
      }
    ],
    "testTargets": [
      "NprOneSDK#searchStationsByLatLongCoordinates"
    ]
  },
  {
    "__docId__": 544,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it194",
    "testId": 194,
    "memberof": "unit/index.js~describe129.describe193",
    "testDepth": 2,
    "longname": "unit/index.js~describe129.describe193.it194",
    "access": null,
    "description": "should call the correct service controller method",
    "lineNumber": 349
  },
  {
    "__docId__": 545,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe195",
    "testId": 195,
    "memberof": "unit/index.js~describe129",
    "testDepth": 1,
    "longname": "unit/index.js~describe129.describe195",
    "access": null,
    "description": "searchStationsByCityAndState",
    "lineNumber": 358,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{NprOneSDK#searchStationsByCityAndState}"
      }
    ],
    "testTargets": [
      "NprOneSDK#searchStationsByCityAndState"
    ]
  },
  {
    "__docId__": 546,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it196",
    "testId": 196,
    "memberof": "unit/index.js~describe129.describe195",
    "testDepth": 2,
    "longname": "unit/index.js~describe129.describe195.it196",
    "access": null,
    "description": "should call the correct service controller method",
    "lineNumber": 359
  },
  {
    "__docId__": 547,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe197",
    "testId": 197,
    "memberof": "unit/index.js~describe129",
    "testDepth": 1,
    "longname": "unit/index.js~describe129.describe197",
    "access": null,
    "description": "searchStationsByCity",
    "lineNumber": 368,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{NprOneSDK#searchStationsByCity}"
      }
    ],
    "testTargets": [
      "NprOneSDK#searchStationsByCity"
    ]
  },
  {
    "__docId__": 548,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it198",
    "testId": 198,
    "memberof": "unit/index.js~describe129.describe197",
    "testDepth": 2,
    "longname": "unit/index.js~describe129.describe197.it198",
    "access": null,
    "description": "should call the correct service controller method",
    "lineNumber": 369
  },
  {
    "__docId__": 549,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe199",
    "testId": 199,
    "memberof": "unit/index.js~describe129",
    "testDepth": 1,
    "longname": "unit/index.js~describe129.describe199",
    "access": null,
    "description": "searchStationsByState",
    "lineNumber": 378,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{NprOneSDK#searchStationsByState}"
      }
    ],
    "testTargets": [
      "NprOneSDK#searchStationsByState"
    ]
  },
  {
    "__docId__": 550,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it200",
    "testId": 200,
    "memberof": "unit/index.js~describe129.describe199",
    "testDepth": 2,
    "longname": "unit/index.js~describe129.describe199.it200",
    "access": null,
    "description": "should call the correct service controller method",
    "lineNumber": 379
  },
  {
    "__docId__": 551,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe201",
    "testId": 201,
    "memberof": "unit/index.js~describe129",
    "testDepth": 1,
    "longname": "unit/index.js~describe129.describe201",
    "access": null,
    "description": "getStationDetails",
    "lineNumber": 388,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{NprOneSDK#getStationDetails}"
      }
    ],
    "testTargets": [
      "NprOneSDK#getStationDetails"
    ]
  },
  {
    "__docId__": 552,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it202",
    "testId": 202,
    "memberof": "unit/index.js~describe129.describe201",
    "testDepth": 2,
    "longname": "unit/index.js~describe129.describe201.it202",
    "access": null,
    "description": "should call the correct service controller method",
    "lineNumber": 389
  },
  {
    "__docId__": 553,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe203",
    "testId": 203,
    "memberof": "unit/index.js~describe129",
    "testDepth": 1,
    "longname": "unit/index.js~describe129.describe203",
    "access": null,
    "description": "getServiceUrl",
    "lineNumber": 398,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{NprOneSDK.getServiceUrl}"
      }
    ],
    "testTargets": [
      "NprOneSDK.getServiceUrl"
    ]
  },
  {
    "__docId__": 554,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it204",
    "testId": 204,
    "memberof": "unit/index.js~describe129.describe203",
    "testDepth": 2,
    "longname": "unit/index.js~describe129.describe203.it204",
    "access": null,
    "description": "should return the correct API service url",
    "lineNumber": 399
  },
  {
    "__docId__": 555,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it205",
    "testId": 205,
    "memberof": "unit/index.js~describe129.describe203",
    "testDepth": 2,
    "longname": "unit/index.js~describe129.describe203.it205",
    "access": null,
    "description": "should throw if an invalid service name is specified",
    "lineNumber": 404
  },
  {
    "__docId__": 556,
    "kind": "testFile",
    "static": true,
    "variation": null,
    "name": "unit/model/access-token.js",
    "memberof": null,
    "longname": "unit/model/access-token.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import chai from 'chai';\nimport AccessToken from '../../../src/model/access-token';\nimport { ACCESS_TOKEN_RESPONSE } from '../../test-data';\n\n\nconst should = chai.should();\n\n\n/** @test {AccessToken} */\ndescribe('AccessToken', () => {\n    /** @type AccessToken */\n    let accessToken;\n    let responseClone;\n\n\n    beforeEach(() => {\n        responseClone = JSON.parse(JSON.stringify(ACCESS_TOKEN_RESPONSE));\n        accessToken = new AccessToken(responseClone);\n    });\n\n\n    /** @test {AccessToken#constructor} */\n    describe('constructor', () => {\n        it('should not set an expiry date if expires_in is NaN', () => {\n            responseClone = JSON.parse(JSON.stringify(ACCESS_TOKEN_RESPONSE));\n            responseClone.expires_in = 'bad_value';\n            const noExpiryAccessToken = new AccessToken(responseClone);\n\n            chai.expect(noExpiryAccessToken._expiryDate).to.be.null;\n        });\n    });\n\n\n    /** @test {AccessToken#validate} */\n    describe('validate', () => {\n        it('should not throw an error on valid input', () => {\n            should.not.exist(accessToken.validate());\n        });\n    });\n\n\n    /** @test {AccessToken#isExpired} */\n    describe('isExpired', () => {\n        it('should not be expired for test data token', () => {\n            accessToken.isExpired().should.be.false;\n        });\n\n        it('should be expired if the expires_in time is in the past', () => {\n            responseClone = JSON.parse(JSON.stringify(ACCESS_TOKEN_RESPONSE));\n            responseClone.expires_in = 0;\n            const expiredAccessToken = new AccessToken(responseClone);\n\n            expiredAccessToken.isExpired().should.be.true;\n        });\n    });\n\n\n    /** @test {AccessToken.token} */\n    describe('token', () => {\n        it('should match the \"access_token\" value from the API response', () => {\n            accessToken.token.should.equal(responseClone.access_token);\n        });\n    });\n\n\n    /** @test {AccessToken.ttl} */\n    describe('ttl', () => {\n        it('should convert the \"expires_in\" value from the API response (which is in seconds) to milliseconds', () => {\n            accessToken.ttl.should.equal(responseClone.expires_in * 1000);\n        });\n    });\n\n\n    /** @test {AccessToken#toString} */\n    describe('toString', () => {\n        it('should match the \"access_token\" value from the API response', () => {\n            accessToken.toString().should.equal(responseClone.access_token);\n        });\n    });\n});\n"
  },
  {
    "__docId__": 557,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe206",
    "testId": 206,
    "memberof": "unit/model/access-token.js",
    "testDepth": 0,
    "longname": "unit/model/access-token.js~describe206",
    "access": null,
    "description": "AccessToken",
    "lineNumber": 10,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{AccessToken}"
      }
    ],
    "testTargets": [
      "AccessToken"
    ]
  },
  {
    "__docId__": 558,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe207",
    "testId": 207,
    "memberof": "unit/model/access-token.js~describe206",
    "testDepth": 1,
    "longname": "unit/model/access-token.js~describe206.describe207",
    "access": null,
    "description": "constructor",
    "lineNumber": 23,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{AccessToken#constructor}"
      }
    ],
    "testTargets": [
      "AccessToken#constructor"
    ]
  },
  {
    "__docId__": 559,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it208",
    "testId": 208,
    "memberof": "unit/model/access-token.js~describe206.describe207",
    "testDepth": 2,
    "longname": "unit/model/access-token.js~describe206.describe207.it208",
    "access": null,
    "description": "should not set an expiry date if expires_in is NaN",
    "lineNumber": 24
  },
  {
    "__docId__": 560,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe209",
    "testId": 209,
    "memberof": "unit/model/access-token.js~describe206",
    "testDepth": 1,
    "longname": "unit/model/access-token.js~describe206.describe209",
    "access": null,
    "description": "validate",
    "lineNumber": 35,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{AccessToken#validate}"
      }
    ],
    "testTargets": [
      "AccessToken#validate"
    ]
  },
  {
    "__docId__": 561,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it210",
    "testId": 210,
    "memberof": "unit/model/access-token.js~describe206.describe209",
    "testDepth": 2,
    "longname": "unit/model/access-token.js~describe206.describe209.it210",
    "access": null,
    "description": "should not throw an error on valid input",
    "lineNumber": 36
  },
  {
    "__docId__": 562,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe211",
    "testId": 211,
    "memberof": "unit/model/access-token.js~describe206",
    "testDepth": 1,
    "longname": "unit/model/access-token.js~describe206.describe211",
    "access": null,
    "description": "isExpired",
    "lineNumber": 43,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{AccessToken#isExpired}"
      }
    ],
    "testTargets": [
      "AccessToken#isExpired"
    ]
  },
  {
    "__docId__": 563,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it212",
    "testId": 212,
    "memberof": "unit/model/access-token.js~describe206.describe211",
    "testDepth": 2,
    "longname": "unit/model/access-token.js~describe206.describe211.it212",
    "access": null,
    "description": "should not be expired for test data token",
    "lineNumber": 44
  },
  {
    "__docId__": 564,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it213",
    "testId": 213,
    "memberof": "unit/model/access-token.js~describe206.describe211",
    "testDepth": 2,
    "longname": "unit/model/access-token.js~describe206.describe211.it213",
    "access": null,
    "description": "should be expired if the expires_in time is in the past",
    "lineNumber": 48
  },
  {
    "__docId__": 565,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe214",
    "testId": 214,
    "memberof": "unit/model/access-token.js~describe206",
    "testDepth": 1,
    "longname": "unit/model/access-token.js~describe206.describe214",
    "access": null,
    "description": "token",
    "lineNumber": 59,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{AccessToken.token}"
      }
    ],
    "testTargets": [
      "AccessToken.token"
    ]
  },
  {
    "__docId__": 566,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it215",
    "testId": 215,
    "memberof": "unit/model/access-token.js~describe206.describe214",
    "testDepth": 2,
    "longname": "unit/model/access-token.js~describe206.describe214.it215",
    "access": null,
    "description": "should match the \"access_token\" value from the API response",
    "lineNumber": 60
  },
  {
    "__docId__": 567,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe216",
    "testId": 216,
    "memberof": "unit/model/access-token.js~describe206",
    "testDepth": 1,
    "longname": "unit/model/access-token.js~describe206.describe216",
    "access": null,
    "description": "ttl",
    "lineNumber": 67,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{AccessToken.ttl}"
      }
    ],
    "testTargets": [
      "AccessToken.ttl"
    ]
  },
  {
    "__docId__": 568,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it217",
    "testId": 217,
    "memberof": "unit/model/access-token.js~describe206.describe216",
    "testDepth": 2,
    "longname": "unit/model/access-token.js~describe206.describe216.it217",
    "access": null,
    "description": "should convert the \"expires_in\" value from the API response (which is in seconds) to milliseconds",
    "lineNumber": 68
  },
  {
    "__docId__": 569,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe218",
    "testId": 218,
    "memberof": "unit/model/access-token.js~describe206",
    "testDepth": 1,
    "longname": "unit/model/access-token.js~describe206.describe218",
    "access": null,
    "description": "toString",
    "lineNumber": 75,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{AccessToken#toString}"
      }
    ],
    "testTargets": [
      "AccessToken#toString"
    ]
  },
  {
    "__docId__": 570,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it219",
    "testId": 219,
    "memberof": "unit/model/access-token.js~describe206.describe218",
    "testDepth": 2,
    "longname": "unit/model/access-token.js~describe206.describe218.it219",
    "access": null,
    "description": "should match the \"access_token\" value from the API response",
    "lineNumber": 76
  },
  {
    "__docId__": 571,
    "kind": "testFile",
    "static": true,
    "variation": null,
    "name": "unit/model/action.js",
    "memberof": null,
    "longname": "unit/model/action.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import Action from '../../../src/model/action';\n\n/** @test {Action} */\ndescribe('Action', () => {\n    /** @test {Action.COMPLETED} */\n    describe('COMPLETED', () => {\n        it('should exist', () => {\n            Action.COMPLETED.should.equal('COMPLETED');\n        });\n    });\n\n    /** @test {Action.PASS} */\n    describe('PASS', () => {\n        it('should exist', () => {\n            Action.PASS.should.equal('PASS');\n        });\n    });\n\n    /** @test {Action.SHARE} */\n    describe('SHARE', () => {\n        it('should exist', () => {\n            Action.SHARE.should.equal('SHARE');\n        });\n    });\n\n    /** @test {Action.SKIP} */\n    describe('SKIP', () => {\n        it('should exist', () => {\n            Action.SKIP.should.equal('SKIP');\n        });\n    });\n\n    /** @test {Action.SRCHCOMPL} */\n    describe('SRCHCOMPL', () => {\n        it('should exist', () => {\n            Action.SRCHCOMPL.should.equal('SRCHCOMPL');\n        });\n    });\n\n    /** @test {Action.SRCHSTART} */\n    describe('SRCHSTART', () => {\n        it('should exist', () => {\n            Action.SRCHSTART.should.equal('SRCHSTART');\n        });\n    });\n\n    /** @test {Action.START} */\n    describe('START', () => {\n        it('should exist', () => {\n            Action.START.should.equal('START');\n        });\n    });\n\n    /** @test {Action.TAPTHRU} */\n    describe('TAPTHRU', () => {\n        it('should exist', () => {\n            Action.TAPTHRU.should.equal('TAPTHRU');\n        });\n    });\n\n    /** @test {Action.THUMBUP} */\n    describe('THUMBUP', () => {\n        it('should exist', () => {\n            Action.THUMBUP.should.equal('THUMBUP');\n        });\n    });\n\n    /** @test {Action.TIMEOUT} */\n    describe('TIMEOUT', () => {\n        it('should exist', () => {\n            Action.TIMEOUT.should.equal('TIMEOUT');\n        });\n    });\n\n    /** @test {Action.getEndActions} */\n    describe('getEndActions', () => {\n        it('should include what is specified', () => {\n            Action.getEndActions().should.contain('COMPLETED');\n        });\n    });\n\n    /** @test {Action.getFlowAdvancingActions} */\n    describe('getFlowAdvancingActions', () => {\n        it('should include what is specified', () => {\n            Action.getFlowAdvancingActions().should.contain('START');\n        });\n    });\n\n    /** @test {Action.isValidAction} */\n    describe('isValidAction', () => {\n        it('should be true for valid actions', () => {\n            Action.isValidAction('START').should.be.true;\n        });\n\n        it('should be false for invalid actions', () => {\n            Action.isValidAction('BADSTART').should.be.false;\n        });\n    });\n});\n"
  },
  {
    "__docId__": 572,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe220",
    "testId": 220,
    "memberof": "unit/model/action.js",
    "testDepth": 0,
    "longname": "unit/model/action.js~describe220",
    "access": null,
    "description": "Action",
    "lineNumber": 4,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Action}"
      }
    ],
    "testTargets": [
      "Action"
    ]
  },
  {
    "__docId__": 573,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe221",
    "testId": 221,
    "memberof": "unit/model/action.js~describe220",
    "testDepth": 1,
    "longname": "unit/model/action.js~describe220.describe221",
    "access": null,
    "description": "COMPLETED",
    "lineNumber": 6,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Action.COMPLETED}"
      }
    ],
    "testTargets": [
      "Action.COMPLETED"
    ]
  },
  {
    "__docId__": 574,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it222",
    "testId": 222,
    "memberof": "unit/model/action.js~describe220.describe221",
    "testDepth": 2,
    "longname": "unit/model/action.js~describe220.describe221.it222",
    "access": null,
    "description": "should exist",
    "lineNumber": 7
  },
  {
    "__docId__": 575,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe223",
    "testId": 223,
    "memberof": "unit/model/action.js~describe220",
    "testDepth": 1,
    "longname": "unit/model/action.js~describe220.describe223",
    "access": null,
    "description": "PASS",
    "lineNumber": 13,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Action.PASS}"
      }
    ],
    "testTargets": [
      "Action.PASS"
    ]
  },
  {
    "__docId__": 576,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it224",
    "testId": 224,
    "memberof": "unit/model/action.js~describe220.describe223",
    "testDepth": 2,
    "longname": "unit/model/action.js~describe220.describe223.it224",
    "access": null,
    "description": "should exist",
    "lineNumber": 14
  },
  {
    "__docId__": 577,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe225",
    "testId": 225,
    "memberof": "unit/model/action.js~describe220",
    "testDepth": 1,
    "longname": "unit/model/action.js~describe220.describe225",
    "access": null,
    "description": "SHARE",
    "lineNumber": 20,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Action.SHARE}"
      }
    ],
    "testTargets": [
      "Action.SHARE"
    ]
  },
  {
    "__docId__": 578,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it226",
    "testId": 226,
    "memberof": "unit/model/action.js~describe220.describe225",
    "testDepth": 2,
    "longname": "unit/model/action.js~describe220.describe225.it226",
    "access": null,
    "description": "should exist",
    "lineNumber": 21
  },
  {
    "__docId__": 579,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe227",
    "testId": 227,
    "memberof": "unit/model/action.js~describe220",
    "testDepth": 1,
    "longname": "unit/model/action.js~describe220.describe227",
    "access": null,
    "description": "SKIP",
    "lineNumber": 27,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Action.SKIP}"
      }
    ],
    "testTargets": [
      "Action.SKIP"
    ]
  },
  {
    "__docId__": 580,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it228",
    "testId": 228,
    "memberof": "unit/model/action.js~describe220.describe227",
    "testDepth": 2,
    "longname": "unit/model/action.js~describe220.describe227.it228",
    "access": null,
    "description": "should exist",
    "lineNumber": 28
  },
  {
    "__docId__": 581,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe229",
    "testId": 229,
    "memberof": "unit/model/action.js~describe220",
    "testDepth": 1,
    "longname": "unit/model/action.js~describe220.describe229",
    "access": null,
    "description": "SRCHCOMPL",
    "lineNumber": 34,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Action.SRCHCOMPL}"
      }
    ],
    "testTargets": [
      "Action.SRCHCOMPL"
    ]
  },
  {
    "__docId__": 582,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it230",
    "testId": 230,
    "memberof": "unit/model/action.js~describe220.describe229",
    "testDepth": 2,
    "longname": "unit/model/action.js~describe220.describe229.it230",
    "access": null,
    "description": "should exist",
    "lineNumber": 35
  },
  {
    "__docId__": 583,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe231",
    "testId": 231,
    "memberof": "unit/model/action.js~describe220",
    "testDepth": 1,
    "longname": "unit/model/action.js~describe220.describe231",
    "access": null,
    "description": "SRCHSTART",
    "lineNumber": 41,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Action.SRCHSTART}"
      }
    ],
    "testTargets": [
      "Action.SRCHSTART"
    ]
  },
  {
    "__docId__": 584,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it232",
    "testId": 232,
    "memberof": "unit/model/action.js~describe220.describe231",
    "testDepth": 2,
    "longname": "unit/model/action.js~describe220.describe231.it232",
    "access": null,
    "description": "should exist",
    "lineNumber": 42
  },
  {
    "__docId__": 585,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe233",
    "testId": 233,
    "memberof": "unit/model/action.js~describe220",
    "testDepth": 1,
    "longname": "unit/model/action.js~describe220.describe233",
    "access": null,
    "description": "START",
    "lineNumber": 48,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Action.START}"
      }
    ],
    "testTargets": [
      "Action.START"
    ]
  },
  {
    "__docId__": 586,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it234",
    "testId": 234,
    "memberof": "unit/model/action.js~describe220.describe233",
    "testDepth": 2,
    "longname": "unit/model/action.js~describe220.describe233.it234",
    "access": null,
    "description": "should exist",
    "lineNumber": 49
  },
  {
    "__docId__": 587,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe235",
    "testId": 235,
    "memberof": "unit/model/action.js~describe220",
    "testDepth": 1,
    "longname": "unit/model/action.js~describe220.describe235",
    "access": null,
    "description": "TAPTHRU",
    "lineNumber": 55,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Action.TAPTHRU}"
      }
    ],
    "testTargets": [
      "Action.TAPTHRU"
    ]
  },
  {
    "__docId__": 588,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it236",
    "testId": 236,
    "memberof": "unit/model/action.js~describe220.describe235",
    "testDepth": 2,
    "longname": "unit/model/action.js~describe220.describe235.it236",
    "access": null,
    "description": "should exist",
    "lineNumber": 56
  },
  {
    "__docId__": 589,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe237",
    "testId": 237,
    "memberof": "unit/model/action.js~describe220",
    "testDepth": 1,
    "longname": "unit/model/action.js~describe220.describe237",
    "access": null,
    "description": "THUMBUP",
    "lineNumber": 62,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Action.THUMBUP}"
      }
    ],
    "testTargets": [
      "Action.THUMBUP"
    ]
  },
  {
    "__docId__": 590,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it238",
    "testId": 238,
    "memberof": "unit/model/action.js~describe220.describe237",
    "testDepth": 2,
    "longname": "unit/model/action.js~describe220.describe237.it238",
    "access": null,
    "description": "should exist",
    "lineNumber": 63
  },
  {
    "__docId__": 591,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe239",
    "testId": 239,
    "memberof": "unit/model/action.js~describe220",
    "testDepth": 1,
    "longname": "unit/model/action.js~describe220.describe239",
    "access": null,
    "description": "TIMEOUT",
    "lineNumber": 69,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Action.TIMEOUT}"
      }
    ],
    "testTargets": [
      "Action.TIMEOUT"
    ]
  },
  {
    "__docId__": 592,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it240",
    "testId": 240,
    "memberof": "unit/model/action.js~describe220.describe239",
    "testDepth": 2,
    "longname": "unit/model/action.js~describe220.describe239.it240",
    "access": null,
    "description": "should exist",
    "lineNumber": 70
  },
  {
    "__docId__": 593,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe241",
    "testId": 241,
    "memberof": "unit/model/action.js~describe220",
    "testDepth": 1,
    "longname": "unit/model/action.js~describe220.describe241",
    "access": null,
    "description": "getEndActions",
    "lineNumber": 76,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Action.getEndActions}"
      }
    ],
    "testTargets": [
      "Action.getEndActions"
    ]
  },
  {
    "__docId__": 594,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it242",
    "testId": 242,
    "memberof": "unit/model/action.js~describe220.describe241",
    "testDepth": 2,
    "longname": "unit/model/action.js~describe220.describe241.it242",
    "access": null,
    "description": "should include what is specified",
    "lineNumber": 77
  },
  {
    "__docId__": 595,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe243",
    "testId": 243,
    "memberof": "unit/model/action.js~describe220",
    "testDepth": 1,
    "longname": "unit/model/action.js~describe220.describe243",
    "access": null,
    "description": "getFlowAdvancingActions",
    "lineNumber": 83,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Action.getFlowAdvancingActions}"
      }
    ],
    "testTargets": [
      "Action.getFlowAdvancingActions"
    ]
  },
  {
    "__docId__": 596,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it244",
    "testId": 244,
    "memberof": "unit/model/action.js~describe220.describe243",
    "testDepth": 2,
    "longname": "unit/model/action.js~describe220.describe243.it244",
    "access": null,
    "description": "should include what is specified",
    "lineNumber": 84
  },
  {
    "__docId__": 597,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe245",
    "testId": 245,
    "memberof": "unit/model/action.js~describe220",
    "testDepth": 1,
    "longname": "unit/model/action.js~describe220.describe245",
    "access": null,
    "description": "isValidAction",
    "lineNumber": 90,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Action.isValidAction}"
      }
    ],
    "testTargets": [
      "Action.isValidAction"
    ]
  },
  {
    "__docId__": 598,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it246",
    "testId": 246,
    "memberof": "unit/model/action.js~describe220.describe245",
    "testDepth": 2,
    "longname": "unit/model/action.js~describe220.describe245.it246",
    "access": null,
    "description": "should be true for valid actions",
    "lineNumber": 91
  },
  {
    "__docId__": 599,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it247",
    "testId": 247,
    "memberof": "unit/model/action.js~describe220.describe245",
    "testDepth": 2,
    "longname": "unit/model/action.js~describe220.describe245.it247",
    "access": null,
    "description": "should be false for invalid actions",
    "lineNumber": 95
  },
  {
    "__docId__": 600,
    "kind": "testFile",
    "static": true,
    "variation": null,
    "name": "unit/model/collection-doc.js",
    "memberof": null,
    "longname": "unit/model/collection-doc.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import CollectionDoc from '../../../src/model/collection-doc';\nimport { IDENTITY_V2_USER_RESPONSE } from '../../test-data';\n\n\n/** @test {CollectionDoc} */\ndescribe('CollectionDoc', () => {\n    /** @type CollectionDoc */\n    let collectionDoc;\n    let responseClone;\n\n    beforeEach(() => {\n        responseClone = JSON.parse(JSON.stringify(IDENTITY_V2_USER_RESPONSE));\n        collectionDoc = new CollectionDoc(responseClone);\n    });\n\n    /** @test {CollectionDoc#collectionDoc} */\n    describe('collectionDoc', () => {\n        it('should match the API response', () => {\n            collectionDoc.collectionDoc.should.equal(responseClone);\n        });\n    });\n});\n"
  },
  {
    "__docId__": 601,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe248",
    "testId": 248,
    "memberof": "unit/model/collection-doc.js",
    "testDepth": 0,
    "longname": "unit/model/collection-doc.js~describe248",
    "access": null,
    "description": "CollectionDoc",
    "lineNumber": 6,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{CollectionDoc}"
      }
    ],
    "testTargets": [
      "CollectionDoc"
    ]
  },
  {
    "__docId__": 602,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe249",
    "testId": 249,
    "memberof": "unit/model/collection-doc.js~describe248",
    "testDepth": 1,
    "longname": "unit/model/collection-doc.js~describe248.describe249",
    "access": null,
    "description": "collectionDoc",
    "lineNumber": 17,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{CollectionDoc#collectionDoc}"
      }
    ],
    "testTargets": [
      "CollectionDoc#collectionDoc"
    ]
  },
  {
    "__docId__": 603,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it250",
    "testId": 250,
    "memberof": "unit/model/collection-doc.js~describe248.describe249",
    "testDepth": 2,
    "longname": "unit/model/collection-doc.js~describe248.describe249.it250",
    "access": null,
    "description": "should match the API response",
    "lineNumber": 18
  },
  {
    "__docId__": 604,
    "kind": "testFile",
    "static": true,
    "variation": null,
    "name": "unit/model/device-code.js",
    "memberof": null,
    "longname": "unit/model/device-code.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import chai from 'chai';\nimport DeviceCode from '../../../src/model/device-code';\nimport { DEVICE_CODE_RESPONSE } from '../../test-data';\n\n\nconst should = chai.should();\n\n\n/** @test {DeviceCode} */\ndescribe('DeviceCode', () => {\n    /** @type DeviceCode */\n    let deviceCode;\n    let responseClone;\n\n\n    beforeEach(() => {\n        responseClone = JSON.parse(JSON.stringify(DEVICE_CODE_RESPONSE));\n        deviceCode = new DeviceCode(responseClone);\n    });\n\n\n    /** @test {DeviceCode#constructor} */\n    describe('constructor', () => {\n        it('should not set an expiry date if expires_in is NaN', () => {\n            responseClone = JSON.parse(JSON.stringify(DEVICE_CODE_RESPONSE));\n            responseClone.expires_in = 'bad_value';\n            const noExpiryDeviceCode = new DeviceCode(responseClone);\n\n            chai.expect(noExpiryDeviceCode._expiryDate).to.be.null;\n        });\n    });\n\n\n    /** @test {DeviceCode#validate} */\n    describe('validate', () => {\n        it('should not throw an error on valid input', () => {\n            should.not.exist(deviceCode.validate());\n        });\n    });\n\n\n    /** @test {DeviceCode#isExpired} */\n    describe('isExpired', () => {\n        it('should not be expired for test data token', () => {\n            deviceCode.isExpired().should.be.false;\n        });\n\n        it('should be expired if the expires_in time is in the past', () => {\n            responseClone = JSON.parse(JSON.stringify(DEVICE_CODE_RESPONSE));\n            responseClone.expires_in = 0;\n            const expiredDeviceCode = new DeviceCode(responseClone);\n\n            expiredDeviceCode.isExpired().should.be.true;\n        });\n    });\n\n\n    /** @test {DeviceCode.userCode} */\n    describe('userCode', () => {\n        it('should match the \"user_code\" value from the API response', () => {\n            deviceCode.userCode.should.equal(responseClone.user_code);\n        });\n    });\n\n\n    /** @test {DeviceCode.verificationUri} */\n    describe('verificationUri', () => {\n        it('should match the \"verification_uri\" value from the API response', () => {\n            deviceCode.verificationUri.should.equal(responseClone.verification_uri);\n        });\n    });\n\n\n    /** @test {DeviceCode.ttl} */\n    describe('ttl', () => {\n        it('should convert the \"expires_in\" value from the API response (which is in seconds) to milliseconds', () => {\n            deviceCode.ttl.should.equal(responseClone.expires_in * 1000);\n        });\n    });\n\n\n    /** @test {DeviceCode.interval} */\n    describe('interval', () => {\n        it('should convert the \"interval\" value from the API response (which is in seconds) to milliseconds', () => {\n            deviceCode.interval.should.equal(responseClone.interval * 1000);\n        });\n    });\n\n\n    /** @test {DeviceCode#toString} */\n    describe('toString', () => {\n        it('should match the API response', () => {\n            deviceCode.toString().should.equal(JSON.stringify(responseClone));\n        });\n    });\n});\n"
  },
  {
    "__docId__": 605,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe251",
    "testId": 251,
    "memberof": "unit/model/device-code.js",
    "testDepth": 0,
    "longname": "unit/model/device-code.js~describe251",
    "access": null,
    "description": "DeviceCode",
    "lineNumber": 10,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{DeviceCode}"
      }
    ],
    "testTargets": [
      "DeviceCode"
    ]
  },
  {
    "__docId__": 606,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe252",
    "testId": 252,
    "memberof": "unit/model/device-code.js~describe251",
    "testDepth": 1,
    "longname": "unit/model/device-code.js~describe251.describe252",
    "access": null,
    "description": "constructor",
    "lineNumber": 23,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{DeviceCode#constructor}"
      }
    ],
    "testTargets": [
      "DeviceCode#constructor"
    ]
  },
  {
    "__docId__": 607,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it253",
    "testId": 253,
    "memberof": "unit/model/device-code.js~describe251.describe252",
    "testDepth": 2,
    "longname": "unit/model/device-code.js~describe251.describe252.it253",
    "access": null,
    "description": "should not set an expiry date if expires_in is NaN",
    "lineNumber": 24
  },
  {
    "__docId__": 608,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe254",
    "testId": 254,
    "memberof": "unit/model/device-code.js~describe251",
    "testDepth": 1,
    "longname": "unit/model/device-code.js~describe251.describe254",
    "access": null,
    "description": "validate",
    "lineNumber": 35,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{DeviceCode#validate}"
      }
    ],
    "testTargets": [
      "DeviceCode#validate"
    ]
  },
  {
    "__docId__": 609,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it255",
    "testId": 255,
    "memberof": "unit/model/device-code.js~describe251.describe254",
    "testDepth": 2,
    "longname": "unit/model/device-code.js~describe251.describe254.it255",
    "access": null,
    "description": "should not throw an error on valid input",
    "lineNumber": 36
  },
  {
    "__docId__": 610,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe256",
    "testId": 256,
    "memberof": "unit/model/device-code.js~describe251",
    "testDepth": 1,
    "longname": "unit/model/device-code.js~describe251.describe256",
    "access": null,
    "description": "isExpired",
    "lineNumber": 43,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{DeviceCode#isExpired}"
      }
    ],
    "testTargets": [
      "DeviceCode#isExpired"
    ]
  },
  {
    "__docId__": 611,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it257",
    "testId": 257,
    "memberof": "unit/model/device-code.js~describe251.describe256",
    "testDepth": 2,
    "longname": "unit/model/device-code.js~describe251.describe256.it257",
    "access": null,
    "description": "should not be expired for test data token",
    "lineNumber": 44
  },
  {
    "__docId__": 612,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it258",
    "testId": 258,
    "memberof": "unit/model/device-code.js~describe251.describe256",
    "testDepth": 2,
    "longname": "unit/model/device-code.js~describe251.describe256.it258",
    "access": null,
    "description": "should be expired if the expires_in time is in the past",
    "lineNumber": 48
  },
  {
    "__docId__": 613,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe259",
    "testId": 259,
    "memberof": "unit/model/device-code.js~describe251",
    "testDepth": 1,
    "longname": "unit/model/device-code.js~describe251.describe259",
    "access": null,
    "description": "userCode",
    "lineNumber": 59,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{DeviceCode.userCode}"
      }
    ],
    "testTargets": [
      "DeviceCode.userCode"
    ]
  },
  {
    "__docId__": 614,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it260",
    "testId": 260,
    "memberof": "unit/model/device-code.js~describe251.describe259",
    "testDepth": 2,
    "longname": "unit/model/device-code.js~describe251.describe259.it260",
    "access": null,
    "description": "should match the \"user_code\" value from the API response",
    "lineNumber": 60
  },
  {
    "__docId__": 615,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe261",
    "testId": 261,
    "memberof": "unit/model/device-code.js~describe251",
    "testDepth": 1,
    "longname": "unit/model/device-code.js~describe251.describe261",
    "access": null,
    "description": "verificationUri",
    "lineNumber": 67,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{DeviceCode.verificationUri}"
      }
    ],
    "testTargets": [
      "DeviceCode.verificationUri"
    ]
  },
  {
    "__docId__": 616,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it262",
    "testId": 262,
    "memberof": "unit/model/device-code.js~describe251.describe261",
    "testDepth": 2,
    "longname": "unit/model/device-code.js~describe251.describe261.it262",
    "access": null,
    "description": "should match the \"verification_uri\" value from the API response",
    "lineNumber": 68
  },
  {
    "__docId__": 617,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe263",
    "testId": 263,
    "memberof": "unit/model/device-code.js~describe251",
    "testDepth": 1,
    "longname": "unit/model/device-code.js~describe251.describe263",
    "access": null,
    "description": "ttl",
    "lineNumber": 75,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{DeviceCode.ttl}"
      }
    ],
    "testTargets": [
      "DeviceCode.ttl"
    ]
  },
  {
    "__docId__": 618,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it264",
    "testId": 264,
    "memberof": "unit/model/device-code.js~describe251.describe263",
    "testDepth": 2,
    "longname": "unit/model/device-code.js~describe251.describe263.it264",
    "access": null,
    "description": "should convert the \"expires_in\" value from the API response (which is in seconds) to milliseconds",
    "lineNumber": 76
  },
  {
    "__docId__": 619,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe265",
    "testId": 265,
    "memberof": "unit/model/device-code.js~describe251",
    "testDepth": 1,
    "longname": "unit/model/device-code.js~describe251.describe265",
    "access": null,
    "description": "interval",
    "lineNumber": 83,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{DeviceCode.interval}"
      }
    ],
    "testTargets": [
      "DeviceCode.interval"
    ]
  },
  {
    "__docId__": 620,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it266",
    "testId": 266,
    "memberof": "unit/model/device-code.js~describe251.describe265",
    "testDepth": 2,
    "longname": "unit/model/device-code.js~describe251.describe265.it266",
    "access": null,
    "description": "should convert the \"interval\" value from the API response (which is in seconds) to milliseconds",
    "lineNumber": 84
  },
  {
    "__docId__": 621,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe267",
    "testId": 267,
    "memberof": "unit/model/device-code.js~describe251",
    "testDepth": 1,
    "longname": "unit/model/device-code.js~describe251.describe267",
    "access": null,
    "description": "toString",
    "lineNumber": 91,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{DeviceCode#toString}"
      }
    ],
    "testTargets": [
      "DeviceCode#toString"
    ]
  },
  {
    "__docId__": 622,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it268",
    "testId": 268,
    "memberof": "unit/model/device-code.js~describe251.describe267",
    "testDepth": 2,
    "longname": "unit/model/device-code.js~describe251.describe267.it268",
    "access": null,
    "description": "should match the API response",
    "lineNumber": 92
  },
  {
    "__docId__": 623,
    "kind": "testFile",
    "static": true,
    "variation": null,
    "name": "unit/model/rating.js",
    "memberof": null,
    "longname": "unit/model/rating.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import Rating from '../../../src/model/rating';\nimport chai from 'chai';\nimport { LISTENING_V2_RECOMMENDATIONS_RESPONSE } from '../../test-data';\n\n\n/** @test {Rating} */\ndescribe('Rating', () => {\n    /** @type Rating */\n    let rating;\n    let responseClone;\n\n    beforeEach(() => {\n        responseClone = JSON.parse(JSON.stringify(\n            LISTENING_V2_RECOMMENDATIONS_RESPONSE.items[0].attributes.rating\n        ));\n        rating = new Rating(responseClone);\n    });\n\n    /** @test {Rating#constructor} */\n    describe('constructor', () => {\n        it('should hydrate the model', () => {\n            rating.mediaId.should.equal(responseClone.mediaId);\n            rating.origin.should.equal(responseClone.origin);\n        });\n    });\n\n    /** @test {Rating#toString} */\n    describe('toString', () => {\n        it('should match what is specified', () => {\n            rating.toString().should.equal('[RID=300305:idWAMU2016-02-16-09-37, R=START]');\n        });\n    });\n\n    /** @test {Rating.privateMemberReplacer} */\n    describe('privateMemberReplacer', () => {\n        it('should remove private member variables', () => {\n            chai.expect(Rating.privateMemberReplacer('_hasSent', 'value1')).to.be.undefined;\n            Rating.privateMemberReplacer('mediaId', 'value2').should.equal('value2');\n        });\n    });\n});\n"
  },
  {
    "__docId__": 624,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe269",
    "testId": 269,
    "memberof": "unit/model/rating.js",
    "testDepth": 0,
    "longname": "unit/model/rating.js~describe269",
    "access": null,
    "description": "Rating",
    "lineNumber": 7,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Rating}"
      }
    ],
    "testTargets": [
      "Rating"
    ]
  },
  {
    "__docId__": 625,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe270",
    "testId": 270,
    "memberof": "unit/model/rating.js~describe269",
    "testDepth": 1,
    "longname": "unit/model/rating.js~describe269.describe270",
    "access": null,
    "description": "constructor",
    "lineNumber": 20,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Rating#constructor}"
      }
    ],
    "testTargets": [
      "Rating#constructor"
    ]
  },
  {
    "__docId__": 626,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it271",
    "testId": 271,
    "memberof": "unit/model/rating.js~describe269.describe270",
    "testDepth": 2,
    "longname": "unit/model/rating.js~describe269.describe270.it271",
    "access": null,
    "description": "should hydrate the model",
    "lineNumber": 21
  },
  {
    "__docId__": 627,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe272",
    "testId": 272,
    "memberof": "unit/model/rating.js~describe269",
    "testDepth": 1,
    "longname": "unit/model/rating.js~describe269.describe272",
    "access": null,
    "description": "toString",
    "lineNumber": 28,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Rating#toString}"
      }
    ],
    "testTargets": [
      "Rating#toString"
    ]
  },
  {
    "__docId__": 628,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it273",
    "testId": 273,
    "memberof": "unit/model/rating.js~describe269.describe272",
    "testDepth": 2,
    "longname": "unit/model/rating.js~describe269.describe272.it273",
    "access": null,
    "description": "should match what is specified",
    "lineNumber": 29
  },
  {
    "__docId__": 629,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe274",
    "testId": 274,
    "memberof": "unit/model/rating.js~describe269",
    "testDepth": 1,
    "longname": "unit/model/rating.js~describe269.describe274",
    "access": null,
    "description": "privateMemberReplacer",
    "lineNumber": 35,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Rating.privateMemberReplacer}"
      }
    ],
    "testTargets": [
      "Rating.privateMemberReplacer"
    ]
  },
  {
    "__docId__": 630,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it275",
    "testId": 275,
    "memberof": "unit/model/rating.js~describe269.describe274",
    "testDepth": 2,
    "longname": "unit/model/rating.js~describe269.describe274.it275",
    "access": null,
    "description": "should remove private member variables",
    "lineNumber": 36
  },
  {
    "__docId__": 631,
    "kind": "testFile",
    "static": true,
    "variation": null,
    "name": "unit/model/recommendation.js",
    "memberof": null,
    "longname": "unit/model/recommendation.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import fetchMock from 'fetch-mock';\nimport mockery from 'mockery';\nimport chai from 'chai';\nimport NprOne from '../../../src/index';\nimport Recommendation from '../../../src/model/recommendation';\nimport { LISTENING_V2_RECOMMENDATIONS_RESPONSE } from '../../test-data';\n\n\n/** @test {Recommendation} */\ndescribe('Recommendation', () => {\n    const response = LISTENING_V2_RECOMMENDATIONS_RESPONSE;\n    const adsWizzUrl = '^https://demo.adswizz.com';\n    const doubleClickUrl = '^https://ad.doubleclick.net';\n    /** @type {Recommendation} */\n    let recStationId;\n    /** @type {Recommendation} */\n    let recNewscast;\n    /** @type {Recommendation} */\n    let recStoryA;\n    /** @type {Recommendation} */\n    let recAd;\n    /** @type {Recommendation} */\n    let recPromo;\n    /** @type {Recommendation} */\n    let recStoryB;\n\n    const setupMockery = () => {\n        mockery.registerMock('fetch', fetchMock\n            .mock(adsWizzUrl, 'GET')\n            .mock(doubleClickUrl, 'GET')\n            .getMock());\n    };\n\n    beforeEach(() => {\n        setupMockery();\n\n        recStationId = new Recommendation(response.items[0]);\n        recNewscast = new Recommendation(response.items[1]);\n        recStoryA = new Recommendation(response.items[2]);\n        recAd = new Recommendation(response.items[3]);\n        recPromo = new Recommendation(response.items[4]);\n        recStoryB = new Recommendation(response.items[5]);\n    });\n\n    afterEach(() => {\n        fetchMock.restore();\n        mockery.deregisterMock('fetch');\n    });\n\n    /** @test {Recommendation#constructor} */\n    describe('constructor', () => {\n        let responseClone;\n\n        beforeEach(() => {\n            responseClone = JSON.parse(JSON.stringify(response.items[0]));\n        });\n\n\n        it('should throw an error if audio doesn\\'t exist', () => {\n            delete responseClone.links.audio;\n            chai.expect(() => {\n                new Recommendation(responseClone);\n            }).to.throw('Audio must exist within links.');\n        });\n\n        it('should throw an error if recommendations doesn\\'t exist', () => {\n            delete responseClone.links.recommendations;\n            chai.expect(() => {\n                new Recommendation(responseClone);\n            }).to.throw('Recommendation (contains URL) must exist within links.');\n        });\n\n        it('should throw an error if attributes.rating doesn\\'t exist', () => {\n            delete responseClone.attributes.rating;\n            chai.expect(() => {\n                new Recommendation(responseClone);\n            }).to.throw('Attributes must contain a rating object.');\n        });\n    });\n\n    /** @test {Recommendation#getImages} */\n    describe('getImages', () => {\n        it('should match the API response', () => {\n            recAd.getImages().should.equal(response.items[3].links.image);\n        });\n    });\n\n    /** @test {Recommendation#getAudio} */\n    describe('getAudio', () => {\n        it('should match the API response', () => {\n            recStoryA.getAudio().should.equal(response.items[2].links.audio);\n        });\n    });\n\n    /** @test {Recommendation#getWeb} */\n    describe('getWeb', () => {\n        it('should match the API response', () => {\n            recStoryA.getWeb().should.equal(response.items[2].links.web);\n        });\n    });\n\n    /** @test {Recommendation#getOnRamps} */\n    describe('getOnRamps', () => {\n        it('should match the API response', () => {\n            recStoryA.getOnRamps().should.equal(response.items[2].links.onramps);\n        });\n    });\n\n    /** @test {Recommendation#getImpressions} */\n    describe('getImpressions', () => {\n        it('should match the API response', () => {\n            recAd.getImpressions().should.equal(response.items[3].links.impression);\n        });\n    });\n\n    /** @test {Recommendation#getCallsToAction} */\n    describe('getCallsToAction', () => {\n        it('should match the API response', () => {\n            recPromo.getCallsToAction().should.equal(response.items[4].links.action);\n        });\n    });\n\n    /** @test {Recommendation#getRelateds} */\n    describe('getRelateds', () => {\n        it('should match the API response', () => {\n            recAd.getRelateds().should.equal(response.items[3].links.related);\n        });\n    });\n\n    /** @test {Recommendation#getRelatedImpressions} */\n    describe('getRelatedImpressions', () => {\n        it('should match the API response', () => {\n            recAd.getRelatedImpressions().should.equal(response.items[3].links['related-impression']);\n        });\n    });\n\n    /** @test {Recommendation#getRatings} */\n    describe('getRatings', () => {\n        it('should return a ratings object', () => {\n            recStationId.getRatings().should.be.ok;\n        });\n    });\n\n    /** @test {Recommendation#getRecommendationUrl} */\n    describe('getRecommendationUrl', () => {\n        it('should match the API response', () => {\n            recStationId.getRecommendationUrl().should.equal(response.items[0].links.recommendations[0].href);\n        });\n    });\n\n    /** @test {Recommendation#getActionRecommendationUrl} */\n    describe('getActionRecommendationUrl', () => {\n        const actionRecUrl = 'https://listening.api.npr.org/v2/ratings?sharedMediaId=458726244%3A458726246&flow=5&channel=npr&prevStories=1&recommend=true';\n\n        it('should match the API response', () => {\n            recPromo.getActionRecommendationUrl().should.not.equal(response.items[4].links.action[0].href);\n            recPromo.getActionRecommendationUrl().should.equal(actionRecUrl);\n        });\n\n        it('should only use urls that start with nprone://', () => {\n            const promoClone = JSON.parse(JSON.stringify(response.items[4]));\n            promoClone.links.action.unshift({ 'href': 'nprtwo://should-not?be-used' });\n            const promo = new Recommendation(promoClone);\n            promo.getActionRecommendationUrl().should.equal(actionRecUrl);\n        });\n    });\n\n    /** @test {Recommendation#isSponsorship} */\n    describe('isSponsorship', () => {\n        it('should be true for an ad', () => {\n            recAd.isSponsorship().should.be.true;\n        });\n        it('should be false for non ads', () => {\n            recStationId.isSponsorship().should.be.false;\n            recNewscast.isSponsorship().should.be.false;\n            recStoryA.isSponsorship().should.be.false;\n            recPromo.isSponsorship().should.be.false;\n            recStoryB.isSponsorship().should.be.false;\n        });\n    });\n\n    /** @test {Recommendation#isShareable} */\n    describe('isShareable', () => {\n        it('should be true for recommendations with onramps', () => {\n            recStoryA.isShareable().should.be.true;\n            recPromo.isShareable().should.be.true;\n            recStoryB.isShareable().should.be.true;\n        });\n        it('should be false for recommendations without onramps', () => {\n            recStationId.isShareable().should.be.false;\n            recNewscast.isShareable().should.be.false;\n            recAd.isShareable().should.be.false;\n        });\n    });\n\n    /** @test {Recommendation#toString} */\n    describe('toString', () => {\n        it('should match the format specified', () => {\n            recStoryA.toString().should.equal('[UID=466898631:466898632, R=]');\n        });\n    });\n\n    /** @test {Recommendation#recordAction} */\n    describe('recordAction', () => {\n        it('should only allow valid ratings', () => {\n            recNewscast.setRatingReceivedCallback(() => {});\n\n            recNewscast.recordAction(NprOne.Action.START, 0);\n            recNewscast.getRatings()[0].rating.should.equal('START');\n            recNewscast.recordAction(NprOne.Action.COMPLETED, 10);\n            recNewscast.getRatings()[1].rating.should.equal('COMPLETED');\n\n            chai.expect(() => {\n                recNewscast.recordAction('BAD_VALUE', 0);\n            }).to.throw('BAD_VALUE action is invalid. See Action class for valid actions.');\n        });\n\n        it('should require elapsed time to be an integer', () => {\n            recStationId.setRatingReceivedCallback(() => {});\n\n            chai.expect(() => {\n                recStationId.recordAction(NprOne.Action.START);\n            }).to.throw('Elapsed time must be supplied and be a positive integer value.');\n\n            chai.expect(() => {\n                recStationId.recordAction(NprOne.Action.SKIP, 'bad value');\n            }).to.throw('Elapsed time must be supplied and be a positive integer value.');\n        });\n\n        it('should auto-correct bad elapsed time values', () => {\n            recStationId.setRatingReceivedCallback(() => {});\n\n            recStationId.recordAction(NprOne.Action.START, -10);\n            recStationId.getRatings()[0].elapsed.should.equal(0);\n            recStationId.recordAction(NprOne.Action.START, 99999);\n            recStationId.getRatings()[1].elapsed.should.equal(recStationId.attributes.duration);\n        });\n\n        it('should auto-correct bad elapsed time values but only if duration is greater than 0', () => {\n            const clone = JSON.parse(JSON.stringify(response.items[0]));\n            clone.attributes.duration = 0;\n\n            const rec = new Recommendation(clone);\n\n            rec.setRatingReceivedCallback(() => {});\n\n            const largeDuration = 10000;\n\n            rec.recordAction(NprOne.Action.COMPLETED, largeDuration);\n            rec.getRatings()[0].elapsed.should.equal(largeDuration);\n        });\n\n        it('should warn developers when a zero elapsed time is given for a COMPLETED or SKIP', () => {\n            recStationId.recordAction(NprOne.Action.COMPLETED, 0);\n        });\n\n        it('should warn developers when a non-START rating is received before START', () => {\n            const clone = JSON.parse(JSON.stringify(response.items[0]));\n            clone.attributes.duration = 0;\n\n            const rec = new Recommendation(clone);\n\n            rec.setRatingReceivedCallback(() => {});\n            rec.recordAction(NprOne.Action.COMPLETED, 30);\n        });\n\n        it('should auto-correct bad elapsed time values if the difference is more than 30', () => {\n            recStoryA.setRatingReceivedCallback(() => {});\n\n            const moderatelyWrongDuration = recStoryA.attributes.duration + 20;\n\n            recStoryA.recordAction(NprOne.Action.COMPLETED, moderatelyWrongDuration);\n            recStoryA.getRatings()[0].elapsed.should.equal(recStoryA.attributes.duration);\n        });\n\n        it('should execute a GET request against all impression URLs', () => {\n            recAd.setRatingReceivedCallback(() => {});\n\n            recAd.recordAction(NprOne.Action.START, 0);\n\n            fetchMock.called(adsWizzUrl).should.be.true;\n            fetchMock.called(doubleClickUrl).should.be.true;\n            fetchMock.calls().unmatched.length.should.equal(0);\n        });\n\n        it('but only on the first START rating and not subsequent STARTs', () => {\n            recAd.setRatingReceivedCallback(() => {});\n            recAd.recordAction(NprOne.Action.START, 0);\n\n            fetchMock.restore();\n            mockery.deregisterMock('fetch');\n            setupMockery();\n\n            recAd.recordAction(NprOne.Action.START, 0);\n\n            fetchMock.called(adsWizzUrl).should.be.false;\n            fetchMock.called(doubleClickUrl).should.be.false;\n        });\n\n        it('should call the callback set via setRatingReceivedCallback', done => {\n            recStationId.setRatingReceivedCallback(() => {\n                done();\n            });\n            recStationId.recordAction(NprOne.Action.START, 0);\n        });\n    });\n\n    /** @test {Recommendation#hasAction} */\n    describe('hasAction', () => {\n        it('should be true when a recommendation actually has that rating', () => {\n            recStoryA.setRatingReceivedCallback(() => {});\n            recStoryA.recordAction(NprOne.Action.START, 0);\n            recStoryA.hasAction(NprOne.Action.START).should.be.true;\n        });\n\n        it('should be false when a recommendation does not have that rating', () => {\n            recStoryA.setRatingReceivedCallback(() => {});\n            recStoryA.recordAction(NprOne.Action.COMPLETED, 0);\n\n            recStoryA.hasAction(NprOne.Action.START).should.be.false;\n        });\n    });\n\n    /** @test {Recommendation#hasEndAction} */\n    describe('hasEndAction', () => {\n        it('should be true when a recommendation has a finished rating', () => {\n            recStoryA.setRatingReceivedCallback(() => {});\n            recStoryA.recordAction(NprOne.Action.START, 0);\n            recStoryA.recordAction(NprOne.Action.SHARE, 0);\n\n            recStoryA.hasEndAction().should.be.false;\n\n            recStoryA.recordAction(NprOne.Action.COMPLETED, 0);\n\n            recStoryA.hasEndAction().should.be.true;\n        });\n    });\n});\n"
  },
  {
    "__docId__": 632,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe276",
    "testId": 276,
    "memberof": "unit/model/recommendation.js",
    "testDepth": 0,
    "longname": "unit/model/recommendation.js~describe276",
    "access": null,
    "description": "Recommendation",
    "lineNumber": 10,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Recommendation}"
      }
    ],
    "testTargets": [
      "Recommendation"
    ]
  },
  {
    "__docId__": 633,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe277",
    "testId": 277,
    "memberof": "unit/model/recommendation.js~describe276",
    "testDepth": 1,
    "longname": "unit/model/recommendation.js~describe276.describe277",
    "access": null,
    "description": "constructor",
    "lineNumber": 51,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Recommendation#constructor}"
      }
    ],
    "testTargets": [
      "Recommendation#constructor"
    ]
  },
  {
    "__docId__": 634,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it278",
    "testId": 278,
    "memberof": "unit/model/recommendation.js~describe276.describe277",
    "testDepth": 2,
    "longname": "unit/model/recommendation.js~describe276.describe277.it278",
    "access": null,
    "description": "should throw an error if audio doesn't exist",
    "lineNumber": 59
  },
  {
    "__docId__": 635,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it279",
    "testId": 279,
    "memberof": "unit/model/recommendation.js~describe276.describe277",
    "testDepth": 2,
    "longname": "unit/model/recommendation.js~describe276.describe277.it279",
    "access": null,
    "description": "should throw an error if recommendations doesn't exist",
    "lineNumber": 66
  },
  {
    "__docId__": 636,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it280",
    "testId": 280,
    "memberof": "unit/model/recommendation.js~describe276.describe277",
    "testDepth": 2,
    "longname": "unit/model/recommendation.js~describe276.describe277.it280",
    "access": null,
    "description": "should throw an error if attributes.rating doesn't exist",
    "lineNumber": 73
  },
  {
    "__docId__": 637,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe281",
    "testId": 281,
    "memberof": "unit/model/recommendation.js~describe276",
    "testDepth": 1,
    "longname": "unit/model/recommendation.js~describe276.describe281",
    "access": null,
    "description": "getImages",
    "lineNumber": 82,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Recommendation#getImages}"
      }
    ],
    "testTargets": [
      "Recommendation#getImages"
    ]
  },
  {
    "__docId__": 638,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it282",
    "testId": 282,
    "memberof": "unit/model/recommendation.js~describe276.describe281",
    "testDepth": 2,
    "longname": "unit/model/recommendation.js~describe276.describe281.it282",
    "access": null,
    "description": "should match the API response",
    "lineNumber": 83
  },
  {
    "__docId__": 639,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe283",
    "testId": 283,
    "memberof": "unit/model/recommendation.js~describe276",
    "testDepth": 1,
    "longname": "unit/model/recommendation.js~describe276.describe283",
    "access": null,
    "description": "getAudio",
    "lineNumber": 89,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Recommendation#getAudio}"
      }
    ],
    "testTargets": [
      "Recommendation#getAudio"
    ]
  },
  {
    "__docId__": 640,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it284",
    "testId": 284,
    "memberof": "unit/model/recommendation.js~describe276.describe283",
    "testDepth": 2,
    "longname": "unit/model/recommendation.js~describe276.describe283.it284",
    "access": null,
    "description": "should match the API response",
    "lineNumber": 90
  },
  {
    "__docId__": 641,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe285",
    "testId": 285,
    "memberof": "unit/model/recommendation.js~describe276",
    "testDepth": 1,
    "longname": "unit/model/recommendation.js~describe276.describe285",
    "access": null,
    "description": "getWeb",
    "lineNumber": 96,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Recommendation#getWeb}"
      }
    ],
    "testTargets": [
      "Recommendation#getWeb"
    ]
  },
  {
    "__docId__": 642,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it286",
    "testId": 286,
    "memberof": "unit/model/recommendation.js~describe276.describe285",
    "testDepth": 2,
    "longname": "unit/model/recommendation.js~describe276.describe285.it286",
    "access": null,
    "description": "should match the API response",
    "lineNumber": 97
  },
  {
    "__docId__": 643,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe287",
    "testId": 287,
    "memberof": "unit/model/recommendation.js~describe276",
    "testDepth": 1,
    "longname": "unit/model/recommendation.js~describe276.describe287",
    "access": null,
    "description": "getOnRamps",
    "lineNumber": 103,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Recommendation#getOnRamps}"
      }
    ],
    "testTargets": [
      "Recommendation#getOnRamps"
    ]
  },
  {
    "__docId__": 644,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it288",
    "testId": 288,
    "memberof": "unit/model/recommendation.js~describe276.describe287",
    "testDepth": 2,
    "longname": "unit/model/recommendation.js~describe276.describe287.it288",
    "access": null,
    "description": "should match the API response",
    "lineNumber": 104
  },
  {
    "__docId__": 645,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe289",
    "testId": 289,
    "memberof": "unit/model/recommendation.js~describe276",
    "testDepth": 1,
    "longname": "unit/model/recommendation.js~describe276.describe289",
    "access": null,
    "description": "getImpressions",
    "lineNumber": 110,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Recommendation#getImpressions}"
      }
    ],
    "testTargets": [
      "Recommendation#getImpressions"
    ]
  },
  {
    "__docId__": 646,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it290",
    "testId": 290,
    "memberof": "unit/model/recommendation.js~describe276.describe289",
    "testDepth": 2,
    "longname": "unit/model/recommendation.js~describe276.describe289.it290",
    "access": null,
    "description": "should match the API response",
    "lineNumber": 111
  },
  {
    "__docId__": 647,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe291",
    "testId": 291,
    "memberof": "unit/model/recommendation.js~describe276",
    "testDepth": 1,
    "longname": "unit/model/recommendation.js~describe276.describe291",
    "access": null,
    "description": "getCallsToAction",
    "lineNumber": 117,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Recommendation#getCallsToAction}"
      }
    ],
    "testTargets": [
      "Recommendation#getCallsToAction"
    ]
  },
  {
    "__docId__": 648,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it292",
    "testId": 292,
    "memberof": "unit/model/recommendation.js~describe276.describe291",
    "testDepth": 2,
    "longname": "unit/model/recommendation.js~describe276.describe291.it292",
    "access": null,
    "description": "should match the API response",
    "lineNumber": 118
  },
  {
    "__docId__": 649,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe293",
    "testId": 293,
    "memberof": "unit/model/recommendation.js~describe276",
    "testDepth": 1,
    "longname": "unit/model/recommendation.js~describe276.describe293",
    "access": null,
    "description": "getRelateds",
    "lineNumber": 124,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Recommendation#getRelateds}"
      }
    ],
    "testTargets": [
      "Recommendation#getRelateds"
    ]
  },
  {
    "__docId__": 650,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it294",
    "testId": 294,
    "memberof": "unit/model/recommendation.js~describe276.describe293",
    "testDepth": 2,
    "longname": "unit/model/recommendation.js~describe276.describe293.it294",
    "access": null,
    "description": "should match the API response",
    "lineNumber": 125
  },
  {
    "__docId__": 651,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe295",
    "testId": 295,
    "memberof": "unit/model/recommendation.js~describe276",
    "testDepth": 1,
    "longname": "unit/model/recommendation.js~describe276.describe295",
    "access": null,
    "description": "getRelatedImpressions",
    "lineNumber": 131,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Recommendation#getRelatedImpressions}"
      }
    ],
    "testTargets": [
      "Recommendation#getRelatedImpressions"
    ]
  },
  {
    "__docId__": 652,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it296",
    "testId": 296,
    "memberof": "unit/model/recommendation.js~describe276.describe295",
    "testDepth": 2,
    "longname": "unit/model/recommendation.js~describe276.describe295.it296",
    "access": null,
    "description": "should match the API response",
    "lineNumber": 132
  },
  {
    "__docId__": 653,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe297",
    "testId": 297,
    "memberof": "unit/model/recommendation.js~describe276",
    "testDepth": 1,
    "longname": "unit/model/recommendation.js~describe276.describe297",
    "access": null,
    "description": "getRatings",
    "lineNumber": 138,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Recommendation#getRatings}"
      }
    ],
    "testTargets": [
      "Recommendation#getRatings"
    ]
  },
  {
    "__docId__": 654,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it298",
    "testId": 298,
    "memberof": "unit/model/recommendation.js~describe276.describe297",
    "testDepth": 2,
    "longname": "unit/model/recommendation.js~describe276.describe297.it298",
    "access": null,
    "description": "should return a ratings object",
    "lineNumber": 139
  },
  {
    "__docId__": 655,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe299",
    "testId": 299,
    "memberof": "unit/model/recommendation.js~describe276",
    "testDepth": 1,
    "longname": "unit/model/recommendation.js~describe276.describe299",
    "access": null,
    "description": "getRecommendationUrl",
    "lineNumber": 145,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Recommendation#getRecommendationUrl}"
      }
    ],
    "testTargets": [
      "Recommendation#getRecommendationUrl"
    ]
  },
  {
    "__docId__": 656,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it300",
    "testId": 300,
    "memberof": "unit/model/recommendation.js~describe276.describe299",
    "testDepth": 2,
    "longname": "unit/model/recommendation.js~describe276.describe299.it300",
    "access": null,
    "description": "should match the API response",
    "lineNumber": 146
  },
  {
    "__docId__": 657,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe301",
    "testId": 301,
    "memberof": "unit/model/recommendation.js~describe276",
    "testDepth": 1,
    "longname": "unit/model/recommendation.js~describe276.describe301",
    "access": null,
    "description": "getActionRecommendationUrl",
    "lineNumber": 152,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Recommendation#getActionRecommendationUrl}"
      }
    ],
    "testTargets": [
      "Recommendation#getActionRecommendationUrl"
    ]
  },
  {
    "__docId__": 658,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it302",
    "testId": 302,
    "memberof": "unit/model/recommendation.js~describe276.describe301",
    "testDepth": 2,
    "longname": "unit/model/recommendation.js~describe276.describe301.it302",
    "access": null,
    "description": "should match the API response",
    "lineNumber": 155
  },
  {
    "__docId__": 659,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it303",
    "testId": 303,
    "memberof": "unit/model/recommendation.js~describe276.describe301",
    "testDepth": 2,
    "longname": "unit/model/recommendation.js~describe276.describe301.it303",
    "access": null,
    "description": "should only use urls that start with nprone://",
    "lineNumber": 160
  },
  {
    "__docId__": 660,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe304",
    "testId": 304,
    "memberof": "unit/model/recommendation.js~describe276",
    "testDepth": 1,
    "longname": "unit/model/recommendation.js~describe276.describe304",
    "access": null,
    "description": "isSponsorship",
    "lineNumber": 169,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Recommendation#isSponsorship}"
      }
    ],
    "testTargets": [
      "Recommendation#isSponsorship"
    ]
  },
  {
    "__docId__": 661,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it305",
    "testId": 305,
    "memberof": "unit/model/recommendation.js~describe276.describe304",
    "testDepth": 2,
    "longname": "unit/model/recommendation.js~describe276.describe304.it305",
    "access": null,
    "description": "should be true for an ad",
    "lineNumber": 170
  },
  {
    "__docId__": 662,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it306",
    "testId": 306,
    "memberof": "unit/model/recommendation.js~describe276.describe304",
    "testDepth": 2,
    "longname": "unit/model/recommendation.js~describe276.describe304.it306",
    "access": null,
    "description": "should be false for non ads",
    "lineNumber": 173
  },
  {
    "__docId__": 663,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe307",
    "testId": 307,
    "memberof": "unit/model/recommendation.js~describe276",
    "testDepth": 1,
    "longname": "unit/model/recommendation.js~describe276.describe307",
    "access": null,
    "description": "isShareable",
    "lineNumber": 183,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Recommendation#isShareable}"
      }
    ],
    "testTargets": [
      "Recommendation#isShareable"
    ]
  },
  {
    "__docId__": 664,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it308",
    "testId": 308,
    "memberof": "unit/model/recommendation.js~describe276.describe307",
    "testDepth": 2,
    "longname": "unit/model/recommendation.js~describe276.describe307.it308",
    "access": null,
    "description": "should be true for recommendations with onramps",
    "lineNumber": 184
  },
  {
    "__docId__": 665,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it309",
    "testId": 309,
    "memberof": "unit/model/recommendation.js~describe276.describe307",
    "testDepth": 2,
    "longname": "unit/model/recommendation.js~describe276.describe307.it309",
    "access": null,
    "description": "should be false for recommendations without onramps",
    "lineNumber": 189
  },
  {
    "__docId__": 666,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe310",
    "testId": 310,
    "memberof": "unit/model/recommendation.js~describe276",
    "testDepth": 1,
    "longname": "unit/model/recommendation.js~describe276.describe310",
    "access": null,
    "description": "toString",
    "lineNumber": 197,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Recommendation#toString}"
      }
    ],
    "testTargets": [
      "Recommendation#toString"
    ]
  },
  {
    "__docId__": 667,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it311",
    "testId": 311,
    "memberof": "unit/model/recommendation.js~describe276.describe310",
    "testDepth": 2,
    "longname": "unit/model/recommendation.js~describe276.describe310.it311",
    "access": null,
    "description": "should match the format specified",
    "lineNumber": 198
  },
  {
    "__docId__": 668,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe312",
    "testId": 312,
    "memberof": "unit/model/recommendation.js~describe276",
    "testDepth": 1,
    "longname": "unit/model/recommendation.js~describe276.describe312",
    "access": null,
    "description": "recordAction",
    "lineNumber": 204,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Recommendation#recordAction}"
      }
    ],
    "testTargets": [
      "Recommendation#recordAction"
    ]
  },
  {
    "__docId__": 669,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it313",
    "testId": 313,
    "memberof": "unit/model/recommendation.js~describe276.describe312",
    "testDepth": 2,
    "longname": "unit/model/recommendation.js~describe276.describe312.it313",
    "access": null,
    "description": "should only allow valid ratings",
    "lineNumber": 205
  },
  {
    "__docId__": 670,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it314",
    "testId": 314,
    "memberof": "unit/model/recommendation.js~describe276.describe312",
    "testDepth": 2,
    "longname": "unit/model/recommendation.js~describe276.describe312.it314",
    "access": null,
    "description": "should require elapsed time to be an integer",
    "lineNumber": 218
  },
  {
    "__docId__": 671,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it315",
    "testId": 315,
    "memberof": "unit/model/recommendation.js~describe276.describe312",
    "testDepth": 2,
    "longname": "unit/model/recommendation.js~describe276.describe312.it315",
    "access": null,
    "description": "should auto-correct bad elapsed time values",
    "lineNumber": 230
  },
  {
    "__docId__": 672,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it316",
    "testId": 316,
    "memberof": "unit/model/recommendation.js~describe276.describe312",
    "testDepth": 2,
    "longname": "unit/model/recommendation.js~describe276.describe312.it316",
    "access": null,
    "description": "should auto-correct bad elapsed time values but only if duration is greater than 0",
    "lineNumber": 239
  },
  {
    "__docId__": 673,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it317",
    "testId": 317,
    "memberof": "unit/model/recommendation.js~describe276.describe312",
    "testDepth": 2,
    "longname": "unit/model/recommendation.js~describe276.describe312.it317",
    "access": null,
    "description": "should warn developers when a zero elapsed time is given for a COMPLETED or SKIP",
    "lineNumber": 253
  },
  {
    "__docId__": 674,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it318",
    "testId": 318,
    "memberof": "unit/model/recommendation.js~describe276.describe312",
    "testDepth": 2,
    "longname": "unit/model/recommendation.js~describe276.describe312.it318",
    "access": null,
    "description": "should warn developers when a non-START rating is received before START",
    "lineNumber": 257
  },
  {
    "__docId__": 675,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it319",
    "testId": 319,
    "memberof": "unit/model/recommendation.js~describe276.describe312",
    "testDepth": 2,
    "longname": "unit/model/recommendation.js~describe276.describe312.it319",
    "access": null,
    "description": "should auto-correct bad elapsed time values if the difference is more than 30",
    "lineNumber": 267
  },
  {
    "__docId__": 676,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it320",
    "testId": 320,
    "memberof": "unit/model/recommendation.js~describe276.describe312",
    "testDepth": 2,
    "longname": "unit/model/recommendation.js~describe276.describe312.it320",
    "access": null,
    "description": "should execute a GET request against all impression URLs",
    "lineNumber": 276
  },
  {
    "__docId__": 677,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it321",
    "testId": 321,
    "memberof": "unit/model/recommendation.js~describe276.describe312",
    "testDepth": 2,
    "longname": "unit/model/recommendation.js~describe276.describe312.it321",
    "access": null,
    "description": "but only on the first START rating and not subsequent STARTs",
    "lineNumber": 286
  },
  {
    "__docId__": 678,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it322",
    "testId": 322,
    "memberof": "unit/model/recommendation.js~describe276.describe312",
    "testDepth": 2,
    "longname": "unit/model/recommendation.js~describe276.describe312.it322",
    "access": null,
    "description": "should call the callback set via setRatingReceivedCallback",
    "lineNumber": 300
  },
  {
    "__docId__": 679,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe323",
    "testId": 323,
    "memberof": "unit/model/recommendation.js~describe276",
    "testDepth": 1,
    "longname": "unit/model/recommendation.js~describe276.describe323",
    "access": null,
    "description": "hasAction",
    "lineNumber": 309,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Recommendation#hasAction}"
      }
    ],
    "testTargets": [
      "Recommendation#hasAction"
    ]
  },
  {
    "__docId__": 680,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it324",
    "testId": 324,
    "memberof": "unit/model/recommendation.js~describe276.describe323",
    "testDepth": 2,
    "longname": "unit/model/recommendation.js~describe276.describe323.it324",
    "access": null,
    "description": "should be true when a recommendation actually has that rating",
    "lineNumber": 310
  },
  {
    "__docId__": 681,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it325",
    "testId": 325,
    "memberof": "unit/model/recommendation.js~describe276.describe323",
    "testDepth": 2,
    "longname": "unit/model/recommendation.js~describe276.describe323.it325",
    "access": null,
    "description": "should be false when a recommendation does not have that rating",
    "lineNumber": 316
  },
  {
    "__docId__": 682,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe326",
    "testId": 326,
    "memberof": "unit/model/recommendation.js~describe276",
    "testDepth": 1,
    "longname": "unit/model/recommendation.js~describe276.describe326",
    "access": null,
    "description": "hasEndAction",
    "lineNumber": 325,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Recommendation#hasEndAction}"
      }
    ],
    "testTargets": [
      "Recommendation#hasEndAction"
    ]
  },
  {
    "__docId__": 683,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it327",
    "testId": 327,
    "memberof": "unit/model/recommendation.js~describe276.describe326",
    "testDepth": 2,
    "longname": "unit/model/recommendation.js~describe276.describe326.it327",
    "access": null,
    "description": "should be true when a recommendation has a finished rating",
    "lineNumber": 326
  },
  {
    "__docId__": 684,
    "kind": "testFile",
    "static": true,
    "variation": null,
    "name": "unit/model/station.js",
    "memberof": null,
    "longname": "unit/model/station.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import chai from 'chai';\nimport Station from '../../../src/model/station';\nimport { STATION_FINDER_RESPONSE } from '../../test-data';\n\n\nconst should = chai.should();\nconst STATION_FINDER_SINGLE_ORG_RESPONSE = STATION_FINDER_RESPONSE.items[0];\n\n\n/** @test {Station} */\ndescribe('Station', () => {\n    /** @type Station */\n    let station;\n    let responseClone;\n\n\n    beforeEach(() => {\n        responseClone = JSON.parse(JSON.stringify(STATION_FINDER_SINGLE_ORG_RESPONSE));\n        station = new Station(responseClone);\n    });\n\n\n    /** @test {Station.id} */\n    describe('id', () => {\n        it('should exist and equal the value from the test data', () => {\n            station.id.should.equal(STATION_FINDER_SINGLE_ORG_RESPONSE.attributes.orgId);\n        });\n    });\n\n\n    /** @test {Station.displayName} */\n    describe('displayName', () => {\n        it('should equal name from the test data', () => {\n            station.displayName.should.equal(STATION_FINDER_SINGLE_ORG_RESPONSE.attributes.brand.name);\n        });\n    });\n\n\n    /** @test {Station.logo} */\n    describe('logo', () => {\n        it('should equal rel=\"logo\" brand link if it exists', () => {\n            station.logo.should.equal(STATION_FINDER_SINGLE_ORG_RESPONSE.links.brand[1].href);\n        });\n\n        it('should be null and NOT the rel=\"small-logo\" brand link if equal rel=\"logo\" brand link does not exist', () => {\n            responseClone.links.brand.shift(); // homepage\n            responseClone.links.brand.shift(); // logo\n            chai.expect(station.logo).to.not.be.ok;\n        });\n\n        it('should be null if none of the above exist', () => {\n            delete responseClone.links.brand;\n            chai.expect(station.logo).to.not.be.ok;\n        });\n    });\n\n\n    /** @test {Station.tagline} */\n    describe('tagline', () => {\n        it('should exist on test data', () => {\n            station.tagline.should.equal(STATION_FINDER_SINGLE_ORG_RESPONSE.attributes.brand.tagline);\n        });\n\n        it('should be an empty string if it does not exist', () => {\n            delete responseClone.attributes.brand.tagline;\n            station = new Station(responseClone);\n            chai.expect(station.tagline).to.not.be.ok;\n        });\n    });\n\n\n    /** @test {Station.callSignAndFrequency} */\n    describe('callSignAndFrequency', () => {\n        it('should exist on test data', () => {\n            station.callSignAndFrequency.should.equal('WBUR FM 90.9');\n        });\n\n        it('should omit call if it does not exist on test data', () => {\n            delete responseClone.attributes.brand.call;\n            station.callSignAndFrequency.should.equal('FM 90.9');\n        });\n\n        it('should omit band if it does not exist on test data', () => {\n            delete responseClone.attributes.brand.band;\n            station.callSignAndFrequency.should.equal('WBUR 90.9');\n        });\n\n        it('should omit frequency if it does not exist on test data', () => {\n            delete responseClone.attributes.brand.frequency;\n            station.callSignAndFrequency.should.equal('WBUR FM');\n        });\n\n        it('should return null if all attempted data is missing', () => {\n            delete responseClone.attributes.brand.call;\n            delete responseClone.attributes.brand.band;\n            delete responseClone.attributes.brand.frequency;\n            chai.expect(station.callSignAndFrequency).to.be.null;\n        });\n    });\n\n\n    /** @test {Station.location} */\n    describe('location', () => {\n        it('should exist on test data', () => {\n            station.location.should.be.ok;\n        });\n    });\n\n\n    /** @test {Station.homepageUrl} */\n    describe('homepageUrl', () => {\n        it('should exist on test data', () => {\n            station.homepageUrl.should.equal(STATION_FINDER_SINGLE_ORG_RESPONSE.links.brand[0].href);\n        });\n\n        it('should be null if only non-rel=\"homepage\" links exist', () => {\n            responseClone.links.brand.shift();\n            chai.expect(station.homepageUrl).to.not.be.ok;\n        });\n\n        it('should be null if none of the above exist', () => {\n            delete responseClone.links.brand;\n            chai.expect(station.homepageUrl).to.not.be.ok;\n        });\n    });\n\n\n    /** @test {Station.donationUrl} */\n    describe('donationUrl', () => {\n        it('should equal type 27 donation link if it exists', () => {\n            station.donationUrl.should.equal(STATION_FINDER_SINGLE_ORG_RESPONSE.links.donation[1].href);\n        });\n\n        it('should equal type 4 donation link if type 27 donation does not exist', () => {\n            const donationAudio = responseClone.links.donation.pop(); // donation audio\n            responseClone.links.donation.pop(); // type 27\n            responseClone.links.donation.push(donationAudio);\n            station.donationUrl.should.equal(STATION_FINDER_SINGLE_ORG_RESPONSE.links.donation[0].href);\n        });\n\n        it('should be null if none of the above exist', () => {\n            delete responseClone.links.donation;\n            chai.expect(station.donationUrl).to.not.be.ok;\n        });\n    });\n\n\n    /** @test {Station.attributes} */\n    describe('attributes', () => {\n        it('should exist on test data', () => {\n            station.attributes.should.be.ok;\n        });\n    });\n\n\n    /** @test {Station#toString} */\n    describe('toString', () => {\n        it('should exist on test data', () => {\n            station.toString().should.be.ok;\n        });\n    });\n});\n"
  },
  {
    "__docId__": 685,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe328",
    "testId": 328,
    "memberof": "unit/model/station.js",
    "testDepth": 0,
    "longname": "unit/model/station.js~describe328",
    "access": null,
    "description": "Station",
    "lineNumber": 11,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Station}"
      }
    ],
    "testTargets": [
      "Station"
    ]
  },
  {
    "__docId__": 686,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe329",
    "testId": 329,
    "memberof": "unit/model/station.js~describe328",
    "testDepth": 1,
    "longname": "unit/model/station.js~describe328.describe329",
    "access": null,
    "description": "id",
    "lineNumber": 24,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Station.id}"
      }
    ],
    "testTargets": [
      "Station.id"
    ]
  },
  {
    "__docId__": 687,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it330",
    "testId": 330,
    "memberof": "unit/model/station.js~describe328.describe329",
    "testDepth": 2,
    "longname": "unit/model/station.js~describe328.describe329.it330",
    "access": null,
    "description": "should exist and equal the value from the test data",
    "lineNumber": 25
  },
  {
    "__docId__": 688,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe331",
    "testId": 331,
    "memberof": "unit/model/station.js~describe328",
    "testDepth": 1,
    "longname": "unit/model/station.js~describe328.describe331",
    "access": null,
    "description": "displayName",
    "lineNumber": 32,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Station.displayName}"
      }
    ],
    "testTargets": [
      "Station.displayName"
    ]
  },
  {
    "__docId__": 689,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it332",
    "testId": 332,
    "memberof": "unit/model/station.js~describe328.describe331",
    "testDepth": 2,
    "longname": "unit/model/station.js~describe328.describe331.it332",
    "access": null,
    "description": "should equal name from the test data",
    "lineNumber": 33
  },
  {
    "__docId__": 690,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe333",
    "testId": 333,
    "memberof": "unit/model/station.js~describe328",
    "testDepth": 1,
    "longname": "unit/model/station.js~describe328.describe333",
    "access": null,
    "description": "logo",
    "lineNumber": 40,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Station.logo}"
      }
    ],
    "testTargets": [
      "Station.logo"
    ]
  },
  {
    "__docId__": 691,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it334",
    "testId": 334,
    "memberof": "unit/model/station.js~describe328.describe333",
    "testDepth": 2,
    "longname": "unit/model/station.js~describe328.describe333.it334",
    "access": null,
    "description": "should equal rel=\"logo\" brand link if it exists",
    "lineNumber": 41
  },
  {
    "__docId__": 692,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it335",
    "testId": 335,
    "memberof": "unit/model/station.js~describe328.describe333",
    "testDepth": 2,
    "longname": "unit/model/station.js~describe328.describe333.it335",
    "access": null,
    "description": "should be null and NOT the rel=\"small-logo\" brand link if equal rel=\"logo\" brand link does not exist",
    "lineNumber": 45
  },
  {
    "__docId__": 693,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it336",
    "testId": 336,
    "memberof": "unit/model/station.js~describe328.describe333",
    "testDepth": 2,
    "longname": "unit/model/station.js~describe328.describe333.it336",
    "access": null,
    "description": "should be null if none of the above exist",
    "lineNumber": 51
  },
  {
    "__docId__": 694,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe337",
    "testId": 337,
    "memberof": "unit/model/station.js~describe328",
    "testDepth": 1,
    "longname": "unit/model/station.js~describe328.describe337",
    "access": null,
    "description": "tagline",
    "lineNumber": 59,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Station.tagline}"
      }
    ],
    "testTargets": [
      "Station.tagline"
    ]
  },
  {
    "__docId__": 695,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it338",
    "testId": 338,
    "memberof": "unit/model/station.js~describe328.describe337",
    "testDepth": 2,
    "longname": "unit/model/station.js~describe328.describe337.it338",
    "access": null,
    "description": "should exist on test data",
    "lineNumber": 60
  },
  {
    "__docId__": 696,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it339",
    "testId": 339,
    "memberof": "unit/model/station.js~describe328.describe337",
    "testDepth": 2,
    "longname": "unit/model/station.js~describe328.describe337.it339",
    "access": null,
    "description": "should be an empty string if it does not exist",
    "lineNumber": 64
  },
  {
    "__docId__": 697,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe340",
    "testId": 340,
    "memberof": "unit/model/station.js~describe328",
    "testDepth": 1,
    "longname": "unit/model/station.js~describe328.describe340",
    "access": null,
    "description": "callSignAndFrequency",
    "lineNumber": 73,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Station.callSignAndFrequency}"
      }
    ],
    "testTargets": [
      "Station.callSignAndFrequency"
    ]
  },
  {
    "__docId__": 698,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it341",
    "testId": 341,
    "memberof": "unit/model/station.js~describe328.describe340",
    "testDepth": 2,
    "longname": "unit/model/station.js~describe328.describe340.it341",
    "access": null,
    "description": "should exist on test data",
    "lineNumber": 74
  },
  {
    "__docId__": 699,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it342",
    "testId": 342,
    "memberof": "unit/model/station.js~describe328.describe340",
    "testDepth": 2,
    "longname": "unit/model/station.js~describe328.describe340.it342",
    "access": null,
    "description": "should omit call if it does not exist on test data",
    "lineNumber": 78
  },
  {
    "__docId__": 700,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it343",
    "testId": 343,
    "memberof": "unit/model/station.js~describe328.describe340",
    "testDepth": 2,
    "longname": "unit/model/station.js~describe328.describe340.it343",
    "access": null,
    "description": "should omit band if it does not exist on test data",
    "lineNumber": 83
  },
  {
    "__docId__": 701,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it344",
    "testId": 344,
    "memberof": "unit/model/station.js~describe328.describe340",
    "testDepth": 2,
    "longname": "unit/model/station.js~describe328.describe340.it344",
    "access": null,
    "description": "should omit frequency if it does not exist on test data",
    "lineNumber": 88
  },
  {
    "__docId__": 702,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it345",
    "testId": 345,
    "memberof": "unit/model/station.js~describe328.describe340",
    "testDepth": 2,
    "longname": "unit/model/station.js~describe328.describe340.it345",
    "access": null,
    "description": "should return null if all attempted data is missing",
    "lineNumber": 93
  },
  {
    "__docId__": 703,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe346",
    "testId": 346,
    "memberof": "unit/model/station.js~describe328",
    "testDepth": 1,
    "longname": "unit/model/station.js~describe328.describe346",
    "access": null,
    "description": "location",
    "lineNumber": 103,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Station.location}"
      }
    ],
    "testTargets": [
      "Station.location"
    ]
  },
  {
    "__docId__": 704,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it347",
    "testId": 347,
    "memberof": "unit/model/station.js~describe328.describe346",
    "testDepth": 2,
    "longname": "unit/model/station.js~describe328.describe346.it347",
    "access": null,
    "description": "should exist on test data",
    "lineNumber": 104
  },
  {
    "__docId__": 705,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe348",
    "testId": 348,
    "memberof": "unit/model/station.js~describe328",
    "testDepth": 1,
    "longname": "unit/model/station.js~describe328.describe348",
    "access": null,
    "description": "homepageUrl",
    "lineNumber": 111,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Station.homepageUrl}"
      }
    ],
    "testTargets": [
      "Station.homepageUrl"
    ]
  },
  {
    "__docId__": 706,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it349",
    "testId": 349,
    "memberof": "unit/model/station.js~describe328.describe348",
    "testDepth": 2,
    "longname": "unit/model/station.js~describe328.describe348.it349",
    "access": null,
    "description": "should exist on test data",
    "lineNumber": 112
  },
  {
    "__docId__": 707,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it350",
    "testId": 350,
    "memberof": "unit/model/station.js~describe328.describe348",
    "testDepth": 2,
    "longname": "unit/model/station.js~describe328.describe348.it350",
    "access": null,
    "description": "should be null if only non-rel=\"homepage\" links exist",
    "lineNumber": 116
  },
  {
    "__docId__": 708,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it351",
    "testId": 351,
    "memberof": "unit/model/station.js~describe328.describe348",
    "testDepth": 2,
    "longname": "unit/model/station.js~describe328.describe348.it351",
    "access": null,
    "description": "should be null if none of the above exist",
    "lineNumber": 121
  },
  {
    "__docId__": 709,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe352",
    "testId": 352,
    "memberof": "unit/model/station.js~describe328",
    "testDepth": 1,
    "longname": "unit/model/station.js~describe328.describe352",
    "access": null,
    "description": "donationUrl",
    "lineNumber": 129,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Station.donationUrl}"
      }
    ],
    "testTargets": [
      "Station.donationUrl"
    ]
  },
  {
    "__docId__": 710,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it353",
    "testId": 353,
    "memberof": "unit/model/station.js~describe328.describe352",
    "testDepth": 2,
    "longname": "unit/model/station.js~describe328.describe352.it353",
    "access": null,
    "description": "should equal type 27 donation link if it exists",
    "lineNumber": 130
  },
  {
    "__docId__": 711,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it354",
    "testId": 354,
    "memberof": "unit/model/station.js~describe328.describe352",
    "testDepth": 2,
    "longname": "unit/model/station.js~describe328.describe352.it354",
    "access": null,
    "description": "should equal type 4 donation link if type 27 donation does not exist",
    "lineNumber": 134
  },
  {
    "__docId__": 712,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it355",
    "testId": 355,
    "memberof": "unit/model/station.js~describe328.describe352",
    "testDepth": 2,
    "longname": "unit/model/station.js~describe328.describe352.it355",
    "access": null,
    "description": "should be null if none of the above exist",
    "lineNumber": 141
  },
  {
    "__docId__": 713,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe356",
    "testId": 356,
    "memberof": "unit/model/station.js~describe328",
    "testDepth": 1,
    "longname": "unit/model/station.js~describe328.describe356",
    "access": null,
    "description": "attributes",
    "lineNumber": 149,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Station.attributes}"
      }
    ],
    "testTargets": [
      "Station.attributes"
    ]
  },
  {
    "__docId__": 714,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it357",
    "testId": 357,
    "memberof": "unit/model/station.js~describe328.describe356",
    "testDepth": 2,
    "longname": "unit/model/station.js~describe328.describe356.it357",
    "access": null,
    "description": "should exist on test data",
    "lineNumber": 150
  },
  {
    "__docId__": 715,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe358",
    "testId": 358,
    "memberof": "unit/model/station.js~describe328",
    "testDepth": 1,
    "longname": "unit/model/station.js~describe328.describe358",
    "access": null,
    "description": "toString",
    "lineNumber": 157,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Station#toString}"
      }
    ],
    "testTargets": [
      "Station#toString"
    ]
  },
  {
    "__docId__": 716,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it359",
    "testId": 359,
    "memberof": "unit/model/station.js~describe328.describe358",
    "testDepth": 2,
    "longname": "unit/model/station.js~describe328.describe358.it359",
    "access": null,
    "description": "should exist on test data",
    "lineNumber": 158
  },
  {
    "__docId__": 717,
    "kind": "testFile",
    "static": true,
    "variation": null,
    "name": "unit/model/user.js",
    "memberof": null,
    "longname": "unit/model/user.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import chai from 'chai';\nimport User from '../../../src/model/user';\nimport { IDENTITY_V2_USER_RESPONSE } from '../../test-data';\n\nconst should = chai.should();\n\n/** @test {User} */\ndescribe('User', () => {\n    /** @type User */\n    let user;\n    let responseClone;\n\n    beforeEach(() => {\n        responseClone = JSON.parse(JSON.stringify(IDENTITY_V2_USER_RESPONSE));\n        user = new User(responseClone);\n    });\n\n    /** @test {User#constructor} */\n    describe('constructor', () => {\n        it('should hydrate the model', () => {\n            user.attributes.cohort.should.exist;\n            user.attributes.affiliations.length.should.equal(3);\n            user.attributes.organizations.length.should.equal(3);\n            user.collectionDoc.should.equal(responseClone);\n        });\n    });\n\n    /** @test {User#isTemporary} */\n    describe('isTemporary', () => {\n        it('should be true for a temporary user', () => {\n            user.attributes.id = 1020170792;\n\n            user.isTemporary().should.be.true;\n        });\n\n        it('should be false for a non-temporary user', () => {\n            user.isTemporary().should.be.false;\n        });\n    });\n\n    /** @test {User#getCohort} */\n    describe('getCohort', () => {\n        it('should match the API response', () => {\n            user.getCohort().should.equal(responseClone.attributes.cohort);\n        });\n    });\n\n    /** @test {User#getOrganizations} */\n    describe('getOrganizations', () => {\n        it('should match the API response', () => {\n            user.getOrganizations().should.equal(responseClone.attributes.organizations);\n        });\n\n        it('should return an array even if the API data is undefined', () => {\n            user.attributes.organizations = undefined;\n\n            user.getOrganizations().should.be.instanceof(Array);\n            user.getOrganizations().length.should.equal(0);\n        });\n    });\n\n    /** @test {User#getPrimaryOrganization} */\n    describe('getPrimaryOrganization', () => {\n        it('should match the API response', () => {\n            user.getPrimaryOrganization().should.equal(responseClone.attributes.organizations[0]);\n        });\n\n        it('should return an array even if the API data is undefined', () => {\n            user.attributes.organizations = undefined;\n\n            should.not.exist(user.getPrimaryOrganization());\n        });\n    });\n\n    /** @test {User#getAffiliations} */\n    describe('getAffiliations', () => {\n        it('should match the API response', () => {\n            user.getAffiliations().should.equal(responseClone.attributes.affiliations);\n        });\n    });\n\n    /** @test {User#toString} */\n    describe('toString', () => {\n        it('should match the \"id\" value from the API response', () => {\n            user.toString().should.equal(responseClone.attributes.id);\n        });\n    });\n});\n"
  },
  {
    "__docId__": 718,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe360",
    "testId": 360,
    "memberof": "unit/model/user.js",
    "testDepth": 0,
    "longname": "unit/model/user.js~describe360",
    "access": null,
    "description": "User",
    "lineNumber": 8,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{User}"
      }
    ],
    "testTargets": [
      "User"
    ]
  },
  {
    "__docId__": 719,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe361",
    "testId": 361,
    "memberof": "unit/model/user.js~describe360",
    "testDepth": 1,
    "longname": "unit/model/user.js~describe360.describe361",
    "access": null,
    "description": "constructor",
    "lineNumber": 19,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{User#constructor}"
      }
    ],
    "testTargets": [
      "User#constructor"
    ]
  },
  {
    "__docId__": 720,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it362",
    "testId": 362,
    "memberof": "unit/model/user.js~describe360.describe361",
    "testDepth": 2,
    "longname": "unit/model/user.js~describe360.describe361.it362",
    "access": null,
    "description": "should hydrate the model",
    "lineNumber": 20
  },
  {
    "__docId__": 721,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe363",
    "testId": 363,
    "memberof": "unit/model/user.js~describe360",
    "testDepth": 1,
    "longname": "unit/model/user.js~describe360.describe363",
    "access": null,
    "description": "isTemporary",
    "lineNumber": 29,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{User#isTemporary}"
      }
    ],
    "testTargets": [
      "User#isTemporary"
    ]
  },
  {
    "__docId__": 722,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it364",
    "testId": 364,
    "memberof": "unit/model/user.js~describe360.describe363",
    "testDepth": 2,
    "longname": "unit/model/user.js~describe360.describe363.it364",
    "access": null,
    "description": "should be true for a temporary user",
    "lineNumber": 30
  },
  {
    "__docId__": 723,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it365",
    "testId": 365,
    "memberof": "unit/model/user.js~describe360.describe363",
    "testDepth": 2,
    "longname": "unit/model/user.js~describe360.describe363.it365",
    "access": null,
    "description": "should be false for a non-temporary user",
    "lineNumber": 36
  },
  {
    "__docId__": 724,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe366",
    "testId": 366,
    "memberof": "unit/model/user.js~describe360",
    "testDepth": 1,
    "longname": "unit/model/user.js~describe360.describe366",
    "access": null,
    "description": "getCohort",
    "lineNumber": 42,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{User#getCohort}"
      }
    ],
    "testTargets": [
      "User#getCohort"
    ]
  },
  {
    "__docId__": 725,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it367",
    "testId": 367,
    "memberof": "unit/model/user.js~describe360.describe366",
    "testDepth": 2,
    "longname": "unit/model/user.js~describe360.describe366.it367",
    "access": null,
    "description": "should match the API response",
    "lineNumber": 43
  },
  {
    "__docId__": 726,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe368",
    "testId": 368,
    "memberof": "unit/model/user.js~describe360",
    "testDepth": 1,
    "longname": "unit/model/user.js~describe360.describe368",
    "access": null,
    "description": "getOrganizations",
    "lineNumber": 49,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{User#getOrganizations}"
      }
    ],
    "testTargets": [
      "User#getOrganizations"
    ]
  },
  {
    "__docId__": 727,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it369",
    "testId": 369,
    "memberof": "unit/model/user.js~describe360.describe368",
    "testDepth": 2,
    "longname": "unit/model/user.js~describe360.describe368.it369",
    "access": null,
    "description": "should match the API response",
    "lineNumber": 50
  },
  {
    "__docId__": 728,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it370",
    "testId": 370,
    "memberof": "unit/model/user.js~describe360.describe368",
    "testDepth": 2,
    "longname": "unit/model/user.js~describe360.describe368.it370",
    "access": null,
    "description": "should return an array even if the API data is undefined",
    "lineNumber": 54
  },
  {
    "__docId__": 729,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe371",
    "testId": 371,
    "memberof": "unit/model/user.js~describe360",
    "testDepth": 1,
    "longname": "unit/model/user.js~describe360.describe371",
    "access": null,
    "description": "getPrimaryOrganization",
    "lineNumber": 63,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{User#getPrimaryOrganization}"
      }
    ],
    "testTargets": [
      "User#getPrimaryOrganization"
    ]
  },
  {
    "__docId__": 730,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it372",
    "testId": 372,
    "memberof": "unit/model/user.js~describe360.describe371",
    "testDepth": 2,
    "longname": "unit/model/user.js~describe360.describe371.it372",
    "access": null,
    "description": "should match the API response",
    "lineNumber": 64
  },
  {
    "__docId__": 731,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it373",
    "testId": 373,
    "memberof": "unit/model/user.js~describe360.describe371",
    "testDepth": 2,
    "longname": "unit/model/user.js~describe360.describe371.it373",
    "access": null,
    "description": "should return an array even if the API data is undefined",
    "lineNumber": 68
  },
  {
    "__docId__": 732,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe374",
    "testId": 374,
    "memberof": "unit/model/user.js~describe360",
    "testDepth": 1,
    "longname": "unit/model/user.js~describe360.describe374",
    "access": null,
    "description": "getAffiliations",
    "lineNumber": 76,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{User#getAffiliations}"
      }
    ],
    "testTargets": [
      "User#getAffiliations"
    ]
  },
  {
    "__docId__": 733,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it375",
    "testId": 375,
    "memberof": "unit/model/user.js~describe360.describe374",
    "testDepth": 2,
    "longname": "unit/model/user.js~describe360.describe374.it375",
    "access": null,
    "description": "should match the API response",
    "lineNumber": 77
  },
  {
    "__docId__": 734,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe376",
    "testId": 376,
    "memberof": "unit/model/user.js~describe360",
    "testDepth": 1,
    "longname": "unit/model/user.js~describe360.describe376",
    "access": null,
    "description": "toString",
    "lineNumber": 83,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{User#toString}"
      }
    ],
    "testTargets": [
      "User#toString"
    ]
  },
  {
    "__docId__": 735,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it377",
    "testId": 377,
    "memberof": "unit/model/user.js~describe360.describe376",
    "testDepth": 2,
    "longname": "unit/model/user.js~describe360.describe376.it377",
    "access": null,
    "description": "should match the \"id\" value from the API response",
    "lineNumber": 84
  },
  {
    "__docId__": 736,
    "kind": "testFile",
    "static": true,
    "variation": null,
    "name": "unit/util/recommender-creator.js",
    "memberof": null,
    "longname": "unit/util/recommender-creator.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import chai from 'chai';\nimport createRecommendations from '../../../src/util/recommendation-creator.js';\nimport { LISTENING_V2_RECOMMENDATIONS_RESPONSE } from '../../test-data';\n\nconst should = chai.should();\n\n/** @test {createRecommendations} */\ndescribe('createRecommendations', () => {\n    let responseClone;\n\n    beforeEach(() => {\n        responseClone = JSON.parse(JSON.stringify(LISTENING_V2_RECOMMENDATIONS_RESPONSE));\n    });\n\n    it('should create an array of recommendations with valid input', () => {\n        const recommendations = createRecommendations(responseClone);\n\n        recommendations.length.should.equal(6);\n    });\n\n    it('should filter out recommendations which are not valid', () => {\n        delete responseClone.items[3].links.audio;\n        delete responseClone.items[2].links.recommendations;\n        const recommendations = createRecommendations(responseClone);\n\n        recommendations.length.should.equal(4);\n    });\n});\n"
  },
  {
    "__docId__": 737,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe378",
    "testId": 378,
    "memberof": "unit/util/recommender-creator.js",
    "testDepth": 0,
    "longname": "unit/util/recommender-creator.js~describe378",
    "access": null,
    "description": "createRecommendations",
    "lineNumber": 8,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{createRecommendations}"
      }
    ],
    "testTargets": [
      "createRecommendations"
    ]
  },
  {
    "__docId__": 738,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it379",
    "testId": 379,
    "memberof": "unit/util/recommender-creator.js~describe378",
    "testDepth": 1,
    "longname": "unit/util/recommender-creator.js~describe378.it379",
    "access": null,
    "description": "should create an array of recommendations with valid input",
    "lineNumber": 15
  },
  {
    "__docId__": 739,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it380",
    "testId": 380,
    "memberof": "unit/util/recommender-creator.js~describe378",
    "testDepth": 1,
    "longname": "unit/util/recommender-creator.js~describe378.it380",
    "access": null,
    "description": "should filter out recommendations which are not valid",
    "lineNumber": 21
  },
  {
    "__docId__": 740,
    "kind": "testFile",
    "static": true,
    "variation": null,
    "name": "unit/util/validator.js",
    "memberof": null,
    "longname": "unit/util/validator.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import chai from 'chai';\nimport Validator from '../../../src/util/validator.js';\nimport { IDENTITY_V2_USER_RESPONSE, ACCESS_TOKEN_RESPONSE, DEVICE_CODE_RESPONSE } from '../../test-data';\n\n\nconst should = chai.should();\n\n\n/** @test {Validator} */\ndescribe('Validator', () => {\n    let responseClone;\n\n\n    /** @test {Validator.validateCollectionDoc} */\n    describe('validateCollectionDoc', () => {\n        beforeEach(() => {\n            responseClone = JSON.parse(JSON.stringify(IDENTITY_V2_USER_RESPONSE));\n        });\n\n        it('should not throw an error on valid input', () => {\n            should.not.exist(Validator.validateCollectionDoc(responseClone));\n        });\n\n        it('should throw an error on invalid input', () => {\n            delete responseClone.version;\n            should.Throw(Validator.validateCollectionDoc.bind(this, responseClone));\n        });\n    });\n\n\n    /** @test {Validator.validateAccessToken} */\n    describe('validateAccessToken', () => {\n        beforeEach(() => {\n            responseClone = JSON.parse(JSON.stringify(ACCESS_TOKEN_RESPONSE));\n        });\n\n        it('should not throw an error on valid input', () => {\n            should.not.exist(Validator.validateAccessToken(responseClone));\n        });\n\n        it('should throw an error on invalid input', () => {\n            delete responseClone.token_type;\n            should.Throw(Validator.validateAccessToken.bind(this, responseClone));\n        });\n    });\n\n\n    /** @test {Validator.validateDeviceCode} */\n    describe('validateDeviceCode', () => {\n        beforeEach(() => {\n            responseClone = JSON.parse(JSON.stringify(DEVICE_CODE_RESPONSE));\n        });\n\n        it('should not throw an error on valid input', () => {\n            should.not.exist(Validator.validateDeviceCode(responseClone));\n        });\n\n        it('should throw an error on invalid input', () => {\n            delete responseClone.verification_uri;\n            should.Throw(Validator.validateDeviceCode.bind(this, responseClone));\n        });\n    });\n});\n"
  },
  {
    "__docId__": 741,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe381",
    "testId": 381,
    "memberof": "unit/util/validator.js",
    "testDepth": 0,
    "longname": "unit/util/validator.js~describe381",
    "access": null,
    "description": "Validator",
    "lineNumber": 10,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Validator}"
      }
    ],
    "testTargets": [
      "Validator"
    ]
  },
  {
    "__docId__": 742,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe382",
    "testId": 382,
    "memberof": "unit/util/validator.js~describe381",
    "testDepth": 1,
    "longname": "unit/util/validator.js~describe381.describe382",
    "access": null,
    "description": "validateCollectionDoc",
    "lineNumber": 15,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Validator.validateCollectionDoc}"
      }
    ],
    "testTargets": [
      "Validator.validateCollectionDoc"
    ]
  },
  {
    "__docId__": 743,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it383",
    "testId": 383,
    "memberof": "unit/util/validator.js~describe381.describe382",
    "testDepth": 2,
    "longname": "unit/util/validator.js~describe381.describe382.it383",
    "access": null,
    "description": "should not throw an error on valid input",
    "lineNumber": 20
  },
  {
    "__docId__": 744,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it384",
    "testId": 384,
    "memberof": "unit/util/validator.js~describe381.describe382",
    "testDepth": 2,
    "longname": "unit/util/validator.js~describe381.describe382.it384",
    "access": null,
    "description": "should throw an error on invalid input",
    "lineNumber": 24
  },
  {
    "__docId__": 745,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe385",
    "testId": 385,
    "memberof": "unit/util/validator.js~describe381",
    "testDepth": 1,
    "longname": "unit/util/validator.js~describe381.describe385",
    "access": null,
    "description": "validateAccessToken",
    "lineNumber": 32,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Validator.validateAccessToken}"
      }
    ],
    "testTargets": [
      "Validator.validateAccessToken"
    ]
  },
  {
    "__docId__": 746,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it386",
    "testId": 386,
    "memberof": "unit/util/validator.js~describe381.describe385",
    "testDepth": 2,
    "longname": "unit/util/validator.js~describe381.describe385.it386",
    "access": null,
    "description": "should not throw an error on valid input",
    "lineNumber": 37
  },
  {
    "__docId__": 747,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it387",
    "testId": 387,
    "memberof": "unit/util/validator.js~describe381.describe385",
    "testDepth": 2,
    "longname": "unit/util/validator.js~describe381.describe385.it387",
    "access": null,
    "description": "should throw an error on invalid input",
    "lineNumber": 41
  },
  {
    "__docId__": 748,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe388",
    "testId": 388,
    "memberof": "unit/util/validator.js~describe381",
    "testDepth": 1,
    "longname": "unit/util/validator.js~describe381.describe388",
    "access": null,
    "description": "validateDeviceCode",
    "lineNumber": 49,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Validator.validateDeviceCode}"
      }
    ],
    "testTargets": [
      "Validator.validateDeviceCode"
    ]
  },
  {
    "__docId__": 749,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it389",
    "testId": 389,
    "memberof": "unit/util/validator.js~describe381.describe388",
    "testDepth": 2,
    "longname": "unit/util/validator.js~describe381.describe388.it389",
    "access": null,
    "description": "should not throw an error on valid input",
    "lineNumber": 54
  },
  {
    "__docId__": 750,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it390",
    "testId": 390,
    "memberof": "unit/util/validator.js~describe381.describe388",
    "testDepth": 2,
    "longname": "unit/util/validator.js~describe381.describe388.it390",
    "access": null,
    "description": "should throw an error on invalid input",
    "lineNumber": 58
  }
]